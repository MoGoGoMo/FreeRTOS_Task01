ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"bsp_uart_fifo.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.UartVarInit,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	UartVarInit:
  26              	.LFB136:
  27              		.file 1 "bsp/src/bsp_uart_fifo.c"
   1:bsp/src/bsp_uart_fifo.c **** /**
   2:bsp/src/bsp_uart_fifo.c ****   ******************************************************************************
   3:bsp/src/bsp_uart_fifo.c ****   * @file    Project/F446_T1/bsp_usart_fifo.c
   4:bsp/src/bsp_uart_fifo.c ****   * @author  Gordon Tao
   5:bsp/src/bsp_uart_fifo.c ****   * @version V0.1
   6:bsp/src/bsp_uart_fifo.c ****   * @date    27-June-2019
   7:bsp/src/bsp_uart_fifo.c ****   * @brief   Source file for USART  module
   8:bsp/src/bsp_uart_fifo.c ****   ******************************************************************************
   9:bsp/src/bsp_uart_fifo.c ****   * @attention
  10:bsp/src/bsp_uart_fifo.c ****   * @Modified_log:
  11:bsp/src/bsp_uart_fifo.c ****   * Versions:            Date              Author            Description
  12:bsp/src/bsp_uart_fifo.c ****   * 0.1              2019-06-27           Gordon         first version of USART function
  13:bsp/src/bsp_uart_fifo.c ****   *
  14:bsp/src/bsp_uart_fifo.c ****   * <h2><center>&copy; COPYRIGHT 2019 MOGO Technology</center></h2>
  15:bsp/src/bsp_uart_fifo.c ****   *
  16:bsp/src/bsp_uart_fifo.c ****   ******************************************************************************
  17:bsp/src/bsp_uart_fifo.c ****   */
  18:bsp/src/bsp_uart_fifo.c **** 
  19:bsp/src/bsp_uart_fifo.c **** #include "bsp.h"
  20:bsp/src/bsp_uart_fifo.c **** 
  21:bsp/src/bsp_uart_fifo.c **** /* Define the USART Structure for each one */
  22:bsp/src/bsp_uart_fifo.c **** #if UART1_FIFO_EN == 1
  23:bsp/src/bsp_uart_fifo.c **** 	static UartStr_TypeDef g_tUart1;
  24:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_TxBuf1[UART1_TX_BUF_SIZE];		
  25:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_RxBuf1[UART1_RX_BUF_SIZE];		
  26:bsp/src/bsp_uart_fifo.c **** #endif
  27:bsp/src/bsp_uart_fifo.c **** 
  28:bsp/src/bsp_uart_fifo.c **** #if UART2_FIFO_EN == 1
  29:bsp/src/bsp_uart_fifo.c **** 	static UartStr_TypeDef g_tUart2;
  30:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_TxBuf2[UART2_TX_BUF_SIZE];		
  31:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_RxBuf2[UART2_RX_BUF_SIZE];		
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 2


  32:bsp/src/bsp_uart_fifo.c **** #endif
  33:bsp/src/bsp_uart_fifo.c **** 
  34:bsp/src/bsp_uart_fifo.c **** #if UART3_FIFO_EN == 1
  35:bsp/src/bsp_uart_fifo.c **** 	static UartStr_TypeDef g_tUart3;
  36:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_TxBuf3[UART3_TX_BUF_SIZE];		
  37:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_RxBuf3[UART3_RX_BUF_SIZE];		
  38:bsp/src/bsp_uart_fifo.c **** #endif
  39:bsp/src/bsp_uart_fifo.c **** 
  40:bsp/src/bsp_uart_fifo.c **** #if UART4_FIFO_EN == 1
  41:bsp/src/bsp_uart_fifo.c **** 	static UartStr_TypeDef g_tUart4;
  42:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_TxBuf4[UART4_TX_BUF_SIZE];		
  43:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_RxBuf4[UART4_RX_BUF_SIZE];		
  44:bsp/src/bsp_uart_fifo.c **** #endif
  45:bsp/src/bsp_uart_fifo.c **** 
  46:bsp/src/bsp_uart_fifo.c **** #if UART5_FIFO_EN == 1
  47:bsp/src/bsp_uart_fifo.c **** 	static UartStr_TypeDef g_tUart5;
  48:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_TxBuf5[UART5_TX_BUF_SIZE];		
  49:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_RxBuf5[UART5_RX_BUF_SIZE];		
  50:bsp/src/bsp_uart_fifo.c **** #endif
  51:bsp/src/bsp_uart_fifo.c **** 
  52:bsp/src/bsp_uart_fifo.c **** #if UART6_FIFO_EN == 1
  53:bsp/src/bsp_uart_fifo.c **** 	static UartStr_TypeDef g_tUart6;
  54:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_TxBuf6[UART6_TX_BUF_SIZE];		
  55:bsp/src/bsp_uart_fifo.c **** 	static uint8_t g_RxBuf6[UART6_RX_BUF_SIZE];		
  56:bsp/src/bsp_uart_fifo.c **** #endif
  57:bsp/src/bsp_uart_fifo.c **** 
  58:bsp/src/bsp_uart_fifo.c **** static void UartVarInit(void);
  59:bsp/src/bsp_uart_fifo.c **** 
  60:bsp/src/bsp_uart_fifo.c **** static void InitHardUart(void);
  61:bsp/src/bsp_uart_fifo.c **** static void UartSend(UartStr_TypeDef *_pUart, uint8_t *_ucaBuf, uint16_t _usLen);
  62:bsp/src/bsp_uart_fifo.c **** static uint8_t UartGetChar(UartStr_TypeDef *_pUart, uint8_t *_pByte);
  63:bsp/src/bsp_uart_fifo.c **** static void UartIRQ(UartStr_TypeDef *_pUart);
  64:bsp/src/bsp_uart_fifo.c **** static void ConfigUartNVIC(void);
  65:bsp/src/bsp_uart_fifo.c **** 
  66:bsp/src/bsp_uart_fifo.c **** /*
  67:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
  68:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: bsp_InitUart
  69:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: åˆå§‹åŒ–ä¸²å£ç¡¬ä»¶ï¼Œå¹¶å¯¹å…¨å±€å˜é‡èµ‹åˆå€¼.
  70:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚:  æ— 
  71:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
  72:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
  73:bsp/src/bsp_uart_fifo.c **** */
  74:bsp/src/bsp_uart_fifo.c **** void bsp_InitUart(void)
  75:bsp/src/bsp_uart_fifo.c **** {
  76:bsp/src/bsp_uart_fifo.c **** 	UartVarInit();		
  77:bsp/src/bsp_uart_fifo.c **** 
  78:bsp/src/bsp_uart_fifo.c **** 	InitHardUart();		
  79:bsp/src/bsp_uart_fifo.c **** 
  80:bsp/src/bsp_uart_fifo.c **** 	ConfigUartNVIC();	
  81:bsp/src/bsp_uart_fifo.c **** }
  82:bsp/src/bsp_uart_fifo.c **** 
  83:bsp/src/bsp_uart_fifo.c **** /*
  84:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
  85:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: ComToUart
  86:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: å°†COMç«¯å£å·è½¬æ¢ä¸ºUARTæŒ‡é’ˆ
  87:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: _ucPort: ç«¯å£å·(COM1 - COM6)
  88:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: uartæŒ‡é’ˆ
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 3


  89:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
  90:bsp/src/bsp_uart_fifo.c **** */
  91:bsp/src/bsp_uart_fifo.c **** UartStr_TypeDef *ComToUart(UartPort_TypeDef _ucPort)
  92:bsp/src/bsp_uart_fifo.c **** {
  93:bsp/src/bsp_uart_fifo.c **** 	if (_ucPort == COM1)
  94:bsp/src/bsp_uart_fifo.c **** 	{
  95:bsp/src/bsp_uart_fifo.c **** 		#if UART1_FIFO_EN == 1
  96:bsp/src/bsp_uart_fifo.c **** 			return &g_tUart1;
  97:bsp/src/bsp_uart_fifo.c **** 		#else
  98:bsp/src/bsp_uart_fifo.c **** 			return 0;
  99:bsp/src/bsp_uart_fifo.c **** 		#endif
 100:bsp/src/bsp_uart_fifo.c **** 	}
 101:bsp/src/bsp_uart_fifo.c **** 	else if (_ucPort == COM2)
 102:bsp/src/bsp_uart_fifo.c **** 	{
 103:bsp/src/bsp_uart_fifo.c **** 		#if UART2_FIFO_EN == 1
 104:bsp/src/bsp_uart_fifo.c **** 			return &g_tUart2;
 105:bsp/src/bsp_uart_fifo.c **** 		#else
 106:bsp/src/bsp_uart_fifo.c **** 			return;
 107:bsp/src/bsp_uart_fifo.c **** 		#endif
 108:bsp/src/bsp_uart_fifo.c **** 	}
 109:bsp/src/bsp_uart_fifo.c **** 	else if (_ucPort == COM3)
 110:bsp/src/bsp_uart_fifo.c **** 	{
 111:bsp/src/bsp_uart_fifo.c **** 		#if UART3_FIFO_EN == 1
 112:bsp/src/bsp_uart_fifo.c **** 			return &g_tUart3;
 113:bsp/src/bsp_uart_fifo.c **** 		#else
 114:bsp/src/bsp_uart_fifo.c **** 			return 0;
 115:bsp/src/bsp_uart_fifo.c **** 		#endif
 116:bsp/src/bsp_uart_fifo.c **** 	}
 117:bsp/src/bsp_uart_fifo.c **** 	else if (_ucPort == COM4)
 118:bsp/src/bsp_uart_fifo.c **** 	{
 119:bsp/src/bsp_uart_fifo.c **** 		#if UART4_FIFO_EN == 1
 120:bsp/src/bsp_uart_fifo.c **** 			return &g_tUart4;
 121:bsp/src/bsp_uart_fifo.c **** 		#else
 122:bsp/src/bsp_uart_fifo.c **** 			return 0;
 123:bsp/src/bsp_uart_fifo.c **** 		#endif
 124:bsp/src/bsp_uart_fifo.c **** 	}
 125:bsp/src/bsp_uart_fifo.c **** 	else if (_ucPort == COM5)
 126:bsp/src/bsp_uart_fifo.c **** 	{
 127:bsp/src/bsp_uart_fifo.c **** 		#if UART5_FIFO_EN == 1
 128:bsp/src/bsp_uart_fifo.c **** 			return &g_tUart5;
 129:bsp/src/bsp_uart_fifo.c **** 		#else
 130:bsp/src/bsp_uart_fifo.c **** 			return 0;
 131:bsp/src/bsp_uart_fifo.c **** 		#endif
 132:bsp/src/bsp_uart_fifo.c **** 	}
 133:bsp/src/bsp_uart_fifo.c **** 	else if (_ucPort == COM6)
 134:bsp/src/bsp_uart_fifo.c **** 	{
 135:bsp/src/bsp_uart_fifo.c **** 		#if UART6_FIFO_EN == 1
 136:bsp/src/bsp_uart_fifo.c **** 			return &g_tUart6;
 137:bsp/src/bsp_uart_fifo.c **** 		#else
 138:bsp/src/bsp_uart_fifo.c **** 			return 0;
 139:bsp/src/bsp_uart_fifo.c **** 		#endif
 140:bsp/src/bsp_uart_fifo.c **** 	}
 141:bsp/src/bsp_uart_fifo.c **** 	else
 142:bsp/src/bsp_uart_fifo.c **** 	{
 143:bsp/src/bsp_uart_fifo.c **** 		/* ä¸åšä»»ä½•å¤„ç† */
 144:bsp/src/bsp_uart_fifo.c **** 		return 0;
 145:bsp/src/bsp_uart_fifo.c **** 	}
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 4


 146:bsp/src/bsp_uart_fifo.c **** }
 147:bsp/src/bsp_uart_fifo.c **** 
 148:bsp/src/bsp_uart_fifo.c **** 
 149:bsp/src/bsp_uart_fifo.c **** /*
 150:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 151:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: ComToUart
 152:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: å°†COMç«¯å£å·è½¬æ¢ä¸º USART_TypeDef* USARTx
 153:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: _ucPort: ç«¯å£å·(COM1 - COM6)
 154:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: USART_TypeDef*,  USART1, USART2, USART3, UART4, UART5
 155:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 156:bsp/src/bsp_uart_fifo.c **** */
 157:bsp/src/bsp_uart_fifo.c **** USART_TypeDef *ComToUSARTx(UartPort_TypeDef _ucPort)
 158:bsp/src/bsp_uart_fifo.c **** {
 159:bsp/src/bsp_uart_fifo.c **** 	if (_ucPort == COM1)
 160:bsp/src/bsp_uart_fifo.c **** 	{
 161:bsp/src/bsp_uart_fifo.c **** 		#if UART1_FIFO_EN == 1
 162:bsp/src/bsp_uart_fifo.c **** 			return USART1;
 163:bsp/src/bsp_uart_fifo.c **** 		#else
 164:bsp/src/bsp_uart_fifo.c **** 			return 0;
 165:bsp/src/bsp_uart_fifo.c **** 		#endif
 166:bsp/src/bsp_uart_fifo.c **** 	}
 167:bsp/src/bsp_uart_fifo.c **** 	else if (_ucPort == COM2)
 168:bsp/src/bsp_uart_fifo.c **** 	{
 169:bsp/src/bsp_uart_fifo.c **** 		#if UART2_FIFO_EN == 1
 170:bsp/src/bsp_uart_fifo.c **** 			return USART2;
 171:bsp/src/bsp_uart_fifo.c **** 		#else
 172:bsp/src/bsp_uart_fifo.c **** 			return;
 173:bsp/src/bsp_uart_fifo.c **** 		#endif
 174:bsp/src/bsp_uart_fifo.c **** 	}
 175:bsp/src/bsp_uart_fifo.c **** 	else if (_ucPort == COM3)
 176:bsp/src/bsp_uart_fifo.c **** 	{
 177:bsp/src/bsp_uart_fifo.c **** 		#if UART3_FIFO_EN == 1
 178:bsp/src/bsp_uart_fifo.c **** 			return USART3;
 179:bsp/src/bsp_uart_fifo.c **** 		#else
 180:bsp/src/bsp_uart_fifo.c **** 			return 0;
 181:bsp/src/bsp_uart_fifo.c **** 		#endif
 182:bsp/src/bsp_uart_fifo.c **** 	}
 183:bsp/src/bsp_uart_fifo.c **** 	else if (_ucPort == COM4)
 184:bsp/src/bsp_uart_fifo.c **** 	{
 185:bsp/src/bsp_uart_fifo.c **** 		#if UART4_FIFO_EN == 1
 186:bsp/src/bsp_uart_fifo.c **** 			return USART4;
 187:bsp/src/bsp_uart_fifo.c **** 		#else
 188:bsp/src/bsp_uart_fifo.c **** 			return 0;
 189:bsp/src/bsp_uart_fifo.c **** 		#endif
 190:bsp/src/bsp_uart_fifo.c **** 	}
 191:bsp/src/bsp_uart_fifo.c **** 	else if (_ucPort == COM5)
 192:bsp/src/bsp_uart_fifo.c **** 	{
 193:bsp/src/bsp_uart_fifo.c **** 		#if UART5_FIFO_EN == 1
 194:bsp/src/bsp_uart_fifo.c **** 			return USART5;
 195:bsp/src/bsp_uart_fifo.c **** 		#else
 196:bsp/src/bsp_uart_fifo.c **** 			return 0;
 197:bsp/src/bsp_uart_fifo.c **** 		#endif
 198:bsp/src/bsp_uart_fifo.c **** 	}
 199:bsp/src/bsp_uart_fifo.c **** 	else
 200:bsp/src/bsp_uart_fifo.c **** 	{
 201:bsp/src/bsp_uart_fifo.c **** 		/* ä¸åšä»»ä½•å¤„ç† */
 202:bsp/src/bsp_uart_fifo.c **** 		return 0;
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 5


 203:bsp/src/bsp_uart_fifo.c **** 	}
 204:bsp/src/bsp_uart_fifo.c **** }
 205:bsp/src/bsp_uart_fifo.c **** 
 206:bsp/src/bsp_uart_fifo.c **** /*
 207:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 208:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: comSendBuf
 209:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: å‘ä¸²å£å‘é€ä¸€ç»„æ•°æ®ã€‚æ•°æ®æ”¾åˆ°å‘é€ç¼“å†²åŒºåç«‹å³è¿”å›ï¼Œç”±ä¸­æ–
 210:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: _ucPort: ç«¯å£å·(COM1 - COM6)
 211:bsp/src/bsp_uart_fifo.c **** *			  _ucaBuf: å¾…å‘é€çš„æ•°æ®ç¼“å†²åŒº
 212:bsp/src/bsp_uart_fifo.c **** *			  _usLen : æ•°æ®é•¿åº¦
 213:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
 214:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 215:bsp/src/bsp_uart_fifo.c **** */
 216:bsp/src/bsp_uart_fifo.c **** void comSendBuf(UartPort_TypeDef _ucPort, uint8_t *_ucaBuf, uint16_t _usLen)
 217:bsp/src/bsp_uart_fifo.c **** {
 218:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 219:bsp/src/bsp_uart_fifo.c **** 
 220:bsp/src/bsp_uart_fifo.c **** 	pUart = ComToUart(_ucPort);
 221:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 222:bsp/src/bsp_uart_fifo.c **** 	{
 223:bsp/src/bsp_uart_fifo.c **** 		return;
 224:bsp/src/bsp_uart_fifo.c **** 	}
 225:bsp/src/bsp_uart_fifo.c **** 
 226:bsp/src/bsp_uart_fifo.c **** 	if (pUart->SendBefor != 0)
 227:bsp/src/bsp_uart_fifo.c **** 	{
 228:bsp/src/bsp_uart_fifo.c **** 		pUart->SendBefor();		/* å¦‚æœæ˜¯RS485é€šä¿¡ï¼Œå¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°ä¸­å°†RS485è®¾ç½®ä¸ºå‘é€æ¨¡
 229:bsp/src/bsp_uart_fifo.c **** 	}
 230:bsp/src/bsp_uart_fifo.c **** 
 231:bsp/src/bsp_uart_fifo.c **** 	UartSend(pUart, _ucaBuf, _usLen);
 232:bsp/src/bsp_uart_fifo.c **** }
 233:bsp/src/bsp_uart_fifo.c **** 
 234:bsp/src/bsp_uart_fifo.c **** /*
 235:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 236:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: comSendChar
 237:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: å‘ä¸²å£å‘é€1ä¸ªå­—èŠ‚ã€‚æ•°æ®æ”¾åˆ°å‘é€ç¼“å†²åŒºåç«‹å³è¿”å›ï¼Œç”±ä¸­æ–­æ
 238:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: _ucPort: ç«¯å£å·(COM1 - COM6)
 239:bsp/src/bsp_uart_fifo.c **** *			  _ucByte: å¾…å‘é€çš„æ•°æ®
 240:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
 241:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 242:bsp/src/bsp_uart_fifo.c **** */
 243:bsp/src/bsp_uart_fifo.c **** void comSendChar(UartPort_TypeDef _ucPort, uint8_t _ucByte)
 244:bsp/src/bsp_uart_fifo.c **** {
 245:bsp/src/bsp_uart_fifo.c **** 	comSendBuf(_ucPort, &_ucByte, 1);
 246:bsp/src/bsp_uart_fifo.c **** }
 247:bsp/src/bsp_uart_fifo.c **** 
 248:bsp/src/bsp_uart_fifo.c **** /*
 249:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 250:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: comGetChar
 251:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: ä»æ¥æ”¶ç¼“å†²åŒºè¯»å–1å­—èŠ‚ï¼Œéé˜»å¡ã€‚æ— è®ºæœ‰æ— æ•°æ®å‡ç«‹å³è¿”å›ã€‚
 252:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: _ucPort: ç«¯å£å·(COM1 - COM5)
 253:bsp/src/bsp_uart_fifo.c **** *			  _pByte: æ¥æ”¶åˆ°çš„æ•°æ®å­˜æ”¾åœ¨è¿™ä¸ªåœ°å€
 254:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: 0 è¡¨ç¤ºæ— æ•°æ®, 1 è¡¨ç¤ºè¯»å–åˆ°æœ‰æ•ˆå­—èŠ‚
 255:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 256:bsp/src/bsp_uart_fifo.c **** */
 257:bsp/src/bsp_uart_fifo.c **** uint8_t comGetChar(UartPort_TypeDef _ucPort, uint8_t *_pByte)
 258:bsp/src/bsp_uart_fifo.c **** {
 259:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 6


 260:bsp/src/bsp_uart_fifo.c **** 
 261:bsp/src/bsp_uart_fifo.c **** 	pUart = ComToUart(_ucPort);
 262:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 263:bsp/src/bsp_uart_fifo.c **** 	{
 264:bsp/src/bsp_uart_fifo.c **** 		return 0;
 265:bsp/src/bsp_uart_fifo.c **** 	}
 266:bsp/src/bsp_uart_fifo.c **** 
 267:bsp/src/bsp_uart_fifo.c **** 	return UartGetChar(pUart, _pByte);
 268:bsp/src/bsp_uart_fifo.c **** }
 269:bsp/src/bsp_uart_fifo.c **** 
 270:bsp/src/bsp_uart_fifo.c **** /*
 271:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 272:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: comClearTxFifo
 273:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: æ¸…é›¶ä¸²å£å‘é€ç¼“å†²åŒº
 274:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: _ucPort: ç«¯å£å·(COM1 - COM6)
 275:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
 276:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 277:bsp/src/bsp_uart_fifo.c **** */
 278:bsp/src/bsp_uart_fifo.c **** void comClearTxFifo(UartPort_TypeDef _ucPort)
 279:bsp/src/bsp_uart_fifo.c **** {
 280:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 281:bsp/src/bsp_uart_fifo.c **** 
 282:bsp/src/bsp_uart_fifo.c **** 	pUart = ComToUart(_ucPort);
 283:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 284:bsp/src/bsp_uart_fifo.c **** 	{
 285:bsp/src/bsp_uart_fifo.c **** 		return;
 286:bsp/src/bsp_uart_fifo.c **** 	}
 287:bsp/src/bsp_uart_fifo.c **** 
 288:bsp/src/bsp_uart_fifo.c **** 	pUart->usTxWrite = 0;
 289:bsp/src/bsp_uart_fifo.c **** 	pUart->usTxRead = 0;
 290:bsp/src/bsp_uart_fifo.c **** 	pUart->usTxCount = 0;
 291:bsp/src/bsp_uart_fifo.c **** }
 292:bsp/src/bsp_uart_fifo.c **** 
 293:bsp/src/bsp_uart_fifo.c **** /*
 294:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 295:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: comClearRxFifo
 296:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: æ¸…é›¶ä¸²å£æ¥æ”¶ç¼“å†²åŒº
 297:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: _ucPort: ç«¯å£å·(COM1 - COM6)
 298:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
 299:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 300:bsp/src/bsp_uart_fifo.c **** */
 301:bsp/src/bsp_uart_fifo.c **** void comClearRxFifo(UartPort_TypeDef _ucPort)
 302:bsp/src/bsp_uart_fifo.c **** {
 303:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 304:bsp/src/bsp_uart_fifo.c **** 
 305:bsp/src/bsp_uart_fifo.c **** 	pUart = ComToUart(_ucPort);
 306:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 307:bsp/src/bsp_uart_fifo.c **** 	{
 308:bsp/src/bsp_uart_fifo.c **** 		return;
 309:bsp/src/bsp_uart_fifo.c **** 	}
 310:bsp/src/bsp_uart_fifo.c **** 
 311:bsp/src/bsp_uart_fifo.c **** 	pUart->usRxWrite = 0;
 312:bsp/src/bsp_uart_fifo.c **** 	pUart->usRxRead = 0;
 313:bsp/src/bsp_uart_fifo.c **** 	pUart->usRxCount = 0;
 314:bsp/src/bsp_uart_fifo.c **** }
 315:bsp/src/bsp_uart_fifo.c **** 
 316:bsp/src/bsp_uart_fifo.c **** /*
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 7


 317:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 318:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: comSetBaud
 319:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: è®¾ç½®ä¸²å£çš„æ³¢ç‰¹ç‡
 320:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: _ucPort: ç«¯å£å·(COM1 - COM5)
 321:bsp/src/bsp_uart_fifo.c **** *			  _BaudRate: æ³¢ç‰¹ç‡ï¼Œ0-4500000ï¼Œ æœ€å¤§4.5Mbps
 322:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
 323:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 324:bsp/src/bsp_uart_fifo.c **** */
 325:bsp/src/bsp_uart_fifo.c **** void comSetBaud(UartPort_TypeDef _ucPort, uint32_t _BaudRate)
 326:bsp/src/bsp_uart_fifo.c **** {
 327:bsp/src/bsp_uart_fifo.c **** 	USART_TypeDef* USARTx;
 328:bsp/src/bsp_uart_fifo.c **** 	
 329:bsp/src/bsp_uart_fifo.c **** 	USARTx = ComToUSARTx(_ucPort);
 330:bsp/src/bsp_uart_fifo.c **** 	if (USARTx == 0)
 331:bsp/src/bsp_uart_fifo.c **** 	{
 332:bsp/src/bsp_uart_fifo.c **** 		return;
 333:bsp/src/bsp_uart_fifo.c **** 	}
 334:bsp/src/bsp_uart_fifo.c **** 	
 335:bsp/src/bsp_uart_fifo.c **** 	USART_SetBaudRate(USARTx, _BaudRate);
 336:bsp/src/bsp_uart_fifo.c **** }
 337:bsp/src/bsp_uart_fifo.c **** 
 338:bsp/src/bsp_uart_fifo.c **** /*
 339:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 340:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: USART_SetBaudRate
 341:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: ä¿®æ”¹æ³¢ç‰¹ç‡å¯„å­˜å™¨ï¼Œä¸æ›´æ”¹å…¶ä»–è®¾ç½®ã€‚å¦‚æœä½¿ç”¨ USART_Initå‡½æ•°, å
 342:bsp/src/bsp_uart_fifo.c **** *			  æ ¹æ®å›ºä»¶åº“ä¸­ USART_Initå‡½æ•°ï¼Œå°†å…¶ä¸­é…ç½®æ³¢ç‰¹ç‡çš„éƒ¨åˆ†å•ç‹¬æå‡ºæ¥å°è£…ä
 343:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: USARTx : USART1, USART2, USART3, UART4, UART5
 344:bsp/src/bsp_uart_fifo.c **** *			  BaudRate : æ³¢ç‰¹ç‡ï¼Œå–å€¼ 0 - 4500000
 345:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
 346:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 347:bsp/src/bsp_uart_fifo.c **** */
 348:bsp/src/bsp_uart_fifo.c **** void USART_SetBaudRate(USART_TypeDef* USARTx, uint32_t BaudRate)
 349:bsp/src/bsp_uart_fifo.c **** {
 350:bsp/src/bsp_uart_fifo.c **** 	uint32_t tmpreg = 0x00, apbclock = 0x00;
 351:bsp/src/bsp_uart_fifo.c **** 	uint32_t integerdivider = 0x00;
 352:bsp/src/bsp_uart_fifo.c **** 	uint32_t fractionaldivider = 0x00;
 353:bsp/src/bsp_uart_fifo.c **** 	RCC_ClocksTypeDef RCC_ClocksStatus;
 354:bsp/src/bsp_uart_fifo.c **** 
 355:bsp/src/bsp_uart_fifo.c **** 	/* Check the parameters */
 356:bsp/src/bsp_uart_fifo.c **** 	assert_param(IS_USART_ALL_PERIPH(USARTx));
 357:bsp/src/bsp_uart_fifo.c **** 	assert_param(IS_USART_BAUDRATE(BaudRate));  
 358:bsp/src/bsp_uart_fifo.c **** 
 359:bsp/src/bsp_uart_fifo.c **** 	/*---------------------------- USART BRR Configuration -----------------------*/
 360:bsp/src/bsp_uart_fifo.c **** 	/* Configure the USART Baud Rate */
 361:bsp/src/bsp_uart_fifo.c **** 	RCC_GetClocksFreq(&RCC_ClocksStatus);
 362:bsp/src/bsp_uart_fifo.c **** 
 363:bsp/src/bsp_uart_fifo.c **** 	if ((USARTx == USART1) || (USARTx == USART6))
 364:bsp/src/bsp_uart_fifo.c **** 	{
 365:bsp/src/bsp_uart_fifo.c **** 		apbclock = RCC_ClocksStatus.PCLK2_Frequency;
 366:bsp/src/bsp_uart_fifo.c **** 	}
 367:bsp/src/bsp_uart_fifo.c **** 	else
 368:bsp/src/bsp_uart_fifo.c **** 	{
 369:bsp/src/bsp_uart_fifo.c **** 		apbclock = RCC_ClocksStatus.PCLK1_Frequency;
 370:bsp/src/bsp_uart_fifo.c **** 	}
 371:bsp/src/bsp_uart_fifo.c **** 
 372:bsp/src/bsp_uart_fifo.c **** 	/* Determine the integer part */
 373:bsp/src/bsp_uart_fifo.c **** 	if ((USARTx->CR1 & USART_CR1_OVER8) != 0)
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 8


 374:bsp/src/bsp_uart_fifo.c **** 	{
 375:bsp/src/bsp_uart_fifo.c **** 		/* Integer part computing in case Oversampling mode is 8 Samples */
 376:bsp/src/bsp_uart_fifo.c **** 		integerdivider = ((25 * apbclock) / (2 * (BaudRate)));    
 377:bsp/src/bsp_uart_fifo.c **** 	}
 378:bsp/src/bsp_uart_fifo.c **** 	else /* if ((USARTx->CR1 & USART_CR1_OVER8) == 0) */
 379:bsp/src/bsp_uart_fifo.c **** 	{
 380:bsp/src/bsp_uart_fifo.c **** 		/* Integer part computing in case Oversampling mode is 16 Samples */
 381:bsp/src/bsp_uart_fifo.c **** 		integerdivider = ((25 * apbclock) / (4 * (BaudRate)));    
 382:bsp/src/bsp_uart_fifo.c **** 	}
 383:bsp/src/bsp_uart_fifo.c **** 	tmpreg = (integerdivider / 100) << 4;
 384:bsp/src/bsp_uart_fifo.c **** 
 385:bsp/src/bsp_uart_fifo.c **** 	/* Determine the fractional part */
 386:bsp/src/bsp_uart_fifo.c **** 	fractionaldivider = integerdivider - (100 * (tmpreg >> 4));
 387:bsp/src/bsp_uart_fifo.c **** 
 388:bsp/src/bsp_uart_fifo.c **** 	/* Implement the fractional part in the register */
 389:bsp/src/bsp_uart_fifo.c **** 	if ((USARTx->CR1 & USART_CR1_OVER8) != 0)
 390:bsp/src/bsp_uart_fifo.c **** 	{
 391:bsp/src/bsp_uart_fifo.c **** 		tmpreg |= ((((fractionaldivider * 8) + 50) / 100)) & ((uint8_t)0x07);
 392:bsp/src/bsp_uart_fifo.c **** 	}
 393:bsp/src/bsp_uart_fifo.c **** 	else /* if ((USARTx->CR1 & USART_CR1_OVER8) == 0) */
 394:bsp/src/bsp_uart_fifo.c **** 	{
 395:bsp/src/bsp_uart_fifo.c **** 		tmpreg |= ((((fractionaldivider * 16) + 50) / 100)) & ((uint8_t)0x0F);
 396:bsp/src/bsp_uart_fifo.c **** 	}
 397:bsp/src/bsp_uart_fifo.c **** 
 398:bsp/src/bsp_uart_fifo.c **** 	/* Write to USART BRR register */
 399:bsp/src/bsp_uart_fifo.c **** 	USARTx->BRR = (uint16_t)tmpreg;
 400:bsp/src/bsp_uart_fifo.c **** }
 401:bsp/src/bsp_uart_fifo.c **** 
 402:bsp/src/bsp_uart_fifo.c **** /*
 403:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 404:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: UartVarInit
 405:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: åˆå§‹åŒ–ä¸²å£ç›¸å…³çš„å˜é‡
 406:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: æ— 
 407:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
 408:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 409:bsp/src/bsp_uart_fifo.c **** */
 410:bsp/src/bsp_uart_fifo.c **** static void UartVarInit(void)
 411:bsp/src/bsp_uart_fifo.c **** {
  28              		.loc 1 411 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 412:bsp/src/bsp_uart_fifo.c **** #if UART1_FIFO_EN == 1
 413:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.uart = USART1;						/* STM32 ä¸²å£è®¾å¤‡ */
 414:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.pTxBuf = g_TxBuf1;					/* å‘é€ç¼“å†²åŒºæŒ‡é’ˆ */
 415:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.pRxBuf = g_RxBuf1;					/* æ¥æ”¶ç¼“å†²åŒºæŒ‡é’ˆ */
 416:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.usTxBufSize = UART1_TX_BUF_SIZE;	/* å‘é€ç¼“å†²åŒºå¤§å° */
 417:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.usRxBufSize = UART1_RX_BUF_SIZE;	/* æ¥æ”¶ç¼“å†²åŒºå¤§å° */
 418:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.usTxWrite = 0;						/* å‘é€FIFOå†™ç´¢å¼• */
 419:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.usTxRead = 0;						/* å‘é€FIFOè¯»ç´¢å¼• */
 420:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.usRxWrite = 0;						/* æ¥æ”¶FIFOå†™ç´¢å¼• */
 421:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.usRxRead = 0;						/* æ¥æ”¶FIFOè¯»ç´¢å¼• */
 422:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.usRxCount = 0;						/* æ¥æ”¶åˆ°çš„æ–°æ•°æ®ä¸ªæ•° */
 423:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.usTxCount = 0;						/* å¾…å‘é€çš„æ•°æ®ä¸ªæ•° */
 424:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.SendBefor = 0;						/* å‘é€æ•°æ®å‰çš„å›è°ƒå‡½æ•° */
 425:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.SendOver = 0;						/* å‘é€å®Œæ¯•åçš„å›è°ƒå‡½æ•° */
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 9


 426:bsp/src/bsp_uart_fifo.c **** 	g_tUart1.ReciveNew = 0;						/* æ¥æ”¶åˆ°æ–°æ•°æ®åçš„å›è°ƒå‡½æ•° */
 427:bsp/src/bsp_uart_fifo.c **** #endif
 428:bsp/src/bsp_uart_fifo.c **** 
 429:bsp/src/bsp_uart_fifo.c **** #if UART2_FIFO_EN == 1
 430:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.uart = USART2;						/* STM32 ä¸²å£è®¾å¤‡ */
  33              		.loc 1 430 2 view .LVU1
  34              		.loc 1 430 16 is_stmt 0 view .LVU2
  35 0000 0A4B     		ldr	r3, .L2
  36 0002 0B4A     		ldr	r2, .L2+4
  37 0004 1A60     		str	r2, [r3]
 431:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.pTxBuf = g_TxBuf2;					/* å‘é€ç¼“å†²åŒºæŒ‡é’ˆ */
  38              		.loc 1 431 2 is_stmt 1 view .LVU3
  39              		.loc 1 431 18 is_stmt 0 view .LVU4
  40 0006 0B4A     		ldr	r2, .L2+8
  41 0008 5A60     		str	r2, [r3, #4]
 432:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.pRxBuf = g_RxBuf2;					/* æ¥æ”¶ç¼“å†²åŒºæŒ‡é’ˆ */
  42              		.loc 1 432 2 is_stmt 1 view .LVU5
  43              		.loc 1 432 18 is_stmt 0 view .LVU6
  44 000a 0B4A     		ldr	r2, .L2+12
  45 000c 9A60     		str	r2, [r3, #8]
 433:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.usTxBufSize = UART2_TX_BUF_SIZE;	/* å‘é€ç¼“å†²åŒºå¤§å° */
  46              		.loc 1 433 2 is_stmt 1 view .LVU7
  47              		.loc 1 433 23 is_stmt 0 view .LVU8
  48 000e 4FF48062 		mov	r2, #1024
  49 0012 9A81     		strh	r2, [r3, #12]	@ movhi
 434:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.usRxBufSize = UART2_RX_BUF_SIZE;	/* æ¥æ”¶ç¼“å†²åŒºå¤§å° */
  50              		.loc 1 434 2 is_stmt 1 view .LVU9
  51              		.loc 1 434 23 is_stmt 0 view .LVU10
  52 0014 DA81     		strh	r2, [r3, #14]	@ movhi
 435:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.usTxWrite = 0;						/* å‘é€FIFOå†™ç´¢å¼• */
  53              		.loc 1 435 2 is_stmt 1 view .LVU11
  54              		.loc 1 435 21 is_stmt 0 view .LVU12
  55 0016 0022     		movs	r2, #0
  56 0018 1A82     		strh	r2, [r3, #16]	@ movhi
 436:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.usTxRead = 0;						/* å‘é€FIFOè¯»ç´¢å¼• */
  57              		.loc 1 436 2 is_stmt 1 view .LVU13
  58              		.loc 1 436 20 is_stmt 0 view .LVU14
  59 001a 5A82     		strh	r2, [r3, #18]	@ movhi
 437:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.usRxWrite = 0;						/* æ¥æ”¶FIFOå†™ç´¢å¼• */
  60              		.loc 1 437 2 is_stmt 1 view .LVU15
  61              		.loc 1 437 21 is_stmt 0 view .LVU16
  62 001c DA82     		strh	r2, [r3, #22]	@ movhi
 438:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.usRxRead = 0;						/* æ¥æ”¶FIFOè¯»ç´¢å¼• */
  63              		.loc 1 438 2 is_stmt 1 view .LVU17
  64              		.loc 1 438 20 is_stmt 0 view .LVU18
  65 001e 1A83     		strh	r2, [r3, #24]	@ movhi
 439:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.usRxCount = 0;						/* æ¥æ”¶åˆ°çš„æ–°æ•°æ®ä¸ªæ•° */
  66              		.loc 1 439 2 is_stmt 1 view .LVU19
  67              		.loc 1 439 21 is_stmt 0 view .LVU20
  68 0020 5A83     		strh	r2, [r3, #26]	@ movhi
 440:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.usTxCount = 0;						/* å¾…å‘é€çš„æ•°æ®ä¸ªæ•° */
  69              		.loc 1 440 2 is_stmt 1 view .LVU21
  70              		.loc 1 440 21 is_stmt 0 view .LVU22
  71 0022 9A82     		strh	r2, [r3, #20]	@ movhi
 441:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.SendBefor = 0;						/* å‘é€æ•°æ®å‰çš„å›è°ƒå‡½æ•° */
  72              		.loc 1 441 2 is_stmt 1 view .LVU23
  73              		.loc 1 441 21 is_stmt 0 view .LVU24
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 10


  74 0024 DA61     		str	r2, [r3, #28]
 442:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.SendOver = 0;						/* å‘é€å®Œæ¯•åçš„å›è°ƒå‡½æ•° */
  75              		.loc 1 442 2 is_stmt 1 view .LVU25
  76              		.loc 1 442 20 is_stmt 0 view .LVU26
  77 0026 1A62     		str	r2, [r3, #32]
 443:bsp/src/bsp_uart_fifo.c **** 	g_tUart2.ReciveNew = 0;						/* æ¥æ”¶åˆ°æ–°æ•°æ®åçš„å›è°ƒå‡½æ•° */
  78              		.loc 1 443 2 is_stmt 1 view .LVU27
  79              		.loc 1 443 21 is_stmt 0 view .LVU28
  80 0028 5A62     		str	r2, [r3, #36]
 444:bsp/src/bsp_uart_fifo.c **** #endif
 445:bsp/src/bsp_uart_fifo.c **** 
 446:bsp/src/bsp_uart_fifo.c **** #if UART3_FIFO_EN == 1
 447:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.uart = USART3;						/* STM32 ä¸²å£è®¾å¤‡ */
 448:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.pTxBuf = g_TxBuf3;					/* å‘é€ç¼“å†²åŒºæŒ‡é’ˆ */
 449:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.pRxBuf = g_RxBuf3;					/* æ¥æ”¶ç¼“å†²åŒºæŒ‡é’ˆ */
 450:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.usTxBufSize = UART3_TX_BUF_SIZE;	/* å‘é€ç¼“å†²åŒºå¤§å° */
 451:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.usRxBufSize = UART3_RX_BUF_SIZE;	/* æ¥æ”¶ç¼“å†²åŒºå¤§å° */
 452:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.usTxWrite = 0;						/* å‘é€FIFOå†™ç´¢å¼• */
 453:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.usTxRead = 0;						/* å‘é€FIFOè¯»ç´¢å¼• */
 454:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.usRxWrite = 0;						/* æ¥æ”¶FIFOå†™ç´¢å¼• */
 455:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.usRxRead = 0;						/* æ¥æ”¶FIFOè¯»ç´¢å¼• */
 456:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.usRxCount = 0;						/* æ¥æ”¶åˆ°çš„æ–°æ•°æ®ä¸ªæ•° */
 457:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.usTxCount = 0;						/* å¾…å‘é€çš„æ•°æ®ä¸ªæ•° */
 458:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.SendBefor = RS485_SendBefor;		/* å‘é€æ•°æ®å‰çš„å›è°ƒå‡½æ•° */
 459:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.SendOver = RS485_SendOver;			/* å‘é€å®Œæ¯•åçš„å›è°ƒå‡½æ•° */
 460:bsp/src/bsp_uart_fifo.c **** 	g_tUart3.ReciveNew = RS485_ReciveNew;		/* æ¥æ”¶åˆ°æ–°æ•°æ®åçš„å›è°ƒå‡½æ•° */
 461:bsp/src/bsp_uart_fifo.c **** #endif
 462:bsp/src/bsp_uart_fifo.c **** 
 463:bsp/src/bsp_uart_fifo.c **** #if UART4_FIFO_EN == 1
 464:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.uart = UART4;						/* STM32 ä¸²å£è®¾å¤‡ */
 465:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.pTxBuf = g_TxBuf4;					/* å‘é€ç¼“å†²åŒºæŒ‡é’ˆ */
 466:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.pRxBuf = g_RxBuf4;					/* æ¥æ”¶ç¼“å†²åŒºæŒ‡é’ˆ */
 467:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.usTxBufSize = UART4_TX_BUF_SIZE;	/* å‘é€ç¼“å†²åŒºå¤§å° */
 468:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.usRxBufSize = UART4_RX_BUF_SIZE;	/* æ¥æ”¶ç¼“å†²åŒºå¤§å° */
 469:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.usTxWrite = 0;						/* å‘é€FIFOå†™ç´¢å¼• */
 470:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.usTxRead = 0;						/* å‘é€FIFOè¯»ç´¢å¼• */
 471:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.usRxWrite = 0;						/* æ¥æ”¶FIFOå†™ç´¢å¼• */
 472:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.usRxRead = 0;						/* æ¥æ”¶FIFOè¯»ç´¢å¼• */
 473:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.usRxCount = 0;						/* æ¥æ”¶åˆ°çš„æ–°æ•°æ®ä¸ªæ•° */
 474:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.usTxCount = 0;						/* å¾…å‘é€çš„æ•°æ®ä¸ªæ•° */
 475:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.SendBefor = 0;						/* å‘é€æ•°æ®å‰çš„å›è°ƒå‡½æ•° */
 476:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.SendOver = 0;						/* å‘é€å®Œæ¯•åçš„å›è°ƒå‡½æ•° */
 477:bsp/src/bsp_uart_fifo.c **** 	g_tUart4.ReciveNew = 0;						/* æ¥æ”¶åˆ°æ–°æ•°æ®åçš„å›è°ƒå‡½æ•° */
 478:bsp/src/bsp_uart_fifo.c **** #endif
 479:bsp/src/bsp_uart_fifo.c **** 
 480:bsp/src/bsp_uart_fifo.c **** #if UART5_FIFO_EN == 1
 481:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.uart = UART5;						/* STM32 ä¸²å£è®¾å¤‡ */
 482:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.pTxBuf = g_TxBuf5;					/* å‘é€ç¼“å†²åŒºæŒ‡é’ˆ */
 483:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.pRxBuf = g_RxBuf5;					/* æ¥æ”¶ç¼“å†²åŒºæŒ‡é’ˆ */
 484:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.usTxBufSize = UART5_TX_BUF_SIZE;	/* å‘é€ç¼“å†²åŒºå¤§å° */
 485:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.usRxBufSize = UART5_RX_BUF_SIZE;	/* æ¥æ”¶ç¼“å†²åŒºå¤§å° */
 486:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.usTxWrite = 0;						/* å‘é€FIFOå†™ç´¢å¼• */
 487:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.usTxRead = 0;						/* å‘é€FIFOè¯»ç´¢å¼• */
 488:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.usRxWrite = 0;						/* æ¥æ”¶FIFOå†™ç´¢å¼• */
 489:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.usRxRead = 0;						/* æ¥æ”¶FIFOè¯»ç´¢å¼• */
 490:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.usRxCount = 0;						/* æ¥æ”¶åˆ°çš„æ–°æ•°æ®ä¸ªæ•° */
 491:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.usTxCount = 0;						/* å¾…å‘é€çš„æ•°æ®ä¸ªæ•° */
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 11


 492:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.SendBefor = 0;						/* å‘é€æ•°æ®å‰çš„å›è°ƒå‡½æ•° */
 493:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.SendOver = 0;						/* å‘é€å®Œæ¯•åçš„å›è°ƒå‡½æ•° */
 494:bsp/src/bsp_uart_fifo.c **** 	g_tUart5.ReciveNew = 0;						/* æ¥æ”¶åˆ°æ–°æ•°æ®åçš„å›è°ƒå‡½æ•° */
 495:bsp/src/bsp_uart_fifo.c **** #endif
 496:bsp/src/bsp_uart_fifo.c **** 
 497:bsp/src/bsp_uart_fifo.c **** 
 498:bsp/src/bsp_uart_fifo.c **** #if UART6_FIFO_EN == 1
 499:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.uart = USART6;						/* STM32 ä¸²å£è®¾å¤‡ */
 500:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.pTxBuf = g_TxBuf6;					/* å‘é€ç¼“å†²åŒºæŒ‡é’ˆ */
 501:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.pRxBuf = g_RxBuf6;					/* æ¥æ”¶ç¼“å†²åŒºæŒ‡é’ˆ */
 502:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.usTxBufSize = UART6_TX_BUF_SIZE;	/* å‘é€ç¼“å†²åŒºå¤§å° */
 503:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.usRxBufSize = UART6_RX_BUF_SIZE;	/* æ¥æ”¶ç¼“å†²åŒºå¤§å° */
 504:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.usTxWrite = 0;						/* å‘é€FIFOå†™ç´¢å¼• */
 505:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.usTxRead = 0;						/* å‘é€FIFOè¯»ç´¢å¼• */
 506:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.usRxWrite = 0;						/* æ¥æ”¶FIFOå†™ç´¢å¼• */
 507:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.usRxRead = 0;						/* æ¥æ”¶FIFOè¯»ç´¢å¼• */
 508:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.usRxCount = 0;						/* æ¥æ”¶åˆ°çš„æ–°æ•°æ®ä¸ªæ•° */
 509:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.usTxCount = 0;						/* å¾…å‘é€çš„æ•°æ®ä¸ªæ•° */
 510:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.SendBefor = 0;						/* å‘é€æ•°æ®å‰çš„å›è°ƒå‡½æ•° */
 511:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.SendOver = 0;						/* å‘é€å®Œæ¯•åçš„å›è°ƒå‡½æ•° */
 512:bsp/src/bsp_uart_fifo.c **** 	g_tUart6.ReciveNew = 0;						/* æ¥æ”¶åˆ°æ–°æ•°æ®åçš„å›è°ƒå‡½æ•° */
 513:bsp/src/bsp_uart_fifo.c **** #endif
 514:bsp/src/bsp_uart_fifo.c **** }
  81              		.loc 1 514 1 view .LVU29
  82 002a 7047     		bx	lr
  83              	.L3:
  84              		.align	2
  85              	.L2:
  86 002c 00000000 		.word	.LANCHOR0
  87 0030 00440040 		.word	1073759232
  88 0034 00000000 		.word	.LANCHOR1
  89 0038 00000000 		.word	.LANCHOR2
  90              		.cfi_endproc
  91              	.LFE136:
  93              		.section	.text.UartGetChar,"ax",%progbits
  94              		.align	1
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  98              		.fpu fpv4-sp-d16
 100              	UartGetChar:
 101              	.LVL0:
 102              	.LFB140:
 515:bsp/src/bsp_uart_fifo.c **** 
 516:bsp/src/bsp_uart_fifo.c **** /*
 517:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 518:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: InitHardUart
 519:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: é…ç½®ä¸²å£çš„ç¡¬ä»¶å‚æ•°ï¼ˆæ³¢ç‰¹ç‡ï¼Œæ•°æ®ä½ï¼Œåœæ­¢ä½ï¼Œèµ·å§‹ä½ï¼Œæ ¡éª
 520:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: æ— 
 521:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
 522:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 523:bsp/src/bsp_uart_fifo.c **** */
 524:bsp/src/bsp_uart_fifo.c **** static void InitHardUart(void)
 525:bsp/src/bsp_uart_fifo.c **** {
 526:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
 527:bsp/src/bsp_uart_fifo.c **** 	USART_InitTypeDef USART_InitStructure;
 528:bsp/src/bsp_uart_fifo.c **** 
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 12


 529:bsp/src/bsp_uart_fifo.c **** #if UART1_FIFO_EN == 1		/* ä¸²å£1 TX = PA9   RX = PA10 æˆ– TX = PB6   RX = PB7*/
 530:bsp/src/bsp_uart_fifo.c **** 
 531:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬1æ­¥ï¼š é…ç½®GPIO */
 532:bsp/src/bsp_uart_fifo.c **** 	#if 1	/* TX = PA9   RX = PA10 */
 533:bsp/src/bsp_uart_fifo.c **** 		/* æ‰“å¼€ GPIO æ—¶é’Ÿ */
 534:bsp/src/bsp_uart_fifo.c **** 		RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA, ENABLE);
 535:bsp/src/bsp_uart_fifo.c **** 
 536:bsp/src/bsp_uart_fifo.c **** 		/* æ‰“å¼€ UART æ—¶é’Ÿ */
 537:bsp/src/bsp_uart_fifo.c **** 		RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1, ENABLE);
 538:bsp/src/bsp_uart_fifo.c **** 
 539:bsp/src/bsp_uart_fifo.c **** 		/* å°† PA9 æ˜ å°„ä¸º USART1_TX */
 540:bsp/src/bsp_uart_fifo.c **** 		GPIO_PinAFConfig(GPIOA, GPIO_PinSource9, GPIO_AF_USART1);
 541:bsp/src/bsp_uart_fifo.c **** 
 542:bsp/src/bsp_uart_fifo.c **** 		/* å°† PA10 æ˜ å°„ä¸º USART1_RX */
 543:bsp/src/bsp_uart_fifo.c **** 		GPIO_PinAFConfig(GPIOA, GPIO_PinSource10, GPIO_AF_USART1);
 544:bsp/src/bsp_uart_fifo.c **** 
 545:bsp/src/bsp_uart_fifo.c **** 		/* é…ç½® USART Tx ä¸ºå¤ç”¨åŠŸèƒ½ */
 546:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;	/* è¾“å‡ºç±»å‹ä¸ºæ¨æŒ½ */
 547:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;	/* å†…éƒ¨ä¸Šæ‹‰ç”µé˜»ä½¿èƒ½ */
 548:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;	/* å¤ç”¨æ¨¡å¼ */
 549:bsp/src/bsp_uart_fifo.c **** 
 550:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9;
 551:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 552:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOA, &GPIO_InitStructure);
 553:bsp/src/bsp_uart_fifo.c **** 
 554:bsp/src/bsp_uart_fifo.c **** 		/* é…ç½® USART Rx ä¸ºå¤ç”¨åŠŸèƒ½ */
 555:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 556:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;
 557:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOA, &GPIO_InitStructure);
 558:bsp/src/bsp_uart_fifo.c **** 	#else	/* TX = PB6   RX = PB7  */
 559:bsp/src/bsp_uart_fifo.c **** 		/* æ‰“å¼€ GPIO æ—¶é’Ÿ */
 560:bsp/src/bsp_uart_fifo.c **** 		RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOB, ENABLE);
 561:bsp/src/bsp_uart_fifo.c **** 
 562:bsp/src/bsp_uart_fifo.c **** 		/* æ‰“å¼€ UART æ—¶é’Ÿ */
 563:bsp/src/bsp_uart_fifo.c **** 		RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1, ENABLE);
 564:bsp/src/bsp_uart_fifo.c **** 
 565:bsp/src/bsp_uart_fifo.c **** 		/* å°† PB6 æ˜ å°„ä¸º USART1_TX */
 566:bsp/src/bsp_uart_fifo.c **** 		GPIO_PinAFConfig(GPIOB, GPIO_PinSource6, GPIO_AF_USART1);
 567:bsp/src/bsp_uart_fifo.c **** 
 568:bsp/src/bsp_uart_fifo.c **** 		/* å°† PB7 æ˜ å°„ä¸º USART1_RX */
 569:bsp/src/bsp_uart_fifo.c **** 		GPIO_PinAFConfig(GPIOB, GPIO_PinSource7, GPIO_AF_USART1);
 570:bsp/src/bsp_uart_fifo.c **** 
 571:bsp/src/bsp_uart_fifo.c **** 		/* é…ç½® USART Tx ä¸ºå¤ç”¨åŠŸèƒ½ */
 572:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;	/* è¾“å‡ºç±»å‹ä¸ºæ¨æŒ½ */
 573:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;	/* å†…éƒ¨ä¸Šæ‹‰ç”µé˜»ä½¿èƒ½ */
 574:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;	/* å¤ç”¨æ¨¡å¼ */
 575:bsp/src/bsp_uart_fifo.c **** 
 576:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_6;
 577:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 578:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOB, &GPIO_InitStructure);
 579:bsp/src/bsp_uart_fifo.c **** 
 580:bsp/src/bsp_uart_fifo.c **** 		/* é…ç½® USART Rx ä¸ºå¤ç”¨åŠŸèƒ½ */
 581:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 582:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_7;
 583:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOB, &GPIO_InitStructure);
 584:bsp/src/bsp_uart_fifo.c **** 	#endif
 585:bsp/src/bsp_uart_fifo.c **** 
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 13


 586:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬2æ­¥ï¼š é…ç½®ä¸²å£ç¡¬ä»¶å‚æ•° */
 587:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_BaudRate = UART1_BAUD;	/* æ³¢ç‰¹ç‡ */
 588:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 589:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
 590:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 591:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 592:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 593:bsp/src/bsp_uart_fifo.c **** 	USART_Init(USART1, &USART_InitStructure);
 594:bsp/src/bsp_uart_fifo.c **** 
 595:bsp/src/bsp_uart_fifo.c **** 	USART_ITConfig(USART1, USART_IT_RXNE, ENABLE);	/* ä½¿èƒ½æ¥æ”¶ä¸­æ–­ */
 596:bsp/src/bsp_uart_fifo.c **** 	/*
 597:bsp/src/bsp_uart_fifo.c **** 		USART_ITConfig(USART1, USART_IT_TXE, ENABLE);
 598:bsp/src/bsp_uart_fifo.c **** 		æ³¨æ„: ä¸è¦åœ¨æ­¤å¤„æ‰“å¼€å‘é€ä¸­æ–­
 599:bsp/src/bsp_uart_fifo.c **** 		å‘é€ä¸­æ–­ä½¿èƒ½åœ¨SendUart()å‡½æ•°æ‰“å¼€
 600:bsp/src/bsp_uart_fifo.c **** 	*/
 601:bsp/src/bsp_uart_fifo.c **** 	USART_Cmd(USART1, ENABLE);		/* ä½¿èƒ½ä¸²å£ */
 602:bsp/src/bsp_uart_fifo.c **** 
 603:bsp/src/bsp_uart_fifo.c **** 	/* CPUçš„å°ç¼ºé™·ï¼šä¸²å£é…ç½®å¥½ï¼Œå¦‚æœç›´æ¥Sendï¼Œåˆ™ç¬¬1ä¸ªå­—èŠ‚å‘é€ä¸å‡ºå»
 604:bsp/src/bsp_uart_fifo.c **** 		å¦‚ä¸‹è¯­å¥è§£å†³ç¬¬1ä¸ªå­—èŠ‚æ— æ³•æ­£ç¡®å‘é€å‡ºå»çš„é—®é¢˜ */
 605:bsp/src/bsp_uart_fifo.c **** 	USART_ClearFlag(USART1, USART_FLAG_TC);     /* æ¸…å‘é€å®Œæˆæ ‡å¿—ï¼ŒTransmission Complete flag 
 606:bsp/src/bsp_uart_fifo.c **** #endif
 607:bsp/src/bsp_uart_fifo.c **** 
 608:bsp/src/bsp_uart_fifo.c **** #if UART2_FIFO_EN == 1		/* ä¸²å£2 TX = PD5   RX = PD6 æˆ–  TX = PA2ï¼Œ RX = PA3  */
 609:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬1æ­¥ï¼š é…ç½®GPIO */
 610:bsp/src/bsp_uart_fifo.c **** 	#if 0	/* ä¸²å£2 TX = PD5   RX = PD6 */
 611:bsp/src/bsp_uart_fifo.c **** 		/* æ‰“å¼€ GPIO æ—¶é’Ÿ */
 612:bsp/src/bsp_uart_fifo.c **** 		RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOD, ENABLE);
 613:bsp/src/bsp_uart_fifo.c **** 
 614:bsp/src/bsp_uart_fifo.c **** 		/* æ‰“å¼€ UART æ—¶é’Ÿ */
 615:bsp/src/bsp_uart_fifo.c **** 		RCC_APB1PeriphClockCmd(RCC_APB1Periph_USART2, ENABLE);
 616:bsp/src/bsp_uart_fifo.c **** 
 617:bsp/src/bsp_uart_fifo.c **** 		/* å°† PD5 æ˜ å°„ä¸º USART2_TX */
 618:bsp/src/bsp_uart_fifo.c **** 		GPIO_PinAFConfig(GPIOD, GPIO_PinSource5, GPIO_AF_USART2);
 619:bsp/src/bsp_uart_fifo.c **** 
 620:bsp/src/bsp_uart_fifo.c **** 		/* å°† PD6 æ˜ å°„ä¸º USART2_RX */
 621:bsp/src/bsp_uart_fifo.c **** 		GPIO_PinAFConfig(GPIOD, GPIO_PinSource6, GPIO_AF_USART2);
 622:bsp/src/bsp_uart_fifo.c **** 
 623:bsp/src/bsp_uart_fifo.c **** 		/* é…ç½® USART Tx ä¸ºå¤ç”¨åŠŸèƒ½ */
 624:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;	/* è¾“å‡ºç±»å‹ä¸ºæ¨æŒ½ */
 625:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;	/* å†…éƒ¨ä¸Šæ‹‰ç”µé˜»ä½¿èƒ½ */
 626:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;	/* å¤ç”¨æ¨¡å¼ */
 627:bsp/src/bsp_uart_fifo.c **** 
 628:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;
 629:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 630:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOD, &GPIO_InitStructure);
 631:bsp/src/bsp_uart_fifo.c **** 
 632:bsp/src/bsp_uart_fifo.c **** 		/* é…ç½® USART Rx ä¸ºå¤ç”¨åŠŸèƒ½ */
 633:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 634:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_6;
 635:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOD, &GPIO_InitStructure);
 636:bsp/src/bsp_uart_fifo.c **** 
 637:bsp/src/bsp_uart_fifo.c **** 	#else	/* ä¸²å£2   TX = PA2ï¼Œ RX = PA3 */
 638:bsp/src/bsp_uart_fifo.c **** 		/* æ‰“å¼€ GPIO æ—¶é’Ÿ */
 639:bsp/src/bsp_uart_fifo.c **** 		RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA, ENABLE);
 640:bsp/src/bsp_uart_fifo.c **** 
 641:bsp/src/bsp_uart_fifo.c **** 		/* æ‰“å¼€ UART æ—¶é’Ÿ */
 642:bsp/src/bsp_uart_fifo.c **** 		RCC_APB1PeriphClockCmd(RCC_APB1Periph_USART2, ENABLE);
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 14


 643:bsp/src/bsp_uart_fifo.c **** 
 644:bsp/src/bsp_uart_fifo.c ****     #ifdef STM32F446xx
 645:bsp/src/bsp_uart_fifo.c ****         /* Alternate function PA2 to USART2_TX*/
 646:bsp/src/bsp_uart_fifo.c ****         GPIO_PinAFConfig(GPIOA, GPIO_PinSource2, GPIO_AF_USART2);
 647:bsp/src/bsp_uart_fifo.c **** 
 648:bsp/src/bsp_uart_fifo.c ****     #else
 649:bsp/src/bsp_uart_fifo.c **** 		/* å°† PA2 æ˜ å°„ä¸º USART2_TX. åœ¨STM32-V5æ¿ä¸­ï¼ŒPA2 ç®¡è„šç”¨äºä»¥å¤ªç½‘ */
 650:bsp/src/bsp_uart_fifo.c **** 		//GPIO_PinAFConfig(GPIOA, GPIO_PinSource2, GPIO_AF_USART2);
 651:bsp/src/bsp_uart_fifo.c ****     #endif
 652:bsp/src/bsp_uart_fifo.c **** 
 653:bsp/src/bsp_uart_fifo.c **** 		/* å°† PA3 æ˜ å°„ä¸º USART2_RX */
 654:bsp/src/bsp_uart_fifo.c **** 		GPIO_PinAFConfig(GPIOA, GPIO_PinSource3, GPIO_AF_USART2);
 655:bsp/src/bsp_uart_fifo.c **** 
 656:bsp/src/bsp_uart_fifo.c **** 		/* é…ç½® USART Tx ä¸ºå¤ç”¨åŠŸèƒ½ */
 657:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;	/* è¾“å‡ºç±»å‹ä¸ºæ¨æŒ½ */
 658:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;	/* å†…éƒ¨ä¸Šæ‹‰ç”µé˜»ä½¿èƒ½ */
 659:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;	/* å¤ç”¨æ¨¡å¼ */
 660:bsp/src/bsp_uart_fifo.c **** 
 661:bsp/src/bsp_uart_fifo.c ****     #ifdef STM32F446xx
 662:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2;
 663:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 664:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOA, &GPIO_InitStructure);
 665:bsp/src/bsp_uart_fifo.c ****     #else
 666:bsp/src/bsp_uart_fifo.c ****         //GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2;
 667:bsp/src/bsp_uart_fifo.c **** 		//GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 668:bsp/src/bsp_uart_fifo.c **** 		//GPIO_Init(GPIOA, &GPIO_InitStructure);
 669:bsp/src/bsp_uart_fifo.c ****     #endif
 670:bsp/src/bsp_uart_fifo.c **** 
 671:bsp/src/bsp_uart_fifo.c **** 		/* é…ç½® USART Rx ä¸ºå¤ç”¨åŠŸèƒ½ */
 672:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 673:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_3;
 674:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 675:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOA, &GPIO_InitStructure);
 676:bsp/src/bsp_uart_fifo.c **** 	#endif
 677:bsp/src/bsp_uart_fifo.c **** 
 678:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬2æ­¥ï¼š é…ç½®ä¸²å£ç¡¬ä»¶å‚æ•° */
 679:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_BaudRate = UART2_BAUD;	/* æ³¢ç‰¹ç‡ */
 680:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 681:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
 682:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 683:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 684:bsp/src/bsp_uart_fifo.c ****     #ifdef STM32F446xx
 685:bsp/src/bsp_uart_fifo.c ****     USART_InitStructure.USART_Mode = USART_Mode_Tx | USART_Mode_Rx;
 686:bsp/src/bsp_uart_fifo.c ****     #else
 687:bsp/src/bsp_uart_fifo.c **** 	     USART_InitStructure.USART_Mode = USART_Mode_Rx;		/* ä»…é€‰æ‹©æ¥æ”¶æ¨¡å¼ */
 688:bsp/src/bsp_uart_fifo.c ****     #endif
 689:bsp/src/bsp_uart_fifo.c **** 	USART_Init(USART2, &USART_InitStructure);
 690:bsp/src/bsp_uart_fifo.c **** 
 691:bsp/src/bsp_uart_fifo.c **** 	USART_ITConfig(USART2, USART_IT_RXNE, ENABLE);	/* ä½¿èƒ½æ¥æ”¶ä¸­æ–­ */
 692:bsp/src/bsp_uart_fifo.c **** 	/*
 693:bsp/src/bsp_uart_fifo.c **** 		USART_ITConfig(USART1, USART_IT_TXE, ENABLE);
 694:bsp/src/bsp_uart_fifo.c **** 		æ³¨æ„: ä¸è¦åœ¨æ­¤å¤„æ‰“å¼€å‘é€ä¸­æ–­
 695:bsp/src/bsp_uart_fifo.c **** 		å‘é€ä¸­æ–­ä½¿èƒ½åœ¨SendUart()å‡½æ•°æ‰“å¼€
 696:bsp/src/bsp_uart_fifo.c **** 	*/
 697:bsp/src/bsp_uart_fifo.c **** 	USART_Cmd(USART2, ENABLE);		/* ä½¿èƒ½ä¸²å£ */
 698:bsp/src/bsp_uart_fifo.c **** 
 699:bsp/src/bsp_uart_fifo.c **** 	/* CPUçš„å°ç¼ºé™·ï¼šä¸²å£é…ç½®å¥½ï¼Œå¦‚æœç›´æ¥Sendï¼Œåˆ™ç¬¬1ä¸ªå­—èŠ‚å‘é€ä¸å‡ºå»
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 15


 700:bsp/src/bsp_uart_fifo.c **** 		å¦‚ä¸‹è¯­å¥è§£å†³ç¬¬1ä¸ªå­—èŠ‚æ— æ³•æ­£ç¡®å‘é€å‡ºå»çš„é—®é¢˜ */
 701:bsp/src/bsp_uart_fifo.c **** 	USART_ClearFlag(USART2, USART_FLAG_TC);     /* æ¸…å‘é€å®Œæˆæ ‡å¿—ï¼ŒTransmission Complete flag 
 702:bsp/src/bsp_uart_fifo.c **** #endif
 703:bsp/src/bsp_uart_fifo.c **** 
 704:bsp/src/bsp_uart_fifo.c **** #if UART3_FIFO_EN == 1			/* ä¸²å£3 TX = PB10   RX = PB11 */
 705:bsp/src/bsp_uart_fifo.c **** 
 706:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® PB2ä¸ºæ¨æŒ½è¾“å‡ºï¼Œç”¨äºåˆ‡æ¢ RS485èŠ¯ç‰‡çš„æ”¶å‘çŠ¶æ€ */
 707:bsp/src/bsp_uart_fifo.c **** 	{
 708:bsp/src/bsp_uart_fifo.c **** 		RCC_AHB1PeriphClockCmd(RCC_RS485_TXEN, ENABLE);
 709:bsp/src/bsp_uart_fifo.c **** 
 710:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;		/* è®¾ä¸ºè¾“å‡ºå£ */
 711:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;		/* è®¾ä¸ºæ¨æŒ½æ¨¡å¼ */
 712:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_NOPULL;	/* ä¸Šä¸‹æ‹‰ç”µé˜»ä¸ä½¿èƒ½ */
 713:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;	/* IOå£æœ€å¤§é€Ÿåº¦ */
 714:bsp/src/bsp_uart_fifo.c **** 
 715:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = PIN_RS485_TXEN;
 716:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(PORT_RS485_TXEN, &GPIO_InitStructure);
 717:bsp/src/bsp_uart_fifo.c **** 	}
 718:bsp/src/bsp_uart_fifo.c **** 
 719:bsp/src/bsp_uart_fifo.c **** 	/* æ‰“å¼€ GPIO æ—¶é’Ÿ */
 720:bsp/src/bsp_uart_fifo.c **** 	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOB, ENABLE);
 721:bsp/src/bsp_uart_fifo.c **** 
 722:bsp/src/bsp_uart_fifo.c **** 	/* æ‰“å¼€ UART æ—¶é’Ÿ */
 723:bsp/src/bsp_uart_fifo.c **** 	RCC_APB1PeriphClockCmd(RCC_APB1Periph_USART3, ENABLE);
 724:bsp/src/bsp_uart_fifo.c **** 
 725:bsp/src/bsp_uart_fifo.c **** 	/* å°† PB10 æ˜ å°„ä¸º USART3_TX */
 726:bsp/src/bsp_uart_fifo.c **** 	GPIO_PinAFConfig(GPIOB, GPIO_PinSource10, GPIO_AF_USART3);
 727:bsp/src/bsp_uart_fifo.c **** 
 728:bsp/src/bsp_uart_fifo.c **** 	/* å°† PB11 æ˜ å°„ä¸º USART3_RX */
 729:bsp/src/bsp_uart_fifo.c **** 	GPIO_PinAFConfig(GPIOB, GPIO_PinSource11, GPIO_AF_USART3);
 730:bsp/src/bsp_uart_fifo.c **** 
 731:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® USART Tx ä¸ºå¤ç”¨åŠŸèƒ½ */
 732:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;	/* è¾“å‡ºç±»å‹ä¸ºæ¨æŒ½ */
 733:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;	/* å†…éƒ¨ä¸Šæ‹‰ç”µé˜»ä½¿èƒ½ */
 734:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;	/* å¤ç”¨æ¨¡å¼ */
 735:bsp/src/bsp_uart_fifo.c **** 
 736:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;
 737:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 738:bsp/src/bsp_uart_fifo.c **** 	GPIO_Init(GPIOB, &GPIO_InitStructure);
 739:bsp/src/bsp_uart_fifo.c **** 
 740:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® USART Rx ä¸ºå¤ç”¨åŠŸèƒ½ */
 741:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 742:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_11;
 743:bsp/src/bsp_uart_fifo.c **** 	GPIO_Init(GPIOB, &GPIO_InitStructure);
 744:bsp/src/bsp_uart_fifo.c **** 
 745:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬2æ­¥ï¼š é…ç½®ä¸²å£ç¡¬ä»¶å‚æ•° */
 746:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_BaudRate = UART3_BAUD;	/* æ³¢ç‰¹ç‡ */
 747:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 748:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
 749:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 750:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 751:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 752:bsp/src/bsp_uart_fifo.c **** 	USART_Init(USART3, &USART_InitStructure);
 753:bsp/src/bsp_uart_fifo.c **** 
 754:bsp/src/bsp_uart_fifo.c **** 	USART_ITConfig(USART3, USART_IT_RXNE, ENABLE);	/* ä½¿èƒ½æ¥æ”¶ä¸­æ–­ */
 755:bsp/src/bsp_uart_fifo.c **** 	/*
 756:bsp/src/bsp_uart_fifo.c **** 		USART_ITConfig(USART1, USART_IT_TXE, ENABLE);
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 16


 757:bsp/src/bsp_uart_fifo.c **** 		æ³¨æ„: ä¸è¦åœ¨æ­¤å¤„æ‰“å¼€å‘é€ä¸­æ–­
 758:bsp/src/bsp_uart_fifo.c **** 		å‘é€ä¸­æ–­ä½¿èƒ½åœ¨SendUart()å‡½æ•°æ‰“å¼€
 759:bsp/src/bsp_uart_fifo.c **** 	*/
 760:bsp/src/bsp_uart_fifo.c **** 	USART_Cmd(USART3, ENABLE);		/* ä½¿èƒ½ä¸²å£ */
 761:bsp/src/bsp_uart_fifo.c **** 
 762:bsp/src/bsp_uart_fifo.c **** 	/* CPUçš„å°ç¼ºé™·ï¼šä¸²å£é…ç½®å¥½ï¼Œå¦‚æœç›´æ¥Sendï¼Œåˆ™ç¬¬1ä¸ªå­—èŠ‚å‘é€ä¸å‡ºå»
 763:bsp/src/bsp_uart_fifo.c **** 		å¦‚ä¸‹è¯­å¥è§£å†³ç¬¬1ä¸ªå­—èŠ‚æ— æ³•æ­£ç¡®å‘é€å‡ºå»çš„é—®é¢˜ */
 764:bsp/src/bsp_uart_fifo.c **** 	USART_ClearFlag(USART3, USART_FLAG_TC);     /* æ¸…å‘é€å®Œæˆæ ‡å¿—ï¼ŒTransmission Complete flag 
 765:bsp/src/bsp_uart_fifo.c **** #endif
 766:bsp/src/bsp_uart_fifo.c **** 
 767:bsp/src/bsp_uart_fifo.c **** #if UART4_FIFO_EN == 1			/* ä¸²å£4 TX = PC10   RX = PC11 */
 768:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬1æ­¥ï¼š é…ç½®GPIO */
 769:bsp/src/bsp_uart_fifo.c **** 
 770:bsp/src/bsp_uart_fifo.c **** 	/* æ‰“å¼€ GPIO æ—¶é’Ÿ */
 771:bsp/src/bsp_uart_fifo.c **** 	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOC, ENABLE);
 772:bsp/src/bsp_uart_fifo.c **** 
 773:bsp/src/bsp_uart_fifo.c **** 	/* æ‰“å¼€ UART æ—¶é’Ÿ */
 774:bsp/src/bsp_uart_fifo.c **** 	RCC_APB1PeriphClockCmd(RCC_APB1Periph_UART4, ENABLE);
 775:bsp/src/bsp_uart_fifo.c **** 
 776:bsp/src/bsp_uart_fifo.c **** 	/* å°† PC10 æ˜ å°„ä¸º UART4_TX */
 777:bsp/src/bsp_uart_fifo.c **** 	GPIO_PinAFConfig(GPIOC, GPIO_PinSource10, GPIO_AF_USART1);
 778:bsp/src/bsp_uart_fifo.c **** 
 779:bsp/src/bsp_uart_fifo.c **** 	/* å°† PC11 æ˜ å°„ä¸º UART4_RX */
 780:bsp/src/bsp_uart_fifo.c **** 	GPIO_PinAFConfig(GPIOC, GPIO_PinSource11, GPIO_AF_USART1);
 781:bsp/src/bsp_uart_fifo.c **** 
 782:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® USART Tx ä¸ºå¤ç”¨åŠŸèƒ½ */
 783:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;	/* è¾“å‡ºç±»å‹ä¸ºæ¨æŒ½ */
 784:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;	/* å†…éƒ¨ä¸Šæ‹‰ç”µé˜»ä½¿èƒ½ */
 785:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;	/* å¤ç”¨æ¨¡å¼ */
 786:bsp/src/bsp_uart_fifo.c **** 
 787:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;
 788:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 789:bsp/src/bsp_uart_fifo.c **** 	GPIO_Init(GPIOC, &GPIO_InitStructure);
 790:bsp/src/bsp_uart_fifo.c **** 
 791:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® USART Rx ä¸ºå¤ç”¨åŠŸèƒ½ */
 792:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 793:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_11;
 794:bsp/src/bsp_uart_fifo.c **** 	GPIO_Init(GPIOC, &GPIO_InitStructure);
 795:bsp/src/bsp_uart_fifo.c **** 
 796:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬2æ­¥ï¼š é…ç½®ä¸²å£ç¡¬ä»¶å‚æ•° */
 797:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_BaudRate = UART1_BAUD;	/* æ³¢ç‰¹ç‡ */
 798:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 799:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
 800:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 801:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 802:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 803:bsp/src/bsp_uart_fifo.c **** 	USART_Init(UART4, &USART_InitStructure);
 804:bsp/src/bsp_uart_fifo.c **** 
 805:bsp/src/bsp_uart_fifo.c **** 	USART_ITConfig(UART4, USART_IT_RXNE, ENABLE);	/* ä½¿èƒ½æ¥æ”¶ä¸­æ–­ */
 806:bsp/src/bsp_uart_fifo.c **** 	/*
 807:bsp/src/bsp_uart_fifo.c **** 		USART_ITConfig(USART1, USART_IT_TXE, ENABLE);
 808:bsp/src/bsp_uart_fifo.c **** 		æ³¨æ„: ä¸è¦åœ¨æ­¤å¤„æ‰“å¼€å‘é€ä¸­æ–­
 809:bsp/src/bsp_uart_fifo.c **** 		å‘é€ä¸­æ–­ä½¿èƒ½åœ¨SendUart()å‡½æ•°æ‰“å¼€
 810:bsp/src/bsp_uart_fifo.c **** 	*/
 811:bsp/src/bsp_uart_fifo.c **** 	USART_Cmd(UART4, ENABLE);		/* ä½¿èƒ½ä¸²å£ */
 812:bsp/src/bsp_uart_fifo.c **** 
 813:bsp/src/bsp_uart_fifo.c **** 	/* CPUçš„å°ç¼ºé™·ï¼šä¸²å£é…ç½®å¥½ï¼Œå¦‚æœç›´æ¥Sendï¼Œåˆ™ç¬¬1ä¸ªå­—èŠ‚å‘é€ä¸å‡ºå»
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 17


 814:bsp/src/bsp_uart_fifo.c **** 		å¦‚ä¸‹è¯­å¥è§£å†³ç¬¬1ä¸ªå­—èŠ‚æ— æ³•æ­£ç¡®å‘é€å‡ºå»çš„é—®é¢˜ */
 815:bsp/src/bsp_uart_fifo.c **** 	USART_ClearFlag(UART4, USART_FLAG_TC);     /* æ¸…å‘é€å®Œæˆæ ‡å¿—ï¼ŒTransmission Complete flag *
 816:bsp/src/bsp_uart_fifo.c **** #endif
 817:bsp/src/bsp_uart_fifo.c **** 
 818:bsp/src/bsp_uart_fifo.c **** #if UART5_FIFO_EN == 1			/* ä¸²å£5 TX = PC12   RX = PD2 */
 819:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬1æ­¥ï¼š é…ç½®GPIO */
 820:bsp/src/bsp_uart_fifo.c **** 
 821:bsp/src/bsp_uart_fifo.c **** 	/* æ‰“å¼€ GPIO æ—¶é’Ÿ */
 822:bsp/src/bsp_uart_fifo.c **** 	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOC |RCC_AHB1Periph_GPIOD, ENABLE);
 823:bsp/src/bsp_uart_fifo.c **** 
 824:bsp/src/bsp_uart_fifo.c **** 	/* æ‰“å¼€ UART æ—¶é’Ÿ */
 825:bsp/src/bsp_uart_fifo.c **** 	RCC_APB1PeriphClockCmd(RCC_APB1Periph_UART5, ENABLE);
 826:bsp/src/bsp_uart_fifo.c **** 
 827:bsp/src/bsp_uart_fifo.c **** 	/* å°† PC12 æ˜ å°„ä¸º UART5_TX */
 828:bsp/src/bsp_uart_fifo.c **** 	GPIO_PinAFConfig(GPIOC, GPIO_PinSource12, GPIO_AF_UART5);
 829:bsp/src/bsp_uart_fifo.c **** 
 830:bsp/src/bsp_uart_fifo.c **** 	/* å°† PD2 æ˜ å°„ä¸º UART5_RX */
 831:bsp/src/bsp_uart_fifo.c **** 	GPIO_PinAFConfig(GPIOD, GPIO_PinSource2, GPIO_AF_UART5);
 832:bsp/src/bsp_uart_fifo.c **** 
 833:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® UART Tx ä¸ºå¤ç”¨åŠŸèƒ½ */
 834:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;	/* è¾“å‡ºç±»å‹ä¸ºæ¨æŒ½ */
 835:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;	/* å†…éƒ¨ä¸Šæ‹‰ç”µé˜»ä½¿èƒ½ */
 836:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;	/* å¤ç”¨æ¨¡å¼ */
 837:bsp/src/bsp_uart_fifo.c **** 
 838:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_12;
 839:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 840:bsp/src/bsp_uart_fifo.c **** 	GPIO_Init(GPIOC, &GPIO_InitStructure);
 841:bsp/src/bsp_uart_fifo.c **** 
 842:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® UART Rx ä¸ºå¤ç”¨åŠŸèƒ½ */
 843:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 844:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_2;
 845:bsp/src/bsp_uart_fifo.c **** 	GPIO_Init(GPIOD, &GPIO_InitStructure);
 846:bsp/src/bsp_uart_fifo.c **** 
 847:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬2æ­¥ï¼š é…ç½®ä¸²å£ç¡¬ä»¶å‚æ•° */
 848:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_BaudRate = UART5_BAUD;	/* æ³¢ç‰¹ç‡ */
 849:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 850:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
 851:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 852:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 853:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 854:bsp/src/bsp_uart_fifo.c **** 	USART_Init(UART5, &USART_InitStructure);
 855:bsp/src/bsp_uart_fifo.c **** 
 856:bsp/src/bsp_uart_fifo.c **** 	USART_ITConfig(UART5, USART_IT_RXNE, ENABLE);	/* ä½¿èƒ½æ¥æ”¶ä¸­æ–­ */
 857:bsp/src/bsp_uart_fifo.c **** 	/*
 858:bsp/src/bsp_uart_fifo.c **** 		USART_ITConfig(USART1, USART_IT_TXE, ENABLE);
 859:bsp/src/bsp_uart_fifo.c **** 		æ³¨æ„: ä¸è¦åœ¨æ­¤å¤„æ‰“å¼€å‘é€ä¸­æ–­
 860:bsp/src/bsp_uart_fifo.c **** 		å‘é€ä¸­æ–­ä½¿èƒ½åœ¨SendUart()å‡½æ•°æ‰“å¼€
 861:bsp/src/bsp_uart_fifo.c **** 	*/
 862:bsp/src/bsp_uart_fifo.c **** 	USART_Cmd(UART5, ENABLE);		/* ä½¿èƒ½ä¸²å£ */
 863:bsp/src/bsp_uart_fifo.c **** 
 864:bsp/src/bsp_uart_fifo.c **** 	/* CPUçš„å°ç¼ºé™·ï¼šä¸²å£é…ç½®å¥½ï¼Œå¦‚æœç›´æ¥Sendï¼Œåˆ™ç¬¬1ä¸ªå­—èŠ‚å‘é€ä¸å‡ºå»
 865:bsp/src/bsp_uart_fifo.c **** 		å¦‚ä¸‹è¯­å¥è§£å†³ç¬¬1ä¸ªå­—èŠ‚æ— æ³•æ­£ç¡®å‘é€å‡ºå»çš„é—®é¢˜ */
 866:bsp/src/bsp_uart_fifo.c **** 	USART_ClearFlag(UART5, USART_FLAG_TC);     /* æ¸…å‘é€å®Œæˆæ ‡å¿—ï¼ŒTransmission Complete flag *
 867:bsp/src/bsp_uart_fifo.c **** #endif
 868:bsp/src/bsp_uart_fifo.c **** 
 869:bsp/src/bsp_uart_fifo.c **** #if UART6_FIFO_EN == 1			/* PG14/USART6_TX , PC7/USART6_RX,PG8/USART6_RTS, PG15/USART6_CTS */
 870:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬1æ­¥ï¼š é…ç½®GPIO */
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 18


 871:bsp/src/bsp_uart_fifo.c **** 
 872:bsp/src/bsp_uart_fifo.c **** 	/* æ‰“å¼€ GPIO æ—¶é’Ÿ */
 873:bsp/src/bsp_uart_fifo.c **** 	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOC |RCC_AHB1Periph_GPIOG, ENABLE);
 874:bsp/src/bsp_uart_fifo.c **** 
 875:bsp/src/bsp_uart_fifo.c **** 	/* æ‰“å¼€ UART æ—¶é’Ÿ */
 876:bsp/src/bsp_uart_fifo.c **** 	RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART6, ENABLE);
 877:bsp/src/bsp_uart_fifo.c **** 
 878:bsp/src/bsp_uart_fifo.c **** 	/* å°† PG14 æ˜ å°„ä¸º USART6_TX */
 879:bsp/src/bsp_uart_fifo.c **** 	GPIO_PinAFConfig(GPIOG, GPIO_PinSource14, GPIO_AF_USART6);
 880:bsp/src/bsp_uart_fifo.c **** 
 881:bsp/src/bsp_uart_fifo.c **** 	/* å°† PC7 æ˜ å°„ä¸º USART6_RX */
 882:bsp/src/bsp_uart_fifo.c **** 	GPIO_PinAFConfig(GPIOC, GPIO_PinSource7, GPIO_AF_USART6);
 883:bsp/src/bsp_uart_fifo.c **** 
 884:bsp/src/bsp_uart_fifo.c **** 	/* å°† PG8 æ˜ å°„ä¸º USART6_RTS */
 885:bsp/src/bsp_uart_fifo.c **** 	GPIO_PinAFConfig(GPIOG, GPIO_PinSource8, GPIO_AF_USART6);
 886:bsp/src/bsp_uart_fifo.c **** 
 887:bsp/src/bsp_uart_fifo.c **** 	/* å°† PG15 æ˜ å°„ä¸º USART6_CTS */
 888:bsp/src/bsp_uart_fifo.c **** 	GPIO_PinAFConfig(GPIOG, GPIO_PinSource15, GPIO_AF_USART6);
 889:bsp/src/bsp_uart_fifo.c **** 
 890:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® PG14/USART6_TX ä¸ºå¤ç”¨åŠŸèƒ½ */
 891:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;	/* è¾“å‡ºç±»å‹ä¸ºæ¨æŒ½ */
 892:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;	/* å†…éƒ¨ä¸Šæ‹‰ç”µé˜»ä½¿èƒ½ */
 893:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;	/* å¤ç”¨æ¨¡å¼ */
 894:bsp/src/bsp_uart_fifo.c **** 
 895:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_14;
 896:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 897:bsp/src/bsp_uart_fifo.c **** 	GPIO_Init(GPIOG, &GPIO_InitStructure);
 898:bsp/src/bsp_uart_fifo.c **** 
 899:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® PC7/USART6_RX ä¸ºå¤ç”¨åŠŸèƒ½ */
 900:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 901:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_7;
 902:bsp/src/bsp_uart_fifo.c **** 	GPIO_Init(GPIOC, &GPIO_InitStructure);
 903:bsp/src/bsp_uart_fifo.c **** 
 904:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® PG8/USART6_RTS ä¸ºå¤ç”¨åŠŸèƒ½ */
 905:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 906:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_8;
 907:bsp/src/bsp_uart_fifo.c **** 	GPIO_Init(GPIOG, &GPIO_InitStructure);
 908:bsp/src/bsp_uart_fifo.c **** 
 909:bsp/src/bsp_uart_fifo.c **** 	/* é…ç½® PG15/USART6_CTS ä¸ºå¤ç”¨åŠŸèƒ½ */
 910:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;
 911:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_15;
 912:bsp/src/bsp_uart_fifo.c **** 	GPIO_Init(GPIOG, &GPIO_InitStructure);
 913:bsp/src/bsp_uart_fifo.c **** 
 914:bsp/src/bsp_uart_fifo.c **** 	/* ç¬¬2æ­¥ï¼š é…ç½®ä¸²å£ç¡¬ä»¶å‚æ•° */
 915:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_BaudRate = UART6_BAUD;	/* æ³¢ç‰¹ç‡ */
 916:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 917:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
 918:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 919:bsp/src/bsp_uart_fifo.c **** 	//USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_RTS_CTS;	/* é€‰æ‹©ç¡¬ä
 920:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;	/* ä¸è¦ç¡¬ä»¶æµ
 921:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
 922:bsp/src/bsp_uart_fifo.c **** 	USART_Init(USART6, &USART_InitStructure);
 923:bsp/src/bsp_uart_fifo.c **** 
 924:bsp/src/bsp_uart_fifo.c **** 	USART_ITConfig(USART6, USART_IT_RXNE, ENABLE);	/* ä½¿èƒ½æ¥æ”¶ä¸­æ–­ */
 925:bsp/src/bsp_uart_fifo.c **** 	/*
 926:bsp/src/bsp_uart_fifo.c **** 		USART_ITConfig(USART1, USART_IT_TXE, ENABLE);
 927:bsp/src/bsp_uart_fifo.c **** 		æ³¨æ„: ä¸è¦åœ¨æ­¤å¤„æ‰“å¼€å‘é€ä¸­æ–­
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 19


 928:bsp/src/bsp_uart_fifo.c **** 		å‘é€ä¸­æ–­ä½¿èƒ½åœ¨SendUart()å‡½æ•°æ‰“å¼€
 929:bsp/src/bsp_uart_fifo.c **** 	*/
 930:bsp/src/bsp_uart_fifo.c **** 	USART_Cmd(USART6, ENABLE);		/* ä½¿èƒ½ä¸²å£ */
 931:bsp/src/bsp_uart_fifo.c **** 
 932:bsp/src/bsp_uart_fifo.c **** 	/* CPUçš„å°ç¼ºé™·ï¼šä¸²å£é…ç½®å¥½ï¼Œå¦‚æœç›´æ¥Sendï¼Œåˆ™ç¬¬1ä¸ªå­—èŠ‚å‘é€ä¸å‡ºå»
 933:bsp/src/bsp_uart_fifo.c **** 		å¦‚ä¸‹è¯­å¥è§£å†³ç¬¬1ä¸ªå­—èŠ‚æ— æ³•æ­£ç¡®å‘é€å‡ºå»çš„é—®é¢˜ */
 934:bsp/src/bsp_uart_fifo.c **** 	USART_ClearFlag(USART6, USART_FLAG_TC);     /* æ¸…å‘é€å®Œæˆæ ‡å¿—ï¼ŒTransmission Complete flag 
 935:bsp/src/bsp_uart_fifo.c **** #endif
 936:bsp/src/bsp_uart_fifo.c **** }
 937:bsp/src/bsp_uart_fifo.c **** 
 938:bsp/src/bsp_uart_fifo.c **** /*
 939:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 940:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: ConfigUartNVIC
 941:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: é…ç½®ä¸²å£ç¡¬ä»¶ä¸­æ–­.
 942:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚:  æ— 
 943:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
 944:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
 945:bsp/src/bsp_uart_fifo.c **** */
 946:bsp/src/bsp_uart_fifo.c **** static void ConfigUartNVIC(void)
 947:bsp/src/bsp_uart_fifo.c **** {
 948:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitTypeDef NVIC_InitStructure;
 949:bsp/src/bsp_uart_fifo.c **** 
 950:bsp/src/bsp_uart_fifo.c **** 	/* Configure the NVIC Preemption Priority Bits */
 951:bsp/src/bsp_uart_fifo.c **** 	/*	NVIC_PriorityGroupConfig(NVIC_PriorityGroup_0);  --- åœ¨ bsp.c ä¸­ bsp_Init() ä¸­é…ç½®ä¸­æ–­ä¼
 952:bsp/src/bsp_uart_fifo.c **** 
 953:bsp/src/bsp_uart_fifo.c **** #if UART1_FIFO_EN == 1
 954:bsp/src/bsp_uart_fifo.c **** 	/* ä½¿èƒ½ä¸²å£1ä¸­æ–­ */
 955:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannel = USART1_IRQn;
 956:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;
 957:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 958:bsp/src/bsp_uart_fifo.c **** 	NVIC_Init(&NVIC_InitStructure);
 959:bsp/src/bsp_uart_fifo.c **** #endif
 960:bsp/src/bsp_uart_fifo.c **** 
 961:bsp/src/bsp_uart_fifo.c **** #if UART2_FIFO_EN == 1
 962:bsp/src/bsp_uart_fifo.c **** 	/* ä½¿èƒ½ä¸²å£2ä¸­æ–­ */
 963:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannel = USART2_IRQn;
 964:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 1;
 965:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 966:bsp/src/bsp_uart_fifo.c **** 	NVIC_Init(&NVIC_InitStructure);
 967:bsp/src/bsp_uart_fifo.c **** #endif
 968:bsp/src/bsp_uart_fifo.c **** 
 969:bsp/src/bsp_uart_fifo.c **** #if UART3_FIFO_EN == 1
 970:bsp/src/bsp_uart_fifo.c **** 	/* ä½¿èƒ½ä¸²å£3ä¸­æ–­t */
 971:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannel = USART3_IRQn;
 972:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 2;
 973:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 974:bsp/src/bsp_uart_fifo.c **** 	NVIC_Init(&NVIC_InitStructure);
 975:bsp/src/bsp_uart_fifo.c **** #endif
 976:bsp/src/bsp_uart_fifo.c **** 
 977:bsp/src/bsp_uart_fifo.c **** #if UART4_FIFO_EN == 1
 978:bsp/src/bsp_uart_fifo.c **** 	/* ä½¿èƒ½ä¸²å£4ä¸­æ–­t */
 979:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannel = UART4_IRQn;
 980:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 3;
 981:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 982:bsp/src/bsp_uart_fifo.c **** 	NVIC_Init(&NVIC_InitStructure);
 983:bsp/src/bsp_uart_fifo.c **** #endif
 984:bsp/src/bsp_uart_fifo.c **** 
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 20


 985:bsp/src/bsp_uart_fifo.c **** #if UART5_FIFO_EN == 1
 986:bsp/src/bsp_uart_fifo.c **** 	/* ä½¿èƒ½ä¸²å£5ä¸­æ–­t */
 987:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannel = UART5_IRQn;
 988:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 4;
 989:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 990:bsp/src/bsp_uart_fifo.c **** 	NVIC_Init(&NVIC_InitStructure);
 991:bsp/src/bsp_uart_fifo.c **** #endif
 992:bsp/src/bsp_uart_fifo.c **** 
 993:bsp/src/bsp_uart_fifo.c **** #if UART6_FIFO_EN == 1
 994:bsp/src/bsp_uart_fifo.c **** 	/* ä½¿èƒ½ä¸²å£6ä¸­æ–­t */
 995:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannel = USART6_IRQn;
 996:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 5;
 997:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 998:bsp/src/bsp_uart_fifo.c **** 	NVIC_Init(&NVIC_InitStructure);
 999:bsp/src/bsp_uart_fifo.c **** #endif
1000:bsp/src/bsp_uart_fifo.c **** }
1001:bsp/src/bsp_uart_fifo.c **** 
1002:bsp/src/bsp_uart_fifo.c **** /*
1003:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
1004:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: UartSend
1005:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: å¡«å†™æ•°æ®åˆ°UARTå‘é€ç¼“å†²åŒº,å¹¶å¯åŠ¨å‘é€ä¸­æ–­ã€‚ä¸­æ–­å¤„ç†å‡½æ•°å‘é€
1006:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚:  æ— 
1007:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
1008:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
1009:bsp/src/bsp_uart_fifo.c **** */
1010:bsp/src/bsp_uart_fifo.c **** static void UartSend(UartStr_TypeDef *_pUart, uint8_t *_ucaBuf, uint16_t _usLen)
1011:bsp/src/bsp_uart_fifo.c **** {
1012:bsp/src/bsp_uart_fifo.c **** 	uint16_t i;
1013:bsp/src/bsp_uart_fifo.c **** 
1014:bsp/src/bsp_uart_fifo.c **** 	for (i = 0; i < _usLen; i++)
1015:bsp/src/bsp_uart_fifo.c **** 	{
1016:bsp/src/bsp_uart_fifo.c **** 		/* å¦‚æœå‘é€ç¼“å†²åŒºå·²ç»æ»¡äº†ï¼Œåˆ™ç­‰å¾…ç¼“å†²åŒºç©º */
1017:bsp/src/bsp_uart_fifo.c **** 	#if 0
1018:bsp/src/bsp_uart_fifo.c **** 		/*
1019:bsp/src/bsp_uart_fifo.c **** 			åœ¨è°ƒè¯•GPRSä¾‹ç¨‹æ—¶ï¼Œä¸‹é¢çš„ä»£ç å‡ºç°æ­»æœºï¼Œwhile æ­»å¾ªç¯
1020:bsp/src/bsp_uart_fifo.c **** 			åŸå› ï¼š å‘é€ç¬¬1ä¸ªå­—èŠ‚æ—¶ _pUart->usTxWrite = 1ï¼›_pUart->usTxRead = 0;
1021:bsp/src/bsp_uart_fifo.c **** 			å°†å¯¼è‡´while(1) æ— æ³•é€€å‡º
1022:bsp/src/bsp_uart_fifo.c **** 		*/
1023:bsp/src/bsp_uart_fifo.c **** 		while (1)
1024:bsp/src/bsp_uart_fifo.c **** 		{
1025:bsp/src/bsp_uart_fifo.c **** 			uint16_t usRead;
1026:bsp/src/bsp_uart_fifo.c **** 
1027:bsp/src/bsp_uart_fifo.c **** 			DISABLE_INT();
1028:bsp/src/bsp_uart_fifo.c **** 			usRead = _pUart->usTxRead;
1029:bsp/src/bsp_uart_fifo.c **** 			ENABLE_INT();
1030:bsp/src/bsp_uart_fifo.c **** 
1031:bsp/src/bsp_uart_fifo.c **** 			if (++usRead >= _pUart->usTxBufSize)
1032:bsp/src/bsp_uart_fifo.c **** 			{
1033:bsp/src/bsp_uart_fifo.c **** 				usRead = 0;
1034:bsp/src/bsp_uart_fifo.c **** 			}
1035:bsp/src/bsp_uart_fifo.c **** 
1036:bsp/src/bsp_uart_fifo.c **** 			if (usRead != _pUart->usTxWrite)
1037:bsp/src/bsp_uart_fifo.c **** 			{
1038:bsp/src/bsp_uart_fifo.c **** 				break;
1039:bsp/src/bsp_uart_fifo.c **** 			}
1040:bsp/src/bsp_uart_fifo.c **** 		}
1041:bsp/src/bsp_uart_fifo.c **** 	#else
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 21


1042:bsp/src/bsp_uart_fifo.c **** 		/* å½“ _pUart->usTxBufSize == 1 æ—¶, ä¸‹é¢çš„å‡½æ•°ä¼šæ­»æ‰(å¾…å®Œå–„) */
1043:bsp/src/bsp_uart_fifo.c **** 		while (1)
1044:bsp/src/bsp_uart_fifo.c **** 		{
1045:bsp/src/bsp_uart_fifo.c **** 			__IO uint16_t usCount;
1046:bsp/src/bsp_uart_fifo.c **** 
1047:bsp/src/bsp_uart_fifo.c **** 			DISABLE_INT();
1048:bsp/src/bsp_uart_fifo.c **** 			usCount = _pUart->usTxCount;
1049:bsp/src/bsp_uart_fifo.c **** 			ENABLE_INT();
1050:bsp/src/bsp_uart_fifo.c **** 
1051:bsp/src/bsp_uart_fifo.c **** 			if (usCount < _pUart->usTxBufSize)
1052:bsp/src/bsp_uart_fifo.c **** 			{
1053:bsp/src/bsp_uart_fifo.c **** 				break;
1054:bsp/src/bsp_uart_fifo.c **** 			}
1055:bsp/src/bsp_uart_fifo.c **** 		}
1056:bsp/src/bsp_uart_fifo.c **** 	#endif
1057:bsp/src/bsp_uart_fifo.c **** 
1058:bsp/src/bsp_uart_fifo.c **** 		/* å°†æ–°æ•°æ®å¡«å…¥å‘é€ç¼“å†²åŒº */
1059:bsp/src/bsp_uart_fifo.c **** 		_pUart->pTxBuf[_pUart->usTxWrite] = _ucaBuf[i];
1060:bsp/src/bsp_uart_fifo.c **** 
1061:bsp/src/bsp_uart_fifo.c **** 		DISABLE_INT();
1062:bsp/src/bsp_uart_fifo.c **** 		if (++_pUart->usTxWrite >= _pUart->usTxBufSize)
1063:bsp/src/bsp_uart_fifo.c **** 		{
1064:bsp/src/bsp_uart_fifo.c **** 			_pUart->usTxWrite = 0;
1065:bsp/src/bsp_uart_fifo.c **** 		}
1066:bsp/src/bsp_uart_fifo.c **** 		_pUart->usTxCount++;
1067:bsp/src/bsp_uart_fifo.c **** 		ENABLE_INT();
1068:bsp/src/bsp_uart_fifo.c **** 	}
1069:bsp/src/bsp_uart_fifo.c **** 
1070:bsp/src/bsp_uart_fifo.c **** 	USART_ITConfig(_pUart->uart, USART_IT_TXE, ENABLE);
1071:bsp/src/bsp_uart_fifo.c **** }
1072:bsp/src/bsp_uart_fifo.c **** 
1073:bsp/src/bsp_uart_fifo.c **** /*
1074:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
1075:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: UartGetChar
1076:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: ä»ä¸²å£æ¥æ”¶ç¼“å†²åŒºè¯»å–1å­—èŠ‚æ•°æ® ï¼ˆç”¨äºä¸»ç¨‹åºè°ƒç”¨ï¼‰
1077:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: _pUart : ä¸²å£è®¾å¤‡
1078:bsp/src/bsp_uart_fifo.c **** *			  _pByte : å­˜æ”¾è¯»å–æ•°æ®çš„æŒ‡é’ˆ
1079:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: 0 è¡¨ç¤ºæ— æ•°æ®  1è¡¨ç¤ºè¯»å–åˆ°æ•°æ®
1080:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
1081:bsp/src/bsp_uart_fifo.c **** */
1082:bsp/src/bsp_uart_fifo.c **** static uint8_t UartGetChar(UartStr_TypeDef *_pUart, uint8_t *_pByte)
1083:bsp/src/bsp_uart_fifo.c **** {
 103              		.loc 1 1083 1 is_stmt 1 view -0
 104              		.cfi_startproc
 105              		@ args = 0, pretend = 0, frame = 0
 106              		@ frame_needed = 0, uses_anonymous_args = 0
 107              		@ link register save eliminated.
1084:bsp/src/bsp_uart_fifo.c **** 	uint16_t usCount;
 108              		.loc 1 1084 2 view .LVU31
1085:bsp/src/bsp_uart_fifo.c **** 
1086:bsp/src/bsp_uart_fifo.c **** 	/* usRxWrite å˜é‡åœ¨ä¸­æ–­å‡½æ•°ä¸­è¢«æ”¹å†™ï¼Œä¸»ç¨‹åºè¯»å–è¯¥å˜é‡æ—¶ï¼Œå¿…é¡»è¿›è¡Œä¸´ç•Œå
1087:bsp/src/bsp_uart_fifo.c **** 	DISABLE_INT();
 109              		.loc 1 1087 2 view .LVU32
 110              	.LBB19:
 111              	.LBI19:
 112              		.file 2 "Libraries/CMSIS/Include/core_cmFunc.h"
   1:Libraries/CMSIS/Include/core_cmFunc.h **** /**************************************************************************//**
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 22


   2:Libraries/CMSIS/Include/core_cmFunc.h ****  * @file     core_cmFunc.h
   3:Libraries/CMSIS/Include/core_cmFunc.h ****  * @brief    CMSIS Cortex-M Core Function Access Header File
   4:Libraries/CMSIS/Include/core_cmFunc.h ****  * @version  V4.10
   5:Libraries/CMSIS/Include/core_cmFunc.h ****  * @date     18. March 2015
   6:Libraries/CMSIS/Include/core_cmFunc.h ****  *
   7:Libraries/CMSIS/Include/core_cmFunc.h ****  * @note
   8:Libraries/CMSIS/Include/core_cmFunc.h ****  *
   9:Libraries/CMSIS/Include/core_cmFunc.h ****  ******************************************************************************/
  10:Libraries/CMSIS/Include/core_cmFunc.h **** /* Copyright (c) 2009 - 2015 ARM LIMITED
  11:Libraries/CMSIS/Include/core_cmFunc.h **** 
  12:Libraries/CMSIS/Include/core_cmFunc.h ****    All rights reserved.
  13:Libraries/CMSIS/Include/core_cmFunc.h ****    Redistribution and use in source and binary forms, with or without
  14:Libraries/CMSIS/Include/core_cmFunc.h ****    modification, are permitted provided that the following conditions are met:
  15:Libraries/CMSIS/Include/core_cmFunc.h ****    - Redistributions of source code must retain the above copyright
  16:Libraries/CMSIS/Include/core_cmFunc.h ****      notice, this list of conditions and the following disclaimer.
  17:Libraries/CMSIS/Include/core_cmFunc.h ****    - Redistributions in binary form must reproduce the above copyright
  18:Libraries/CMSIS/Include/core_cmFunc.h ****      notice, this list of conditions and the following disclaimer in the
  19:Libraries/CMSIS/Include/core_cmFunc.h ****      documentation and/or other materials provided with the distribution.
  20:Libraries/CMSIS/Include/core_cmFunc.h ****    - Neither the name of ARM nor the names of its contributors may be used
  21:Libraries/CMSIS/Include/core_cmFunc.h ****      to endorse or promote products derived from this software without
  22:Libraries/CMSIS/Include/core_cmFunc.h ****      specific prior written permission.
  23:Libraries/CMSIS/Include/core_cmFunc.h ****    *
  24:Libraries/CMSIS/Include/core_cmFunc.h ****    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  25:Libraries/CMSIS/Include/core_cmFunc.h ****    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  26:Libraries/CMSIS/Include/core_cmFunc.h ****    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  27:Libraries/CMSIS/Include/core_cmFunc.h ****    ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  28:Libraries/CMSIS/Include/core_cmFunc.h ****    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  29:Libraries/CMSIS/Include/core_cmFunc.h ****    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  30:Libraries/CMSIS/Include/core_cmFunc.h ****    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  31:Libraries/CMSIS/Include/core_cmFunc.h ****    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  32:Libraries/CMSIS/Include/core_cmFunc.h ****    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  33:Libraries/CMSIS/Include/core_cmFunc.h ****    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  34:Libraries/CMSIS/Include/core_cmFunc.h ****    POSSIBILITY OF SUCH DAMAGE.
  35:Libraries/CMSIS/Include/core_cmFunc.h ****    ---------------------------------------------------------------------------*/
  36:Libraries/CMSIS/Include/core_cmFunc.h **** 
  37:Libraries/CMSIS/Include/core_cmFunc.h **** 
  38:Libraries/CMSIS/Include/core_cmFunc.h **** #ifndef __CORE_CMFUNC_H
  39:Libraries/CMSIS/Include/core_cmFunc.h **** #define __CORE_CMFUNC_H
  40:Libraries/CMSIS/Include/core_cmFunc.h **** 
  41:Libraries/CMSIS/Include/core_cmFunc.h **** 
  42:Libraries/CMSIS/Include/core_cmFunc.h **** /* ###########################  Core Function Access  ########################### */
  43:Libraries/CMSIS/Include/core_cmFunc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
  44:Libraries/CMSIS/Include/core_cmFunc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
  45:Libraries/CMSIS/Include/core_cmFunc.h ****   @{
  46:Libraries/CMSIS/Include/core_cmFunc.h ****  */
  47:Libraries/CMSIS/Include/core_cmFunc.h **** 
  48:Libraries/CMSIS/Include/core_cmFunc.h **** #if   defined ( __CC_ARM ) /*------------------RealView Compiler -----------------*/
  49:Libraries/CMSIS/Include/core_cmFunc.h **** /* ARM armcc specific functions */
  50:Libraries/CMSIS/Include/core_cmFunc.h **** 
  51:Libraries/CMSIS/Include/core_cmFunc.h **** #if (__ARMCC_VERSION < 400677)
  52:Libraries/CMSIS/Include/core_cmFunc.h ****   #error "Please use ARM Compiler Toolchain V4.0.677 or later!"
  53:Libraries/CMSIS/Include/core_cmFunc.h **** #endif
  54:Libraries/CMSIS/Include/core_cmFunc.h **** 
  55:Libraries/CMSIS/Include/core_cmFunc.h **** /* intrinsic void __enable_irq();     */
  56:Libraries/CMSIS/Include/core_cmFunc.h **** /* intrinsic void __disable_irq();    */
  57:Libraries/CMSIS/Include/core_cmFunc.h **** 
  58:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get Control Register
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 23


  59:Libraries/CMSIS/Include/core_cmFunc.h **** 
  60:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the content of the Control Register.
  61:Libraries/CMSIS/Include/core_cmFunc.h **** 
  62:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               Control Register value
  63:Libraries/CMSIS/Include/core_cmFunc.h ****  */
  64:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE uint32_t __get_CONTROL(void)
  65:Libraries/CMSIS/Include/core_cmFunc.h **** {
  66:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regControl         __ASM("control");
  67:Libraries/CMSIS/Include/core_cmFunc.h ****   return(__regControl);
  68:Libraries/CMSIS/Include/core_cmFunc.h **** }
  69:Libraries/CMSIS/Include/core_cmFunc.h **** 
  70:Libraries/CMSIS/Include/core_cmFunc.h **** 
  71:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Control Register
  72:Libraries/CMSIS/Include/core_cmFunc.h **** 
  73:Libraries/CMSIS/Include/core_cmFunc.h ****     This function writes the given value to the Control Register.
  74:Libraries/CMSIS/Include/core_cmFunc.h **** 
  75:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    control  Control Register value to set
  76:Libraries/CMSIS/Include/core_cmFunc.h ****  */
  77:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE void __set_CONTROL(uint32_t control)
  78:Libraries/CMSIS/Include/core_cmFunc.h **** {
  79:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regControl         __ASM("control");
  80:Libraries/CMSIS/Include/core_cmFunc.h ****   __regControl = control;
  81:Libraries/CMSIS/Include/core_cmFunc.h **** }
  82:Libraries/CMSIS/Include/core_cmFunc.h **** 
  83:Libraries/CMSIS/Include/core_cmFunc.h **** 
  84:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get IPSR Register
  85:Libraries/CMSIS/Include/core_cmFunc.h **** 
  86:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the content of the IPSR Register.
  87:Libraries/CMSIS/Include/core_cmFunc.h **** 
  88:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               IPSR Register value
  89:Libraries/CMSIS/Include/core_cmFunc.h ****  */
  90:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE uint32_t __get_IPSR(void)
  91:Libraries/CMSIS/Include/core_cmFunc.h **** {
  92:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regIPSR          __ASM("ipsr");
  93:Libraries/CMSIS/Include/core_cmFunc.h ****   return(__regIPSR);
  94:Libraries/CMSIS/Include/core_cmFunc.h **** }
  95:Libraries/CMSIS/Include/core_cmFunc.h **** 
  96:Libraries/CMSIS/Include/core_cmFunc.h **** 
  97:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get APSR Register
  98:Libraries/CMSIS/Include/core_cmFunc.h **** 
  99:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the content of the APSR Register.
 100:Libraries/CMSIS/Include/core_cmFunc.h **** 
 101:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               APSR Register value
 102:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 103:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE uint32_t __get_APSR(void)
 104:Libraries/CMSIS/Include/core_cmFunc.h **** {
 105:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regAPSR          __ASM("apsr");
 106:Libraries/CMSIS/Include/core_cmFunc.h ****   return(__regAPSR);
 107:Libraries/CMSIS/Include/core_cmFunc.h **** }
 108:Libraries/CMSIS/Include/core_cmFunc.h **** 
 109:Libraries/CMSIS/Include/core_cmFunc.h **** 
 110:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get xPSR Register
 111:Libraries/CMSIS/Include/core_cmFunc.h **** 
 112:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the content of the xPSR Register.
 113:Libraries/CMSIS/Include/core_cmFunc.h **** 
 114:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               xPSR Register value
 115:Libraries/CMSIS/Include/core_cmFunc.h ****  */
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 24


 116:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE uint32_t __get_xPSR(void)
 117:Libraries/CMSIS/Include/core_cmFunc.h **** {
 118:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regXPSR          __ASM("xpsr");
 119:Libraries/CMSIS/Include/core_cmFunc.h ****   return(__regXPSR);
 120:Libraries/CMSIS/Include/core_cmFunc.h **** }
 121:Libraries/CMSIS/Include/core_cmFunc.h **** 
 122:Libraries/CMSIS/Include/core_cmFunc.h **** 
 123:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get Process Stack Pointer
 124:Libraries/CMSIS/Include/core_cmFunc.h **** 
 125:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the current value of the Process Stack Pointer (PSP).
 126:Libraries/CMSIS/Include/core_cmFunc.h **** 
 127:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               PSP Register value
 128:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 129:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE uint32_t __get_PSP(void)
 130:Libraries/CMSIS/Include/core_cmFunc.h **** {
 131:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regProcessStackPointer  __ASM("psp");
 132:Libraries/CMSIS/Include/core_cmFunc.h ****   return(__regProcessStackPointer);
 133:Libraries/CMSIS/Include/core_cmFunc.h **** }
 134:Libraries/CMSIS/Include/core_cmFunc.h **** 
 135:Libraries/CMSIS/Include/core_cmFunc.h **** 
 136:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Process Stack Pointer
 137:Libraries/CMSIS/Include/core_cmFunc.h **** 
 138:Libraries/CMSIS/Include/core_cmFunc.h ****     This function assigns the given value to the Process Stack Pointer (PSP).
 139:Libraries/CMSIS/Include/core_cmFunc.h **** 
 140:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    topOfProcStack  Process Stack Pointer value to set
 141:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 142:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE void __set_PSP(uint32_t topOfProcStack)
 143:Libraries/CMSIS/Include/core_cmFunc.h **** {
 144:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regProcessStackPointer  __ASM("psp");
 145:Libraries/CMSIS/Include/core_cmFunc.h ****   __regProcessStackPointer = topOfProcStack;
 146:Libraries/CMSIS/Include/core_cmFunc.h **** }
 147:Libraries/CMSIS/Include/core_cmFunc.h **** 
 148:Libraries/CMSIS/Include/core_cmFunc.h **** 
 149:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get Main Stack Pointer
 150:Libraries/CMSIS/Include/core_cmFunc.h **** 
 151:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the current value of the Main Stack Pointer (MSP).
 152:Libraries/CMSIS/Include/core_cmFunc.h **** 
 153:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               MSP Register value
 154:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 155:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE uint32_t __get_MSP(void)
 156:Libraries/CMSIS/Include/core_cmFunc.h **** {
 157:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regMainStackPointer     __ASM("msp");
 158:Libraries/CMSIS/Include/core_cmFunc.h ****   return(__regMainStackPointer);
 159:Libraries/CMSIS/Include/core_cmFunc.h **** }
 160:Libraries/CMSIS/Include/core_cmFunc.h **** 
 161:Libraries/CMSIS/Include/core_cmFunc.h **** 
 162:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Main Stack Pointer
 163:Libraries/CMSIS/Include/core_cmFunc.h **** 
 164:Libraries/CMSIS/Include/core_cmFunc.h ****     This function assigns the given value to the Main Stack Pointer (MSP).
 165:Libraries/CMSIS/Include/core_cmFunc.h **** 
 166:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    topOfMainStack  Main Stack Pointer value to set
 167:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 168:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE void __set_MSP(uint32_t topOfMainStack)
 169:Libraries/CMSIS/Include/core_cmFunc.h **** {
 170:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regMainStackPointer     __ASM("msp");
 171:Libraries/CMSIS/Include/core_cmFunc.h ****   __regMainStackPointer = topOfMainStack;
 172:Libraries/CMSIS/Include/core_cmFunc.h **** }
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 25


 173:Libraries/CMSIS/Include/core_cmFunc.h **** 
 174:Libraries/CMSIS/Include/core_cmFunc.h **** 
 175:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get Priority Mask
 176:Libraries/CMSIS/Include/core_cmFunc.h **** 
 177:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the current state of the priority mask bit from the Priority Mask Registe
 178:Libraries/CMSIS/Include/core_cmFunc.h **** 
 179:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               Priority Mask value
 180:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 181:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE uint32_t __get_PRIMASK(void)
 182:Libraries/CMSIS/Include/core_cmFunc.h **** {
 183:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regPriMask         __ASM("primask");
 184:Libraries/CMSIS/Include/core_cmFunc.h ****   return(__regPriMask);
 185:Libraries/CMSIS/Include/core_cmFunc.h **** }
 186:Libraries/CMSIS/Include/core_cmFunc.h **** 
 187:Libraries/CMSIS/Include/core_cmFunc.h **** 
 188:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Priority Mask
 189:Libraries/CMSIS/Include/core_cmFunc.h **** 
 190:Libraries/CMSIS/Include/core_cmFunc.h ****     This function assigns the given value to the Priority Mask Register.
 191:Libraries/CMSIS/Include/core_cmFunc.h **** 
 192:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    priMask  Priority Mask
 193:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 194:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE void __set_PRIMASK(uint32_t priMask)
 195:Libraries/CMSIS/Include/core_cmFunc.h **** {
 196:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regPriMask         __ASM("primask");
 197:Libraries/CMSIS/Include/core_cmFunc.h ****   __regPriMask = (priMask);
 198:Libraries/CMSIS/Include/core_cmFunc.h **** }
 199:Libraries/CMSIS/Include/core_cmFunc.h **** 
 200:Libraries/CMSIS/Include/core_cmFunc.h **** 
 201:Libraries/CMSIS/Include/core_cmFunc.h **** #if       (__CORTEX_M >= 0x03) || (__CORTEX_SC >= 300)
 202:Libraries/CMSIS/Include/core_cmFunc.h **** 
 203:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Enable FIQ
 204:Libraries/CMSIS/Include/core_cmFunc.h **** 
 205:Libraries/CMSIS/Include/core_cmFunc.h ****     This function enables FIQ interrupts by clearing the F-bit in the CPSR.
 206:Libraries/CMSIS/Include/core_cmFunc.h ****     Can only be executed in Privileged modes.
 207:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 208:Libraries/CMSIS/Include/core_cmFunc.h **** #define __enable_fault_irq                __enable_fiq
 209:Libraries/CMSIS/Include/core_cmFunc.h **** 
 210:Libraries/CMSIS/Include/core_cmFunc.h **** 
 211:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Disable FIQ
 212:Libraries/CMSIS/Include/core_cmFunc.h **** 
 213:Libraries/CMSIS/Include/core_cmFunc.h ****     This function disables FIQ interrupts by setting the F-bit in the CPSR.
 214:Libraries/CMSIS/Include/core_cmFunc.h ****     Can only be executed in Privileged modes.
 215:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 216:Libraries/CMSIS/Include/core_cmFunc.h **** #define __disable_fault_irq               __disable_fiq
 217:Libraries/CMSIS/Include/core_cmFunc.h **** 
 218:Libraries/CMSIS/Include/core_cmFunc.h **** 
 219:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get Base Priority
 220:Libraries/CMSIS/Include/core_cmFunc.h **** 
 221:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the current value of the Base Priority register.
 222:Libraries/CMSIS/Include/core_cmFunc.h **** 
 223:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               Base Priority register value
 224:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 225:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE uint32_t  __get_BASEPRI(void)
 226:Libraries/CMSIS/Include/core_cmFunc.h **** {
 227:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regBasePri         __ASM("basepri");
 228:Libraries/CMSIS/Include/core_cmFunc.h ****   return(__regBasePri);
 229:Libraries/CMSIS/Include/core_cmFunc.h **** }
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 26


 230:Libraries/CMSIS/Include/core_cmFunc.h **** 
 231:Libraries/CMSIS/Include/core_cmFunc.h **** 
 232:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Base Priority
 233:Libraries/CMSIS/Include/core_cmFunc.h **** 
 234:Libraries/CMSIS/Include/core_cmFunc.h ****     This function assigns the given value to the Base Priority register.
 235:Libraries/CMSIS/Include/core_cmFunc.h **** 
 236:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    basePri  Base Priority value to set
 237:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 238:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE void __set_BASEPRI(uint32_t basePri)
 239:Libraries/CMSIS/Include/core_cmFunc.h **** {
 240:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regBasePri         __ASM("basepri");
 241:Libraries/CMSIS/Include/core_cmFunc.h ****   __regBasePri = (basePri & 0xff);
 242:Libraries/CMSIS/Include/core_cmFunc.h **** }
 243:Libraries/CMSIS/Include/core_cmFunc.h **** 
 244:Libraries/CMSIS/Include/core_cmFunc.h **** 
 245:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Base Priority with condition
 246:Libraries/CMSIS/Include/core_cmFunc.h **** 
 247:Libraries/CMSIS/Include/core_cmFunc.h ****     This function assigns the given value to the Base Priority register only if BASEPRI masking is 
 248:Libraries/CMSIS/Include/core_cmFunc.h ****     or the new value increases the BASEPRI priority level.
 249:Libraries/CMSIS/Include/core_cmFunc.h **** 
 250:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    basePri  Base Priority value to set
 251:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 252:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE void __set_BASEPRI_MAX(uint32_t basePri)
 253:Libraries/CMSIS/Include/core_cmFunc.h **** {
 254:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regBasePriMax      __ASM("basepri_max");
 255:Libraries/CMSIS/Include/core_cmFunc.h ****   __regBasePriMax = (basePri & 0xff);
 256:Libraries/CMSIS/Include/core_cmFunc.h **** }
 257:Libraries/CMSIS/Include/core_cmFunc.h **** 
 258:Libraries/CMSIS/Include/core_cmFunc.h **** 
 259:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get Fault Mask
 260:Libraries/CMSIS/Include/core_cmFunc.h **** 
 261:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the current value of the Fault Mask register.
 262:Libraries/CMSIS/Include/core_cmFunc.h **** 
 263:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               Fault Mask register value
 264:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 265:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE uint32_t __get_FAULTMASK(void)
 266:Libraries/CMSIS/Include/core_cmFunc.h **** {
 267:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regFaultMask       __ASM("faultmask");
 268:Libraries/CMSIS/Include/core_cmFunc.h ****   return(__regFaultMask);
 269:Libraries/CMSIS/Include/core_cmFunc.h **** }
 270:Libraries/CMSIS/Include/core_cmFunc.h **** 
 271:Libraries/CMSIS/Include/core_cmFunc.h **** 
 272:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Fault Mask
 273:Libraries/CMSIS/Include/core_cmFunc.h **** 
 274:Libraries/CMSIS/Include/core_cmFunc.h ****     This function assigns the given value to the Fault Mask register.
 275:Libraries/CMSIS/Include/core_cmFunc.h **** 
 276:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    faultMask  Fault Mask value to set
 277:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 278:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE void __set_FAULTMASK(uint32_t faultMask)
 279:Libraries/CMSIS/Include/core_cmFunc.h **** {
 280:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regFaultMask       __ASM("faultmask");
 281:Libraries/CMSIS/Include/core_cmFunc.h ****   __regFaultMask = (faultMask & (uint32_t)1);
 282:Libraries/CMSIS/Include/core_cmFunc.h **** }
 283:Libraries/CMSIS/Include/core_cmFunc.h **** 
 284:Libraries/CMSIS/Include/core_cmFunc.h **** #endif /* (__CORTEX_M >= 0x03) || (__CORTEX_SC >= 300) */
 285:Libraries/CMSIS/Include/core_cmFunc.h **** 
 286:Libraries/CMSIS/Include/core_cmFunc.h **** 
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 27


 287:Libraries/CMSIS/Include/core_cmFunc.h **** #if       (__CORTEX_M == 0x04) || (__CORTEX_M == 0x07)
 288:Libraries/CMSIS/Include/core_cmFunc.h **** 
 289:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get FPSCR
 290:Libraries/CMSIS/Include/core_cmFunc.h **** 
 291:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the current value of the Floating Point Status/Control register.
 292:Libraries/CMSIS/Include/core_cmFunc.h **** 
 293:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               Floating Point Status/Control register value
 294:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 295:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE uint32_t __get_FPSCR(void)
 296:Libraries/CMSIS/Include/core_cmFunc.h **** {
 297:Libraries/CMSIS/Include/core_cmFunc.h **** #if (__FPU_PRESENT == 1) && (__FPU_USED == 1)
 298:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regfpscr         __ASM("fpscr");
 299:Libraries/CMSIS/Include/core_cmFunc.h ****   return(__regfpscr);
 300:Libraries/CMSIS/Include/core_cmFunc.h **** #else
 301:Libraries/CMSIS/Include/core_cmFunc.h ****    return(0);
 302:Libraries/CMSIS/Include/core_cmFunc.h **** #endif
 303:Libraries/CMSIS/Include/core_cmFunc.h **** }
 304:Libraries/CMSIS/Include/core_cmFunc.h **** 
 305:Libraries/CMSIS/Include/core_cmFunc.h **** 
 306:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set FPSCR
 307:Libraries/CMSIS/Include/core_cmFunc.h **** 
 308:Libraries/CMSIS/Include/core_cmFunc.h ****     This function assigns the given value to the Floating Point Status/Control register.
 309:Libraries/CMSIS/Include/core_cmFunc.h **** 
 310:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    fpscr  Floating Point Status/Control value to set
 311:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 312:Libraries/CMSIS/Include/core_cmFunc.h **** __STATIC_INLINE void __set_FPSCR(uint32_t fpscr)
 313:Libraries/CMSIS/Include/core_cmFunc.h **** {
 314:Libraries/CMSIS/Include/core_cmFunc.h **** #if (__FPU_PRESENT == 1) && (__FPU_USED == 1)
 315:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t __regfpscr         __ASM("fpscr");
 316:Libraries/CMSIS/Include/core_cmFunc.h ****   __regfpscr = (fpscr);
 317:Libraries/CMSIS/Include/core_cmFunc.h **** #endif
 318:Libraries/CMSIS/Include/core_cmFunc.h **** }
 319:Libraries/CMSIS/Include/core_cmFunc.h **** 
 320:Libraries/CMSIS/Include/core_cmFunc.h **** #endif /* (__CORTEX_M == 0x04) || (__CORTEX_M == 0x07) */
 321:Libraries/CMSIS/Include/core_cmFunc.h **** 
 322:Libraries/CMSIS/Include/core_cmFunc.h **** 
 323:Libraries/CMSIS/Include/core_cmFunc.h **** #elif defined ( __GNUC__ ) /*------------------ GNU Compiler ---------------------*/
 324:Libraries/CMSIS/Include/core_cmFunc.h **** /* GNU gcc specific functions */
 325:Libraries/CMSIS/Include/core_cmFunc.h **** 
 326:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Enable IRQ Interrupts
 327:Libraries/CMSIS/Include/core_cmFunc.h **** 
 328:Libraries/CMSIS/Include/core_cmFunc.h ****   This function enables IRQ interrupts by clearing the I-bit in the CPSR.
 329:Libraries/CMSIS/Include/core_cmFunc.h ****   Can only be executed in Privileged modes.
 330:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 331:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __enable_irq(void)
 332:Libraries/CMSIS/Include/core_cmFunc.h **** {
 333:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 334:Libraries/CMSIS/Include/core_cmFunc.h **** }
 335:Libraries/CMSIS/Include/core_cmFunc.h **** 
 336:Libraries/CMSIS/Include/core_cmFunc.h **** 
 337:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Disable IRQ Interrupts
 338:Libraries/CMSIS/Include/core_cmFunc.h **** 
 339:Libraries/CMSIS/Include/core_cmFunc.h ****   This function disables IRQ interrupts by setting the I-bit in the CPSR.
 340:Libraries/CMSIS/Include/core_cmFunc.h ****   Can only be executed in Privileged modes.
 341:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 342:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __disable_irq(void)
 343:Libraries/CMSIS/Include/core_cmFunc.h **** {
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 28


 344:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 345:Libraries/CMSIS/Include/core_cmFunc.h **** }
 346:Libraries/CMSIS/Include/core_cmFunc.h **** 
 347:Libraries/CMSIS/Include/core_cmFunc.h **** 
 348:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get Control Register
 349:Libraries/CMSIS/Include/core_cmFunc.h **** 
 350:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the content of the Control Register.
 351:Libraries/CMSIS/Include/core_cmFunc.h **** 
 352:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               Control Register value
 353:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 354:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_CONTROL(void)
 355:Libraries/CMSIS/Include/core_cmFunc.h **** {
 356:Libraries/CMSIS/Include/core_cmFunc.h ****   uint32_t result;
 357:Libraries/CMSIS/Include/core_cmFunc.h **** 
 358:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 359:Libraries/CMSIS/Include/core_cmFunc.h ****   return(result);
 360:Libraries/CMSIS/Include/core_cmFunc.h **** }
 361:Libraries/CMSIS/Include/core_cmFunc.h **** 
 362:Libraries/CMSIS/Include/core_cmFunc.h **** 
 363:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Control Register
 364:Libraries/CMSIS/Include/core_cmFunc.h **** 
 365:Libraries/CMSIS/Include/core_cmFunc.h ****     This function writes the given value to the Control Register.
 366:Libraries/CMSIS/Include/core_cmFunc.h **** 
 367:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    control  Control Register value to set
 368:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 369:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __set_CONTROL(uint32_t control)
 370:Libraries/CMSIS/Include/core_cmFunc.h **** {
 371:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
 372:Libraries/CMSIS/Include/core_cmFunc.h **** }
 373:Libraries/CMSIS/Include/core_cmFunc.h **** 
 374:Libraries/CMSIS/Include/core_cmFunc.h **** 
 375:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get IPSR Register
 376:Libraries/CMSIS/Include/core_cmFunc.h **** 
 377:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the content of the IPSR Register.
 378:Libraries/CMSIS/Include/core_cmFunc.h **** 
 379:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               IPSR Register value
 380:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 381:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_IPSR(void)
 382:Libraries/CMSIS/Include/core_cmFunc.h **** {
 383:Libraries/CMSIS/Include/core_cmFunc.h ****   uint32_t result;
 384:Libraries/CMSIS/Include/core_cmFunc.h **** 
 385:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 386:Libraries/CMSIS/Include/core_cmFunc.h ****   return(result);
 387:Libraries/CMSIS/Include/core_cmFunc.h **** }
 388:Libraries/CMSIS/Include/core_cmFunc.h **** 
 389:Libraries/CMSIS/Include/core_cmFunc.h **** 
 390:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get APSR Register
 391:Libraries/CMSIS/Include/core_cmFunc.h **** 
 392:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the content of the APSR Register.
 393:Libraries/CMSIS/Include/core_cmFunc.h **** 
 394:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               APSR Register value
 395:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 396:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_APSR(void)
 397:Libraries/CMSIS/Include/core_cmFunc.h **** {
 398:Libraries/CMSIS/Include/core_cmFunc.h ****   uint32_t result;
 399:Libraries/CMSIS/Include/core_cmFunc.h **** 
 400:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MRS %0, apsr" : "=r" (result) );
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 29


 401:Libraries/CMSIS/Include/core_cmFunc.h ****   return(result);
 402:Libraries/CMSIS/Include/core_cmFunc.h **** }
 403:Libraries/CMSIS/Include/core_cmFunc.h **** 
 404:Libraries/CMSIS/Include/core_cmFunc.h **** 
 405:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get xPSR Register
 406:Libraries/CMSIS/Include/core_cmFunc.h **** 
 407:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the content of the xPSR Register.
 408:Libraries/CMSIS/Include/core_cmFunc.h **** 
 409:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               xPSR Register value
 410:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 411:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_xPSR(void)
 412:Libraries/CMSIS/Include/core_cmFunc.h **** {
 413:Libraries/CMSIS/Include/core_cmFunc.h ****   uint32_t result;
 414:Libraries/CMSIS/Include/core_cmFunc.h **** 
 415:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MRS %0, xpsr" : "=r" (result) );
 416:Libraries/CMSIS/Include/core_cmFunc.h ****   return(result);
 417:Libraries/CMSIS/Include/core_cmFunc.h **** }
 418:Libraries/CMSIS/Include/core_cmFunc.h **** 
 419:Libraries/CMSIS/Include/core_cmFunc.h **** 
 420:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get Process Stack Pointer
 421:Libraries/CMSIS/Include/core_cmFunc.h **** 
 422:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the current value of the Process Stack Pointer (PSP).
 423:Libraries/CMSIS/Include/core_cmFunc.h **** 
 424:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               PSP Register value
 425:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 426:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_PSP(void)
 427:Libraries/CMSIS/Include/core_cmFunc.h **** {
 428:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t result;
 429:Libraries/CMSIS/Include/core_cmFunc.h **** 
 430:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MRS %0, psp\n"  : "=r" (result) );
 431:Libraries/CMSIS/Include/core_cmFunc.h ****   return(result);
 432:Libraries/CMSIS/Include/core_cmFunc.h **** }
 433:Libraries/CMSIS/Include/core_cmFunc.h **** 
 434:Libraries/CMSIS/Include/core_cmFunc.h **** 
 435:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Process Stack Pointer
 436:Libraries/CMSIS/Include/core_cmFunc.h **** 
 437:Libraries/CMSIS/Include/core_cmFunc.h ****     This function assigns the given value to the Process Stack Pointer (PSP).
 438:Libraries/CMSIS/Include/core_cmFunc.h **** 
 439:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    topOfProcStack  Process Stack Pointer value to set
 440:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 441:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __set_PSP(uint32_t topOfProcStack)
 442:Libraries/CMSIS/Include/core_cmFunc.h **** {
 443:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MSR psp, %0\n" : : "r" (topOfProcStack) : "sp");
 444:Libraries/CMSIS/Include/core_cmFunc.h **** }
 445:Libraries/CMSIS/Include/core_cmFunc.h **** 
 446:Libraries/CMSIS/Include/core_cmFunc.h **** 
 447:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get Main Stack Pointer
 448:Libraries/CMSIS/Include/core_cmFunc.h **** 
 449:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the current value of the Main Stack Pointer (MSP).
 450:Libraries/CMSIS/Include/core_cmFunc.h **** 
 451:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               MSP Register value
 452:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 453:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_MSP(void)
 454:Libraries/CMSIS/Include/core_cmFunc.h **** {
 455:Libraries/CMSIS/Include/core_cmFunc.h ****   register uint32_t result;
 456:Libraries/CMSIS/Include/core_cmFunc.h **** 
 457:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MRS %0, msp\n" : "=r" (result) );
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 30


 458:Libraries/CMSIS/Include/core_cmFunc.h ****   return(result);
 459:Libraries/CMSIS/Include/core_cmFunc.h **** }
 460:Libraries/CMSIS/Include/core_cmFunc.h **** 
 461:Libraries/CMSIS/Include/core_cmFunc.h **** 
 462:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Main Stack Pointer
 463:Libraries/CMSIS/Include/core_cmFunc.h **** 
 464:Libraries/CMSIS/Include/core_cmFunc.h ****     This function assigns the given value to the Main Stack Pointer (MSP).
 465:Libraries/CMSIS/Include/core_cmFunc.h **** 
 466:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    topOfMainStack  Main Stack Pointer value to set
 467:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 468:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __set_MSP(uint32_t topOfMainStack)
 469:Libraries/CMSIS/Include/core_cmFunc.h **** {
 470:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MSR msp, %0\n" : : "r" (topOfMainStack) : "sp");
 471:Libraries/CMSIS/Include/core_cmFunc.h **** }
 472:Libraries/CMSIS/Include/core_cmFunc.h **** 
 473:Libraries/CMSIS/Include/core_cmFunc.h **** 
 474:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Get Priority Mask
 475:Libraries/CMSIS/Include/core_cmFunc.h **** 
 476:Libraries/CMSIS/Include/core_cmFunc.h ****     This function returns the current state of the priority mask bit from the Priority Mask Registe
 477:Libraries/CMSIS/Include/core_cmFunc.h **** 
 478:Libraries/CMSIS/Include/core_cmFunc.h ****     \return               Priority Mask value
 479:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 480:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_PRIMASK(void)
 481:Libraries/CMSIS/Include/core_cmFunc.h **** {
 482:Libraries/CMSIS/Include/core_cmFunc.h ****   uint32_t result;
 483:Libraries/CMSIS/Include/core_cmFunc.h **** 
 484:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MRS %0, primask" : "=r" (result) );
 485:Libraries/CMSIS/Include/core_cmFunc.h ****   return(result);
 486:Libraries/CMSIS/Include/core_cmFunc.h **** }
 487:Libraries/CMSIS/Include/core_cmFunc.h **** 
 488:Libraries/CMSIS/Include/core_cmFunc.h **** 
 489:Libraries/CMSIS/Include/core_cmFunc.h **** /** \brief  Set Priority Mask
 490:Libraries/CMSIS/Include/core_cmFunc.h **** 
 491:Libraries/CMSIS/Include/core_cmFunc.h ****     This function assigns the given value to the Priority Mask Register.
 492:Libraries/CMSIS/Include/core_cmFunc.h **** 
 493:Libraries/CMSIS/Include/core_cmFunc.h ****     \param [in]    priMask  Priority Mask
 494:Libraries/CMSIS/Include/core_cmFunc.h ****  */
 495:Libraries/CMSIS/Include/core_cmFunc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __set_PRIMASK(uint32_t priMask)
 113              		.loc 2 495 57 view .LVU33
 114              	.LBB20:
 496:Libraries/CMSIS/Include/core_cmFunc.h **** {
 497:Libraries/CMSIS/Include/core_cmFunc.h ****   __ASM volatile ("MSR primask, %0" : : "r" (priMask) : "memory");
 115              		.loc 2 497 3 view .LVU34
 116 0000 0123     		movs	r3, #1
 117              		.syntax unified
 118              	@ 497 "Libraries/CMSIS/Include/core_cmFunc.h" 1
 119 0002 83F31088 		MSR primask, r3
 120              	@ 0 "" 2
 121              	.LVL1:
 122              		.loc 2 497 3 is_stmt 0 view .LVU35
 123              		.thumb
 124              		.syntax unified
 125              	.LBE20:
 126              	.LBE19:
1088:bsp/src/bsp_uart_fifo.c **** 	usCount = _pUart->usRxCount;
 127              		.loc 1 1088 2 is_stmt 1 view .LVU36
 128              		.loc 1 1088 10 is_stmt 0 view .LVU37
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 31


 129 0006 438B     		ldrh	r3, [r0, #26]
 130 0008 9BB2     		uxth	r3, r3
 131              	.LVL2:
1089:bsp/src/bsp_uart_fifo.c **** 	ENABLE_INT();
 132              		.loc 1 1089 2 is_stmt 1 view .LVU38
 133              	.LBB21:
 134              	.LBI21:
 495:Libraries/CMSIS/Include/core_cmFunc.h **** {
 135              		.loc 2 495 57 view .LVU39
 136              	.LBB22:
 137              		.loc 2 497 3 view .LVU40
 138 000a 0022     		movs	r2, #0
 139              		.syntax unified
 140              	@ 497 "Libraries/CMSIS/Include/core_cmFunc.h" 1
 141 000c 82F31088 		MSR primask, r2
 142              	@ 0 "" 2
 143              	.LVL3:
 144              		.loc 2 497 3 is_stmt 0 view .LVU41
 145              		.thumb
 146              		.syntax unified
 147              	.LBE22:
 148              	.LBE21:
1090:bsp/src/bsp_uart_fifo.c **** 
1091:bsp/src/bsp_uart_fifo.c **** 	/* å¦‚æœè¯»å’Œå†™ç´¢å¼•ç›¸åŒï¼Œåˆ™è¿”å›0 */
1092:bsp/src/bsp_uart_fifo.c **** 	//if (_pUart->usRxRead == usRxWrite)
1093:bsp/src/bsp_uart_fifo.c **** 	if (usCount == 0)	/* å·²ç»æ²¡æœ‰æ•°æ® */
 149              		.loc 1 1093 2 is_stmt 1 view .LVU42
 150              		.loc 1 1093 5 is_stmt 0 view .LVU43
 151 0010 CBB1     		cbz	r3, .L7
1094:bsp/src/bsp_uart_fifo.c **** 	{
1095:bsp/src/bsp_uart_fifo.c **** 		return 0;
1096:bsp/src/bsp_uart_fifo.c **** 	}
1097:bsp/src/bsp_uart_fifo.c **** 	else
1098:bsp/src/bsp_uart_fifo.c **** 	{
1099:bsp/src/bsp_uart_fifo.c **** 		*_pByte = _pUart->pRxBuf[_pUart->usRxRead];		/* ä»ä¸²å£æ¥æ”¶FIFOå–1ä¸ªæ•°æ® */
 152              		.loc 1 1099 3 is_stmt 1 view .LVU44
 153              		.loc 1 1099 19 is_stmt 0 view .LVU45
 154 0012 8268     		ldr	r2, [r0, #8]
 155              		.loc 1 1099 34 view .LVU46
 156 0014 038B     		ldrh	r3, [r0, #24]
 157              	.LVL4:
 158              		.loc 1 1099 34 view .LVU47
 159 0016 9BB2     		uxth	r3, r3
 160              		.loc 1 1099 27 view .LVU48
 161 0018 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 162              		.loc 1 1099 11 view .LVU49
 163 001a 0B70     		strb	r3, [r1]
1100:bsp/src/bsp_uart_fifo.c **** 
1101:bsp/src/bsp_uart_fifo.c **** 		/* æ”¹å†™FIFOè¯»ç´¢å¼• */
1102:bsp/src/bsp_uart_fifo.c **** 		DISABLE_INT();
 164              		.loc 1 1102 3 is_stmt 1 view .LVU50
 165              	.LVL5:
 166              	.LBB23:
 167              	.LBI23:
 495:Libraries/CMSIS/Include/core_cmFunc.h **** {
 168              		.loc 2 495 57 view .LVU51
 169              	.LBB24:
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 32


 170              		.loc 2 497 3 view .LVU52
 171 001c 0123     		movs	r3, #1
 172              		.syntax unified
 173              	@ 497 "Libraries/CMSIS/Include/core_cmFunc.h" 1
 174 001e 83F31088 		MSR primask, r3
 175              	@ 0 "" 2
 176              	.LVL6:
 177              		.loc 2 497 3 is_stmt 0 view .LVU53
 178              		.thumb
 179              		.syntax unified
 180              	.LBE24:
 181              	.LBE23:
1103:bsp/src/bsp_uart_fifo.c **** 		if (++_pUart->usRxRead >= _pUart->usRxBufSize)
 182              		.loc 1 1103 3 is_stmt 1 view .LVU54
 183              		.loc 1 1103 15 is_stmt 0 view .LVU55
 184 0022 038B     		ldrh	r3, [r0, #24]
 185              		.loc 1 1103 7 view .LVU56
 186 0024 0133     		adds	r3, r3, #1
 187 0026 9BB2     		uxth	r3, r3
 188              		.loc 1 1103 6 view .LVU57
 189 0028 0383     		strh	r3, [r0, #24]	@ movhi
 190              		.loc 1 1103 35 view .LVU58
 191 002a C289     		ldrh	r2, [r0, #14]
 192              		.loc 1 1103 6 view .LVU59
 193 002c 9342     		cmp	r3, r2
 194 002e 01D3     		bcc	.L6
1104:bsp/src/bsp_uart_fifo.c **** 		{
1105:bsp/src/bsp_uart_fifo.c **** 			_pUart->usRxRead = 0;
 195              		.loc 1 1105 4 is_stmt 1 view .LVU60
 196              		.loc 1 1105 21 is_stmt 0 view .LVU61
 197 0030 0023     		movs	r3, #0
 198 0032 0383     		strh	r3, [r0, #24]	@ movhi
 199              	.L6:
1106:bsp/src/bsp_uart_fifo.c **** 		}
1107:bsp/src/bsp_uart_fifo.c **** 		_pUart->usRxCount--;
 200              		.loc 1 1107 3 is_stmt 1 view .LVU62
 201              		.loc 1 1107 9 is_stmt 0 view .LVU63
 202 0034 438B     		ldrh	r3, [r0, #26]
 203              		.loc 1 1107 20 view .LVU64
 204 0036 013B     		subs	r3, r3, #1
 205 0038 9BB2     		uxth	r3, r3
 206 003a 4383     		strh	r3, [r0, #26]	@ movhi
1108:bsp/src/bsp_uart_fifo.c **** 		ENABLE_INT();
 207              		.loc 1 1108 3 is_stmt 1 view .LVU65
 208              	.LVL7:
 209              	.LBB25:
 210              	.LBI25:
 495:Libraries/CMSIS/Include/core_cmFunc.h **** {
 211              		.loc 2 495 57 view .LVU66
 212              	.LBB26:
 213              		.loc 2 497 3 view .LVU67
 214 003c 0023     		movs	r3, #0
 215              		.syntax unified
 216              	@ 497 "Libraries/CMSIS/Include/core_cmFunc.h" 1
 217 003e 83F31088 		MSR primask, r3
 218              	@ 0 "" 2
 219              	.LVL8:
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 33


 220              		.loc 2 497 3 is_stmt 0 view .LVU68
 221              		.thumb
 222              		.syntax unified
 223              	.LBE26:
 224              	.LBE25:
1109:bsp/src/bsp_uart_fifo.c **** 		return 1;
 225              		.loc 1 1109 3 is_stmt 1 view .LVU69
 226              		.loc 1 1109 10 is_stmt 0 view .LVU70
 227 0042 0120     		movs	r0, #1
 228              	.LVL9:
 229              		.loc 1 1109 10 view .LVU71
 230 0044 7047     		bx	lr
 231              	.LVL10:
 232              	.L7:
1095:bsp/src/bsp_uart_fifo.c **** 	}
 233              		.loc 1 1095 10 view .LVU72
 234 0046 0020     		movs	r0, #0
 235              	.LVL11:
1110:bsp/src/bsp_uart_fifo.c **** 	}
1111:bsp/src/bsp_uart_fifo.c **** }
 236              		.loc 1 1111 1 view .LVU73
 237 0048 7047     		bx	lr
 238              		.cfi_endproc
 239              	.LFE140:
 241              		.section	.text.UartSend,"ax",%progbits
 242              		.align	1
 243              		.syntax unified
 244              		.thumb
 245              		.thumb_func
 246              		.fpu fpv4-sp-d16
 248              	UartSend:
 249              	.LVL12:
 250              	.LFB139:
1011:bsp/src/bsp_uart_fifo.c **** 	uint16_t i;
 251              		.loc 1 1011 1 is_stmt 1 view -0
 252              		.cfi_startproc
 253              		@ args = 0, pretend = 0, frame = 8
 254              		@ frame_needed = 0, uses_anonymous_args = 0
1011:bsp/src/bsp_uart_fifo.c **** 	uint16_t i;
 255              		.loc 1 1011 1 is_stmt 0 view .LVU75
 256 0000 70B5     		push	{r4, r5, r6, lr}
 257              	.LCFI0:
 258              		.cfi_def_cfa_offset 16
 259              		.cfi_offset 4, -16
 260              		.cfi_offset 5, -12
 261              		.cfi_offset 6, -8
 262              		.cfi_offset 14, -4
 263 0002 82B0     		sub	sp, sp, #8
 264              	.LCFI1:
 265              		.cfi_def_cfa_offset 24
1012:bsp/src/bsp_uart_fifo.c **** 
 266              		.loc 1 1012 2 is_stmt 1 view .LVU76
1014:bsp/src/bsp_uart_fifo.c **** 	{
 267              		.loc 1 1014 2 view .LVU77
 268              	.LVL13:
1014:bsp/src/bsp_uart_fifo.c **** 	{
 269              		.loc 1 1014 9 is_stmt 0 view .LVU78
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 34


 270 0004 0025     		movs	r5, #0
1014:bsp/src/bsp_uart_fifo.c **** 	{
 271              		.loc 1 1014 2 view .LVU79
 272 0006 08E0     		b	.L9
 273              	.LVL14:
 274              	.L11:
1066:bsp/src/bsp_uart_fifo.c **** 		ENABLE_INT();
 275              		.loc 1 1066 3 is_stmt 1 discriminator 2 view .LVU80
1066:bsp/src/bsp_uart_fifo.c **** 		ENABLE_INT();
 276              		.loc 1 1066 9 is_stmt 0 discriminator 2 view .LVU81
 277 0008 838A     		ldrh	r3, [r0, #20]
1066:bsp/src/bsp_uart_fifo.c **** 		ENABLE_INT();
 278              		.loc 1 1066 20 discriminator 2 view .LVU82
 279 000a 0133     		adds	r3, r3, #1
 280 000c 9BB2     		uxth	r3, r3
 281 000e 8382     		strh	r3, [r0, #20]	@ movhi
1067:bsp/src/bsp_uart_fifo.c **** 	}
 282              		.loc 1 1067 3 is_stmt 1 discriminator 2 view .LVU83
 283              	.LVL15:
 284              	.LBB27:
 285              	.LBI27:
 495:Libraries/CMSIS/Include/core_cmFunc.h **** {
 286              		.loc 2 495 57 discriminator 2 view .LVU84
 287              	.LBB28:
 288              		.loc 2 497 3 discriminator 2 view .LVU85
 289 0010 0023     		movs	r3, #0
 290              		.syntax unified
 291              	@ 497 "Libraries/CMSIS/Include/core_cmFunc.h" 1
 292 0012 83F31088 		MSR primask, r3
 293              	@ 0 "" 2
 294              	.LVL16:
 295              		.loc 2 497 3 is_stmt 0 discriminator 2 view .LVU86
 296              		.thumb
 297              		.syntax unified
 298              	.LBE28:
 299              	.LBE27:
1014:bsp/src/bsp_uart_fifo.c **** 	{
 300              		.loc 1 1014 27 discriminator 2 view .LVU87
 301 0016 0135     		adds	r5, r5, #1
 302              	.LVL17:
1014:bsp/src/bsp_uart_fifo.c **** 	{
 303              		.loc 1 1014 27 discriminator 2 view .LVU88
 304 0018 ADB2     		uxth	r5, r5
 305              	.LVL18:
 306              	.L9:
1014:bsp/src/bsp_uart_fifo.c **** 	{
 307              		.loc 1 1014 2 discriminator 1 view .LVU89
 308 001a 9542     		cmp	r5, r2
 309 001c 21D2     		bcs	.L13
 310              	.L10:
1043:bsp/src/bsp_uart_fifo.c **** 		{
 311              		.loc 1 1043 3 is_stmt 1 view .LVU90
 312              	.LBB29:
1045:bsp/src/bsp_uart_fifo.c **** 
 313              		.loc 1 1045 4 view .LVU91
1047:bsp/src/bsp_uart_fifo.c **** 			usCount = _pUart->usTxCount;
 314              		.loc 1 1047 4 view .LVU92
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 35


 315              	.LVL19:
 316              	.LBB30:
 317              	.LBI30:
 495:Libraries/CMSIS/Include/core_cmFunc.h **** {
 318              		.loc 2 495 57 view .LVU93
 319              	.LBB31:
 320              		.loc 2 497 3 view .LVU94
 321 001e 0123     		movs	r3, #1
 322              		.syntax unified
 323              	@ 497 "Libraries/CMSIS/Include/core_cmFunc.h" 1
 324 0020 83F31088 		MSR primask, r3
 325              	@ 0 "" 2
 326              	.LVL20:
 327              		.loc 2 497 3 is_stmt 0 view .LVU95
 328              		.thumb
 329              		.syntax unified
 330              	.LBE31:
 331              	.LBE30:
1048:bsp/src/bsp_uart_fifo.c **** 			ENABLE_INT();
 332              		.loc 1 1048 4 is_stmt 1 view .LVU96
1048:bsp/src/bsp_uart_fifo.c **** 			ENABLE_INT();
 333              		.loc 1 1048 20 is_stmt 0 view .LVU97
 334 0024 838A     		ldrh	r3, [r0, #20]
 335 0026 9BB2     		uxth	r3, r3
1048:bsp/src/bsp_uart_fifo.c **** 			ENABLE_INT();
 336              		.loc 1 1048 12 view .LVU98
 337 0028 ADF80630 		strh	r3, [sp, #6]	@ movhi
1049:bsp/src/bsp_uart_fifo.c **** 
 338              		.loc 1 1049 4 is_stmt 1 view .LVU99
 339              	.LVL21:
 340              	.LBB32:
 341              	.LBI32:
 495:Libraries/CMSIS/Include/core_cmFunc.h **** {
 342              		.loc 2 495 57 view .LVU100
 343              	.LBB33:
 344              		.loc 2 497 3 view .LVU101
 345 002c 0023     		movs	r3, #0
 346              		.syntax unified
 347              	@ 497 "Libraries/CMSIS/Include/core_cmFunc.h" 1
 348 002e 83F31088 		MSR primask, r3
 349              	@ 0 "" 2
 350              	.LVL22:
 351              		.loc 2 497 3 is_stmt 0 view .LVU102
 352              		.thumb
 353              		.syntax unified
 354              	.LBE33:
 355              	.LBE32:
1051:bsp/src/bsp_uart_fifo.c **** 			{
 356              		.loc 1 1051 4 is_stmt 1 view .LVU103
1051:bsp/src/bsp_uart_fifo.c **** 			{
 357              		.loc 1 1051 24 is_stmt 0 view .LVU104
 358 0032 8489     		ldrh	r4, [r0, #12]
1051:bsp/src/bsp_uart_fifo.c **** 			{
 359              		.loc 1 1051 16 view .LVU105
 360 0034 BDF80630 		ldrh	r3, [sp, #6]
 361 0038 9BB2     		uxth	r3, r3
1051:bsp/src/bsp_uart_fifo.c **** 			{
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 36


 362              		.loc 1 1051 7 view .LVU106
 363 003a 9C42     		cmp	r4, r3
 364 003c EFD9     		bls	.L10
 365              	.LBE29:
1059:bsp/src/bsp_uart_fifo.c **** 
 366              		.loc 1 1059 3 is_stmt 1 view .LVU107
1059:bsp/src/bsp_uart_fifo.c **** 
 367              		.loc 1 1059 9 is_stmt 0 view .LVU108
 368 003e 4468     		ldr	r4, [r0, #4]
1059:bsp/src/bsp_uart_fifo.c **** 
 369              		.loc 1 1059 24 view .LVU109
 370 0040 038A     		ldrh	r3, [r0, #16]
 371 0042 9BB2     		uxth	r3, r3
1059:bsp/src/bsp_uart_fifo.c **** 
 372              		.loc 1 1059 46 view .LVU110
 373 0044 4E5D     		ldrb	r6, [r1, r5]	@ zero_extendqisi2
1059:bsp/src/bsp_uart_fifo.c **** 
 374              		.loc 1 1059 37 view .LVU111
 375 0046 E654     		strb	r6, [r4, r3]
1061:bsp/src/bsp_uart_fifo.c **** 		if (++_pUart->usTxWrite >= _pUart->usTxBufSize)
 376              		.loc 1 1061 3 is_stmt 1 view .LVU112
 377              	.LVL23:
 378              	.LBB34:
 379              	.LBI34:
 495:Libraries/CMSIS/Include/core_cmFunc.h **** {
 380              		.loc 2 495 57 view .LVU113
 381              	.LBB35:
 382              		.loc 2 497 3 view .LVU114
 383 0048 0123     		movs	r3, #1
 384              		.syntax unified
 385              	@ 497 "Libraries/CMSIS/Include/core_cmFunc.h" 1
 386 004a 83F31088 		MSR primask, r3
 387              	@ 0 "" 2
 388              	.LVL24:
 389              		.loc 2 497 3 is_stmt 0 view .LVU115
 390              		.thumb
 391              		.syntax unified
 392              	.LBE35:
 393              	.LBE34:
1062:bsp/src/bsp_uart_fifo.c **** 		{
 394              		.loc 1 1062 3 is_stmt 1 view .LVU116
1062:bsp/src/bsp_uart_fifo.c **** 		{
 395              		.loc 1 1062 15 is_stmt 0 view .LVU117
 396 004e 038A     		ldrh	r3, [r0, #16]
1062:bsp/src/bsp_uart_fifo.c **** 		{
 397              		.loc 1 1062 7 view .LVU118
 398 0050 0133     		adds	r3, r3, #1
 399 0052 9BB2     		uxth	r3, r3
1062:bsp/src/bsp_uart_fifo.c **** 		{
 400              		.loc 1 1062 6 view .LVU119
 401 0054 0382     		strh	r3, [r0, #16]	@ movhi
1062:bsp/src/bsp_uart_fifo.c **** 		{
 402              		.loc 1 1062 36 view .LVU120
 403 0056 8489     		ldrh	r4, [r0, #12]
1062:bsp/src/bsp_uart_fifo.c **** 		{
 404              		.loc 1 1062 6 view .LVU121
 405 0058 A342     		cmp	r3, r4
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 37


 406 005a D5D3     		bcc	.L11
1064:bsp/src/bsp_uart_fifo.c **** 		}
 407              		.loc 1 1064 4 is_stmt 1 view .LVU122
1064:bsp/src/bsp_uart_fifo.c **** 		}
 408              		.loc 1 1064 22 is_stmt 0 view .LVU123
 409 005c 0023     		movs	r3, #0
 410 005e 0382     		strh	r3, [r0, #16]	@ movhi
 411 0060 D2E7     		b	.L11
 412              	.L13:
1070:bsp/src/bsp_uart_fifo.c **** }
 413              		.loc 1 1070 2 is_stmt 1 view .LVU124
 414 0062 0122     		movs	r2, #1
 415              	.LVL25:
1070:bsp/src/bsp_uart_fifo.c **** }
 416              		.loc 1 1070 2 is_stmt 0 view .LVU125
 417 0064 40F22771 		movw	r1, #1831
 418              	.LVL26:
1070:bsp/src/bsp_uart_fifo.c **** }
 419              		.loc 1 1070 2 view .LVU126
 420 0068 0068     		ldr	r0, [r0]
 421              	.LVL27:
1070:bsp/src/bsp_uart_fifo.c **** }
 422              		.loc 1 1070 2 view .LVU127
 423 006a FFF7FEFF 		bl	USART_ITConfig
 424              	.LVL28:
1071:bsp/src/bsp_uart_fifo.c **** 
 425              		.loc 1 1071 1 view .LVU128
 426 006e 02B0     		add	sp, sp, #8
 427              	.LCFI2:
 428              		.cfi_def_cfa_offset 16
 429              		@ sp needed
 430 0070 70BD     		pop	{r4, r5, r6, pc}
1071:bsp/src/bsp_uart_fifo.c **** 
 431              		.loc 1 1071 1 view .LVU129
 432              		.cfi_endproc
 433              	.LFE139:
 435              		.section	.text.InitHardUart,"ax",%progbits
 436              		.align	1
 437              		.syntax unified
 438              		.thumb
 439              		.thumb_func
 440              		.fpu fpv4-sp-d16
 442              	InitHardUart:
 443              	.LFB137:
 525:bsp/src/bsp_uart_fifo.c **** 	GPIO_InitTypeDef GPIO_InitStructure;
 444              		.loc 1 525 1 is_stmt 1 view -0
 445              		.cfi_startproc
 446              		@ args = 0, pretend = 0, frame = 24
 447              		@ frame_needed = 0, uses_anonymous_args = 0
 448 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 449              	.LCFI3:
 450              		.cfi_def_cfa_offset 20
 451              		.cfi_offset 4, -20
 452              		.cfi_offset 5, -16
 453              		.cfi_offset 6, -12
 454              		.cfi_offset 7, -8
 455              		.cfi_offset 14, -4
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 38


 456 0002 87B0     		sub	sp, sp, #28
 457              	.LCFI4:
 458              		.cfi_def_cfa_offset 48
 526:bsp/src/bsp_uart_fifo.c **** 	USART_InitTypeDef USART_InitStructure;
 459              		.loc 1 526 2 view .LVU131
 527:bsp/src/bsp_uart_fifo.c **** 
 460              		.loc 1 527 2 view .LVU132
 639:bsp/src/bsp_uart_fifo.c **** 
 461              		.loc 1 639 3 view .LVU133
 462 0004 0121     		movs	r1, #1
 463 0006 0846     		mov	r0, r1
 464 0008 FFF7FEFF 		bl	RCC_AHB1PeriphClockCmd
 465              	.LVL29:
 642:bsp/src/bsp_uart_fifo.c **** 
 466              		.loc 1 642 3 view .LVU134
 467 000c 0121     		movs	r1, #1
 468 000e 4FF40030 		mov	r0, #131072
 469 0012 FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 470              	.LVL30:
 646:bsp/src/bsp_uart_fifo.c **** 
 471              		.loc 1 646 9 view .LVU135
 472 0016 244D     		ldr	r5, .L16
 473 0018 0722     		movs	r2, #7
 474 001a 0221     		movs	r1, #2
 475 001c 2846     		mov	r0, r5
 476 001e FFF7FEFF 		bl	GPIO_PinAFConfig
 477              	.LVL31:
 654:bsp/src/bsp_uart_fifo.c **** 
 478              		.loc 1 654 3 view .LVU136
 479 0022 0722     		movs	r2, #7
 480 0024 0321     		movs	r1, #3
 481 0026 2846     		mov	r0, r5
 482 0028 FFF7FEFF 		bl	GPIO_PinAFConfig
 483              	.LVL32:
 657:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;	/* å†…éƒ¨ä¸Šæ‹‰ç”µé˜»ä½¿èƒ½ */
 484              		.loc 1 657 3 view .LVU137
 657:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;	/* å†…éƒ¨ä¸Šæ‹‰ç”µé˜»ä½¿èƒ½ */
 485              		.loc 1 657 33 is_stmt 0 view .LVU138
 486 002c 0024     		movs	r4, #0
 487 002e 8DF81640 		strb	r4, [sp, #22]
 658:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;	/* å¤ç”¨æ¨¡å¼ */
 488              		.loc 1 658 3 is_stmt 1 view .LVU139
 658:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;	/* å¤ç”¨æ¨¡å¼ */
 489              		.loc 1 658 32 is_stmt 0 view .LVU140
 490 0032 0127     		movs	r7, #1
 491 0034 8DF81770 		strb	r7, [sp, #23]
 659:bsp/src/bsp_uart_fifo.c **** 
 492              		.loc 1 659 3 is_stmt 1 view .LVU141
 659:bsp/src/bsp_uart_fifo.c **** 
 493              		.loc 1 659 32 is_stmt 0 view .LVU142
 494 0038 0226     		movs	r6, #2
 495 003a 8DF81460 		strb	r6, [sp, #20]
 662:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 496              		.loc 1 662 3 is_stmt 1 view .LVU143
 662:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 497              		.loc 1 662 31 is_stmt 0 view .LVU144
 498 003e 0423     		movs	r3, #4
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 39


 499 0040 0493     		str	r3, [sp, #16]
 663:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOA, &GPIO_InitStructure);
 500              		.loc 1 663 3 is_stmt 1 view .LVU145
 663:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOA, &GPIO_InitStructure);
 501              		.loc 1 663 33 is_stmt 0 view .LVU146
 502 0042 8DF81560 		strb	r6, [sp, #21]
 664:bsp/src/bsp_uart_fifo.c ****     #else
 503              		.loc 1 664 3 is_stmt 1 view .LVU147
 504 0046 04A9     		add	r1, sp, #16
 505 0048 2846     		mov	r0, r5
 506 004a FFF7FEFF 		bl	GPIO_Init
 507              	.LVL33:
 672:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_3;
 508              		.loc 1 672 3 view .LVU148
 672:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_3;
 509              		.loc 1 672 32 is_stmt 0 view .LVU149
 510 004e 8DF81460 		strb	r6, [sp, #20]
 673:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 511              		.loc 1 673 3 is_stmt 1 view .LVU150
 673:bsp/src/bsp_uart_fifo.c **** 		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 512              		.loc 1 673 31 is_stmt 0 view .LVU151
 513 0052 0823     		movs	r3, #8
 514 0054 0493     		str	r3, [sp, #16]
 674:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOA, &GPIO_InitStructure);
 515              		.loc 1 674 3 is_stmt 1 view .LVU152
 674:bsp/src/bsp_uart_fifo.c **** 		GPIO_Init(GPIOA, &GPIO_InitStructure);
 516              		.loc 1 674 33 is_stmt 0 view .LVU153
 517 0056 8DF81560 		strb	r6, [sp, #21]
 675:bsp/src/bsp_uart_fifo.c **** 	#endif
 518              		.loc 1 675 3 is_stmt 1 view .LVU154
 519 005a 04A9     		add	r1, sp, #16
 520 005c 2846     		mov	r0, r5
 521 005e FFF7FEFF 		bl	GPIO_Init
 522              	.LVL34:
 679:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 523              		.loc 1 679 2 view .LVU155
 679:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_WordLength = USART_WordLength_8b;
 524              		.loc 1 679 37 is_stmt 0 view .LVU156
 525 0062 4FF4E133 		mov	r3, #115200
 526 0066 0093     		str	r3, [sp]
 680:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
 527              		.loc 1 680 2 is_stmt 1 view .LVU157
 680:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_StopBits = USART_StopBits_1;
 528              		.loc 1 680 39 is_stmt 0 view .LVU158
 529 0068 ADF80440 		strh	r4, [sp, #4]	@ movhi
 681:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 530              		.loc 1 681 2 is_stmt 1 view .LVU159
 681:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_Parity = USART_Parity_No ;
 531              		.loc 1 681 37 is_stmt 0 view .LVU160
 532 006c ADF80640 		strh	r4, [sp, #6]	@ movhi
 682:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 533              		.loc 1 682 2 is_stmt 1 view .LVU161
 682:bsp/src/bsp_uart_fifo.c **** 	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;
 534              		.loc 1 682 35 is_stmt 0 view .LVU162
 535 0070 ADF80840 		strh	r4, [sp, #8]	@ movhi
 683:bsp/src/bsp_uart_fifo.c ****     #ifdef STM32F446xx
 536              		.loc 1 683 2 is_stmt 1 view .LVU163
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 40


 683:bsp/src/bsp_uart_fifo.c ****     #ifdef STM32F446xx
 537              		.loc 1 683 48 is_stmt 0 view .LVU164
 538 0074 ADF80C40 		strh	r4, [sp, #12]	@ movhi
 685:bsp/src/bsp_uart_fifo.c ****     #else
 539              		.loc 1 685 5 is_stmt 1 view .LVU165
 685:bsp/src/bsp_uart_fifo.c ****     #else
 540              		.loc 1 685 36 is_stmt 0 view .LVU166
 541 0078 0C23     		movs	r3, #12
 542 007a ADF80A30 		strh	r3, [sp, #10]	@ movhi
 689:bsp/src/bsp_uart_fifo.c **** 
 543              		.loc 1 689 2 is_stmt 1 view .LVU167
 544 007e 0B4C     		ldr	r4, .L16+4
 545 0080 6946     		mov	r1, sp
 546 0082 2046     		mov	r0, r4
 547 0084 FFF7FEFF 		bl	USART_Init
 548              	.LVL35:
 691:bsp/src/bsp_uart_fifo.c **** 	/*
 549              		.loc 1 691 2 view .LVU168
 550 0088 3A46     		mov	r2, r7
 551 008a 40F22551 		movw	r1, #1317
 552 008e 2046     		mov	r0, r4
 553 0090 FFF7FEFF 		bl	USART_ITConfig
 554              	.LVL36:
 697:bsp/src/bsp_uart_fifo.c **** 
 555              		.loc 1 697 2 view .LVU169
 556 0094 3946     		mov	r1, r7
 557 0096 2046     		mov	r0, r4
 558 0098 FFF7FEFF 		bl	USART_Cmd
 559              	.LVL37:
 701:bsp/src/bsp_uart_fifo.c **** #endif
 560              		.loc 1 701 2 view .LVU170
 561 009c 4021     		movs	r1, #64
 562 009e 2046     		mov	r0, r4
 563 00a0 FFF7FEFF 		bl	USART_ClearFlag
 564              	.LVL38:
 936:bsp/src/bsp_uart_fifo.c **** 
 565              		.loc 1 936 1 is_stmt 0 view .LVU171
 566 00a4 07B0     		add	sp, sp, #28
 567              	.LCFI5:
 568              		.cfi_def_cfa_offset 20
 569              		@ sp needed
 570 00a6 F0BD     		pop	{r4, r5, r6, r7, pc}
 571              	.L17:
 572              		.align	2
 573              	.L16:
 574 00a8 00000240 		.word	1073872896
 575 00ac 00440040 		.word	1073759232
 576              		.cfi_endproc
 577              	.LFE137:
 579              		.section	.text.ConfigUartNVIC,"ax",%progbits
 580              		.align	1
 581              		.syntax unified
 582              		.thumb
 583              		.thumb_func
 584              		.fpu fpv4-sp-d16
 586              	ConfigUartNVIC:
 587              	.LFB138:
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 41


 947:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitTypeDef NVIC_InitStructure;
 588              		.loc 1 947 1 is_stmt 1 view -0
 589              		.cfi_startproc
 590              		@ args = 0, pretend = 0, frame = 8
 591              		@ frame_needed = 0, uses_anonymous_args = 0
 592 0000 00B5     		push	{lr}
 593              	.LCFI6:
 594              		.cfi_def_cfa_offset 4
 595              		.cfi_offset 14, -4
 596 0002 83B0     		sub	sp, sp, #12
 597              	.LCFI7:
 598              		.cfi_def_cfa_offset 16
 948:bsp/src/bsp_uart_fifo.c **** 
 599              		.loc 1 948 2 view .LVU173
 963:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 1;
 600              		.loc 1 963 2 view .LVU174
 963:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = 1;
 601              		.loc 1 963 37 is_stmt 0 view .LVU175
 602 0004 2623     		movs	r3, #38
 603 0006 8DF80430 		strb	r3, [sp, #4]
 964:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 604              		.loc 1 964 2 is_stmt 1 view .LVU176
 964:bsp/src/bsp_uart_fifo.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 605              		.loc 1 964 48 is_stmt 0 view .LVU177
 606 000a 0123     		movs	r3, #1
 607 000c 8DF80630 		strb	r3, [sp, #6]
 965:bsp/src/bsp_uart_fifo.c **** 	NVIC_Init(&NVIC_InitStructure);
 608              		.loc 1 965 2 is_stmt 1 view .LVU178
 965:bsp/src/bsp_uart_fifo.c **** 	NVIC_Init(&NVIC_InitStructure);
 609              		.loc 1 965 40 is_stmt 0 view .LVU179
 610 0010 8DF80730 		strb	r3, [sp, #7]
 966:bsp/src/bsp_uart_fifo.c **** #endif
 611              		.loc 1 966 2 is_stmt 1 view .LVU180
 612 0014 01A8     		add	r0, sp, #4
 613 0016 FFF7FEFF 		bl	NVIC_Init
 614              	.LVL39:
1000:bsp/src/bsp_uart_fifo.c **** 
 615              		.loc 1 1000 1 is_stmt 0 view .LVU181
 616 001a 03B0     		add	sp, sp, #12
 617              	.LCFI8:
 618              		.cfi_def_cfa_offset 4
 619              		@ sp needed
 620 001c 5DF804FB 		ldr	pc, [sp], #4
 621              		.cfi_endproc
 622              	.LFE138:
 624              		.section	.text.UartIRQ,"ax",%progbits
 625              		.align	1
 626              		.syntax unified
 627              		.thumb
 628              		.thumb_func
 629              		.fpu fpv4-sp-d16
 631              	UartIRQ:
 632              	.LVL40:
 633              	.LFB141:
1112:bsp/src/bsp_uart_fifo.c **** 
1113:bsp/src/bsp_uart_fifo.c **** /*
1114:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 42


1115:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: UartIRQ
1116:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: ä¾›ä¸­æ–­æœåŠ¡ç¨‹åºè°ƒç”¨ï¼Œé€šç”¨ä¸²å£ä¸­æ–­å¤„ç†å‡½æ•°
1117:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: _pUart : ä¸²å£è®¾å¤‡
1118:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
1119:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
1120:bsp/src/bsp_uart_fifo.c **** */
1121:bsp/src/bsp_uart_fifo.c **** static void UartIRQ(UartStr_TypeDef *_pUart)
1122:bsp/src/bsp_uart_fifo.c **** {
 634              		.loc 1 1122 1 is_stmt 1 view -0
 635              		.cfi_startproc
 636              		@ args = 0, pretend = 0, frame = 0
 637              		@ frame_needed = 0, uses_anonymous_args = 0
 638              		.loc 1 1122 1 is_stmt 0 view .LVU183
 639 0000 10B5     		push	{r4, lr}
 640              	.LCFI9:
 641              		.cfi_def_cfa_offset 8
 642              		.cfi_offset 4, -8
 643              		.cfi_offset 14, -4
 644 0002 0446     		mov	r4, r0
1123:bsp/src/bsp_uart_fifo.c **** 	/* å¤„ç†æ¥æ”¶ä¸­æ–­  */
1124:bsp/src/bsp_uart_fifo.c **** 	if (USART_GetITStatus(_pUart->uart, USART_IT_RXNE) != RESET)
 645              		.loc 1 1124 2 is_stmt 1 view .LVU184
 646              		.loc 1 1124 6 is_stmt 0 view .LVU185
 647 0004 40F22551 		movw	r1, #1317
 648 0008 0068     		ldr	r0, [r0]
 649              	.LVL41:
 650              		.loc 1 1124 6 view .LVU186
 651 000a FFF7FEFF 		bl	USART_GetITStatus
 652              	.LVL42:
 653              		.loc 1 1124 5 view .LVU187
 654 000e B0B9     		cbnz	r0, .L31
 655              	.L21:
1125:bsp/src/bsp_uart_fifo.c **** 	{
1126:bsp/src/bsp_uart_fifo.c **** 		/* ä»ä¸²å£æ¥æ”¶æ•°æ®å¯„å­˜å™¨è¯»å–æ•°æ®å­˜æ”¾åˆ°æ¥æ”¶FIFO */
1127:bsp/src/bsp_uart_fifo.c **** 		uint8_t ch;
1128:bsp/src/bsp_uart_fifo.c **** 
1129:bsp/src/bsp_uart_fifo.c **** 		ch = USART_ReceiveData(_pUart->uart);
1130:bsp/src/bsp_uart_fifo.c **** 		_pUart->pRxBuf[_pUart->usRxWrite] = ch;
1131:bsp/src/bsp_uart_fifo.c **** 		if (++_pUart->usRxWrite >= _pUart->usRxBufSize)
1132:bsp/src/bsp_uart_fifo.c **** 		{
1133:bsp/src/bsp_uart_fifo.c **** 			_pUart->usRxWrite = 0;
1134:bsp/src/bsp_uart_fifo.c **** 		}
1135:bsp/src/bsp_uart_fifo.c **** 		if (_pUart->usRxCount < _pUart->usRxBufSize)
1136:bsp/src/bsp_uart_fifo.c **** 		{
1137:bsp/src/bsp_uart_fifo.c **** 			_pUart->usRxCount++;
1138:bsp/src/bsp_uart_fifo.c **** 		}
1139:bsp/src/bsp_uart_fifo.c **** 
1140:bsp/src/bsp_uart_fifo.c **** 		/* å›è°ƒå‡½æ•°,é€šçŸ¥åº”ç”¨ç¨‹åºæ”¶åˆ°æ–°æ•°æ®,ä¸€èˆ¬æ˜¯å‘é€1ä¸ªæ¶ˆæ¯æˆ–è€…è®¾ç½®ä¸€ä¸ªæ ‡è
1141:bsp/src/bsp_uart_fifo.c **** 		//if (_pUart->usRxWrite == _pUart->usRxRead)
1142:bsp/src/bsp_uart_fifo.c **** 		//if (_pUart->usRxCount == 1)
1143:bsp/src/bsp_uart_fifo.c **** 		{
1144:bsp/src/bsp_uart_fifo.c **** 			if (_pUart->ReciveNew)
1145:bsp/src/bsp_uart_fifo.c **** 			{
1146:bsp/src/bsp_uart_fifo.c **** 				_pUart->ReciveNew(ch);
1147:bsp/src/bsp_uart_fifo.c **** 			}
1148:bsp/src/bsp_uart_fifo.c **** 		}
1149:bsp/src/bsp_uart_fifo.c **** 	}
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 43


1150:bsp/src/bsp_uart_fifo.c **** 
1151:bsp/src/bsp_uart_fifo.c **** 	/* å¤„ç†å‘é€ç¼“å†²åŒºç©ºä¸­æ–­ */
1152:bsp/src/bsp_uart_fifo.c **** 	if (USART_GetITStatus(_pUart->uart, USART_IT_TXE) != RESET)
 656              		.loc 1 1152 2 is_stmt 1 view .LVU188
 657              		.loc 1 1152 6 is_stmt 0 view .LVU189
 658 0010 40F22771 		movw	r1, #1831
 659 0014 2068     		ldr	r0, [r4]
 660 0016 FFF7FEFF 		bl	USART_GetITStatus
 661              	.LVL43:
 662              		.loc 1 1152 5 view .LVU190
 663 001a 0028     		cmp	r0, #0
 664 001c 42D0     		beq	.L24
1153:bsp/src/bsp_uart_fifo.c **** 	{
1154:bsp/src/bsp_uart_fifo.c **** 		//if (_pUart->usTxRead == _pUart->usTxWrite)
1155:bsp/src/bsp_uart_fifo.c **** 		if (_pUart->usTxCount == 0)
 665              		.loc 1 1155 3 is_stmt 1 view .LVU191
 666              		.loc 1 1155 13 is_stmt 0 view .LVU192
 667 001e A38A     		ldrh	r3, [r4, #20]
 668 0020 9BB2     		uxth	r3, r3
 669              		.loc 1 1155 6 view .LVU193
 670 0022 53BB     		cbnz	r3, .L25
1156:bsp/src/bsp_uart_fifo.c **** 		{
1157:bsp/src/bsp_uart_fifo.c **** 			/* å‘é€ç¼“å†²åŒºçš„æ•°æ®å·²å–å®Œæ—¶ï¼Œ ç¦æ­¢å‘é€ç¼“å†²åŒºç©ºä¸­æ–­ ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶æœ€å
1158:bsp/src/bsp_uart_fifo.c **** 			USART_ITConfig(_pUart->uart, USART_IT_TXE, DISABLE);
 671              		.loc 1 1158 4 is_stmt 1 view .LVU194
 672 0024 0022     		movs	r2, #0
 673 0026 40F22771 		movw	r1, #1831
 674 002a 2068     		ldr	r0, [r4]
 675 002c FFF7FEFF 		bl	USART_ITConfig
 676              	.LVL44:
1159:bsp/src/bsp_uart_fifo.c **** 
1160:bsp/src/bsp_uart_fifo.c **** 			/* ä½¿èƒ½æ•°æ®å‘é€å®Œæ¯•ä¸­æ–­ */
1161:bsp/src/bsp_uart_fifo.c **** 			USART_ITConfig(_pUart->uart, USART_IT_TC, ENABLE);
 677              		.loc 1 1161 4 view .LVU195
 678 0030 0122     		movs	r2, #1
 679 0032 40F22661 		movw	r1, #1574
 680 0036 2068     		ldr	r0, [r4]
 681 0038 FFF7FEFF 		bl	USART_ITConfig
 682              	.LVL45:
 683              	.L20:
1162:bsp/src/bsp_uart_fifo.c **** 		}
1163:bsp/src/bsp_uart_fifo.c **** 		else
1164:bsp/src/bsp_uart_fifo.c **** 		{
1165:bsp/src/bsp_uart_fifo.c **** 			/* ä»å‘é€FIFOå–1ä¸ªå­—èŠ‚å†™å…¥ä¸²å£å‘é€æ•°æ®å¯„å­˜å™¨ */
1166:bsp/src/bsp_uart_fifo.c **** 			USART_SendData(_pUart->uart, _pUart->pTxBuf[_pUart->usTxRead]);
1167:bsp/src/bsp_uart_fifo.c **** 			if (++_pUart->usTxRead >= _pUart->usTxBufSize)
1168:bsp/src/bsp_uart_fifo.c **** 			{
1169:bsp/src/bsp_uart_fifo.c **** 				_pUart->usTxRead = 0;
1170:bsp/src/bsp_uart_fifo.c **** 			}
1171:bsp/src/bsp_uart_fifo.c **** 			_pUart->usTxCount--;
1172:bsp/src/bsp_uart_fifo.c **** 		}
1173:bsp/src/bsp_uart_fifo.c **** 
1174:bsp/src/bsp_uart_fifo.c **** 	}
1175:bsp/src/bsp_uart_fifo.c **** 	/* æ•°æ®bitä½å…¨éƒ¨å‘é€å®Œæ¯•çš„ä¸­æ–­ */
1176:bsp/src/bsp_uart_fifo.c **** 	else if (USART_GetITStatus(_pUart->uart, USART_IT_TC) != RESET)
1177:bsp/src/bsp_uart_fifo.c **** 	{
1178:bsp/src/bsp_uart_fifo.c **** 		//if (_pUart->usTxRead == _pUart->usTxWrite)
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 44


1179:bsp/src/bsp_uart_fifo.c **** 		if (_pUart->usTxCount == 0)
1180:bsp/src/bsp_uart_fifo.c **** 		{
1181:bsp/src/bsp_uart_fifo.c **** 			/* å¦‚æœå‘é€FIFOçš„æ•°æ®å…¨éƒ¨å‘é€å®Œæ¯•ï¼Œç¦æ­¢æ•°æ®å‘é€å®Œæ¯•ä¸­æ–­ */
1182:bsp/src/bsp_uart_fifo.c **** 			USART_ITConfig(_pUart->uart, USART_IT_TC, DISABLE);
1183:bsp/src/bsp_uart_fifo.c **** 
1184:bsp/src/bsp_uart_fifo.c **** 			/* å›è°ƒå‡½æ•°, ä¸€èˆ¬ç”¨æ¥å¤„ç†RS485é€šä¿¡ï¼Œå°†RS485èŠ¯ç‰‡è®¾ç½®ä¸ºæ¥æ”¶æ¨¡å¼ï¼Œé¿å…æŠ¢
1185:bsp/src/bsp_uart_fifo.c **** 			if (_pUart->SendOver)
1186:bsp/src/bsp_uart_fifo.c **** 			{
1187:bsp/src/bsp_uart_fifo.c **** 				_pUart->SendOver();
1188:bsp/src/bsp_uart_fifo.c **** 			}
1189:bsp/src/bsp_uart_fifo.c **** 		}
1190:bsp/src/bsp_uart_fifo.c **** 		else
1191:bsp/src/bsp_uart_fifo.c **** 		{
1192:bsp/src/bsp_uart_fifo.c **** 			/* æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸ä¼šè¿›å…¥æ­¤åˆ†æ”¯ */
1193:bsp/src/bsp_uart_fifo.c **** 
1194:bsp/src/bsp_uart_fifo.c **** 			/* å¦‚æœå‘é€FIFOçš„æ•°æ®è¿˜æœªå®Œæ¯•ï¼Œåˆ™ä»å‘é€FIFOå–1ä¸ªæ•°æ®å†™å…¥å‘é€æ•°æ®å¯„å­˜
1195:bsp/src/bsp_uart_fifo.c **** 			USART_SendData(_pUart->uart, _pUart->pTxBuf[_pUart->usTxRead]);
1196:bsp/src/bsp_uart_fifo.c **** 			if (++_pUart->usTxRead >= _pUart->usTxBufSize)
1197:bsp/src/bsp_uart_fifo.c **** 			{
1198:bsp/src/bsp_uart_fifo.c **** 				_pUart->usTxRead = 0;
1199:bsp/src/bsp_uart_fifo.c **** 			}
1200:bsp/src/bsp_uart_fifo.c **** 			_pUart->usTxCount--;
1201:bsp/src/bsp_uart_fifo.c **** 		}
1202:bsp/src/bsp_uart_fifo.c **** 	}
1203:bsp/src/bsp_uart_fifo.c **** }
 684              		.loc 1 1203 1 is_stmt 0 view .LVU196
 685 003c 10BD     		pop	{r4, pc}
 686              	.LVL46:
 687              	.L31:
 688              	.LBB36:
1127:bsp/src/bsp_uart_fifo.c **** 
 689              		.loc 1 1127 3 is_stmt 1 view .LVU197
1129:bsp/src/bsp_uart_fifo.c **** 		_pUart->pRxBuf[_pUart->usRxWrite] = ch;
 690              		.loc 1 1129 3 view .LVU198
1129:bsp/src/bsp_uart_fifo.c **** 		_pUart->pRxBuf[_pUart->usRxWrite] = ch;
 691              		.loc 1 1129 8 is_stmt 0 view .LVU199
 692 003e 2068     		ldr	r0, [r4]
 693 0040 FFF7FEFF 		bl	USART_ReceiveData
 694              	.LVL47:
1129:bsp/src/bsp_uart_fifo.c **** 		_pUart->pRxBuf[_pUart->usRxWrite] = ch;
 695              		.loc 1 1129 6 view .LVU200
 696 0044 C0B2     		uxtb	r0, r0
 697              	.LVL48:
1130:bsp/src/bsp_uart_fifo.c **** 		if (++_pUart->usRxWrite >= _pUart->usRxBufSize)
 698              		.loc 1 1130 3 is_stmt 1 view .LVU201
1130:bsp/src/bsp_uart_fifo.c **** 		if (++_pUart->usRxWrite >= _pUart->usRxBufSize)
 699              		.loc 1 1130 9 is_stmt 0 view .LVU202
 700 0046 A268     		ldr	r2, [r4, #8]
1130:bsp/src/bsp_uart_fifo.c **** 		if (++_pUart->usRxWrite >= _pUart->usRxBufSize)
 701              		.loc 1 1130 24 view .LVU203
 702 0048 E38A     		ldrh	r3, [r4, #22]
 703 004a 9BB2     		uxth	r3, r3
1130:bsp/src/bsp_uart_fifo.c **** 		if (++_pUart->usRxWrite >= _pUart->usRxBufSize)
 704              		.loc 1 1130 37 view .LVU204
 705 004c D054     		strb	r0, [r2, r3]
1131:bsp/src/bsp_uart_fifo.c **** 		{
 706              		.loc 1 1131 3 is_stmt 1 view .LVU205
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 45


1131:bsp/src/bsp_uart_fifo.c **** 		{
 707              		.loc 1 1131 15 is_stmt 0 view .LVU206
 708 004e E38A     		ldrh	r3, [r4, #22]
1131:bsp/src/bsp_uart_fifo.c **** 		{
 709              		.loc 1 1131 7 view .LVU207
 710 0050 0133     		adds	r3, r3, #1
 711 0052 9BB2     		uxth	r3, r3
1131:bsp/src/bsp_uart_fifo.c **** 		{
 712              		.loc 1 1131 6 view .LVU208
 713 0054 E382     		strh	r3, [r4, #22]	@ movhi
1131:bsp/src/bsp_uart_fifo.c **** 		{
 714              		.loc 1 1131 36 view .LVU209
 715 0056 E289     		ldrh	r2, [r4, #14]
1131:bsp/src/bsp_uart_fifo.c **** 		{
 716              		.loc 1 1131 6 view .LVU210
 717 0058 9342     		cmp	r3, r2
 718 005a 01D3     		bcc	.L22
1133:bsp/src/bsp_uart_fifo.c **** 		}
 719              		.loc 1 1133 4 is_stmt 1 view .LVU211
1133:bsp/src/bsp_uart_fifo.c **** 		}
 720              		.loc 1 1133 22 is_stmt 0 view .LVU212
 721 005c 0023     		movs	r3, #0
 722 005e E382     		strh	r3, [r4, #22]	@ movhi
 723              	.L22:
1135:bsp/src/bsp_uart_fifo.c **** 		{
 724              		.loc 1 1135 3 is_stmt 1 view .LVU213
1135:bsp/src/bsp_uart_fifo.c **** 		{
 725              		.loc 1 1135 13 is_stmt 0 view .LVU214
 726 0060 638B     		ldrh	r3, [r4, #26]
 727 0062 9BB2     		uxth	r3, r3
1135:bsp/src/bsp_uart_fifo.c **** 		{
 728              		.loc 1 1135 6 view .LVU215
 729 0064 9A42     		cmp	r2, r3
 730 0066 03D9     		bls	.L23
1137:bsp/src/bsp_uart_fifo.c **** 		}
 731              		.loc 1 1137 4 is_stmt 1 view .LVU216
1137:bsp/src/bsp_uart_fifo.c **** 		}
 732              		.loc 1 1137 10 is_stmt 0 view .LVU217
 733 0068 638B     		ldrh	r3, [r4, #26]
1137:bsp/src/bsp_uart_fifo.c **** 		}
 734              		.loc 1 1137 21 view .LVU218
 735 006a 0133     		adds	r3, r3, #1
 736 006c 9BB2     		uxth	r3, r3
 737 006e 6383     		strh	r3, [r4, #26]	@ movhi
 738              	.L23:
1144:bsp/src/bsp_uart_fifo.c **** 			{
 739              		.loc 1 1144 4 is_stmt 1 view .LVU219
1144:bsp/src/bsp_uart_fifo.c **** 			{
 740              		.loc 1 1144 14 is_stmt 0 view .LVU220
 741 0070 636A     		ldr	r3, [r4, #36]
1144:bsp/src/bsp_uart_fifo.c **** 			{
 742              		.loc 1 1144 7 view .LVU221
 743 0072 002B     		cmp	r3, #0
 744 0074 CCD0     		beq	.L21
1146:bsp/src/bsp_uart_fifo.c **** 			}
 745              		.loc 1 1146 5 is_stmt 1 view .LVU222
 746 0076 9847     		blx	r3
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 46


 747              	.LVL49:
1146:bsp/src/bsp_uart_fifo.c **** 			}
 748              		.loc 1 1146 5 is_stmt 0 view .LVU223
 749 0078 CAE7     		b	.L21
 750              	.L25:
1146:bsp/src/bsp_uart_fifo.c **** 			}
 751              		.loc 1 1146 5 view .LVU224
 752              	.LBE36:
1166:bsp/src/bsp_uart_fifo.c **** 			if (++_pUart->usTxRead >= _pUart->usTxBufSize)
 753              		.loc 1 1166 4 is_stmt 1 view .LVU225
1166:bsp/src/bsp_uart_fifo.c **** 			if (++_pUart->usTxRead >= _pUart->usTxBufSize)
 754              		.loc 1 1166 39 is_stmt 0 view .LVU226
 755 007a 6268     		ldr	r2, [r4, #4]
1166:bsp/src/bsp_uart_fifo.c **** 			if (++_pUart->usTxRead >= _pUart->usTxBufSize)
 756              		.loc 1 1166 54 view .LVU227
 757 007c 638A     		ldrh	r3, [r4, #18]
 758 007e 9BB2     		uxth	r3, r3
1166:bsp/src/bsp_uart_fifo.c **** 			if (++_pUart->usTxRead >= _pUart->usTxBufSize)
 759              		.loc 1 1166 4 view .LVU228
 760 0080 D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 761 0082 2068     		ldr	r0, [r4]
 762 0084 FFF7FEFF 		bl	USART_SendData
 763              	.LVL50:
1167:bsp/src/bsp_uart_fifo.c **** 			{
 764              		.loc 1 1167 4 is_stmt 1 view .LVU229
1167:bsp/src/bsp_uart_fifo.c **** 			{
 765              		.loc 1 1167 16 is_stmt 0 view .LVU230
 766 0088 638A     		ldrh	r3, [r4, #18]
1167:bsp/src/bsp_uart_fifo.c **** 			{
 767              		.loc 1 1167 8 view .LVU231
 768 008a 0133     		adds	r3, r3, #1
 769 008c 9BB2     		uxth	r3, r3
1167:bsp/src/bsp_uart_fifo.c **** 			{
 770              		.loc 1 1167 7 view .LVU232
 771 008e 6382     		strh	r3, [r4, #18]	@ movhi
1167:bsp/src/bsp_uart_fifo.c **** 			{
 772              		.loc 1 1167 36 view .LVU233
 773 0090 A289     		ldrh	r2, [r4, #12]
1167:bsp/src/bsp_uart_fifo.c **** 			{
 774              		.loc 1 1167 7 view .LVU234
 775 0092 9342     		cmp	r3, r2
 776 0094 01D3     		bcc	.L27
1169:bsp/src/bsp_uart_fifo.c **** 			}
 777              		.loc 1 1169 5 is_stmt 1 view .LVU235
1169:bsp/src/bsp_uart_fifo.c **** 			}
 778              		.loc 1 1169 22 is_stmt 0 view .LVU236
 779 0096 0023     		movs	r3, #0
 780 0098 6382     		strh	r3, [r4, #18]	@ movhi
 781              	.L27:
1171:bsp/src/bsp_uart_fifo.c **** 		}
 782              		.loc 1 1171 4 is_stmt 1 view .LVU237
1171:bsp/src/bsp_uart_fifo.c **** 		}
 783              		.loc 1 1171 10 is_stmt 0 view .LVU238
 784 009a A38A     		ldrh	r3, [r4, #20]
1171:bsp/src/bsp_uart_fifo.c **** 		}
 785              		.loc 1 1171 21 view .LVU239
 786 009c 013B     		subs	r3, r3, #1
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 47


 787 009e 9BB2     		uxth	r3, r3
 788 00a0 A382     		strh	r3, [r4, #20]	@ movhi
 789 00a2 CBE7     		b	.L20
 790              	.L24:
1176:bsp/src/bsp_uart_fifo.c **** 	{
 791              		.loc 1 1176 7 is_stmt 1 view .LVU240
1176:bsp/src/bsp_uart_fifo.c **** 	{
 792              		.loc 1 1176 11 is_stmt 0 view .LVU241
 793 00a4 40F22661 		movw	r1, #1574
 794 00a8 2068     		ldr	r0, [r4]
 795 00aa FFF7FEFF 		bl	USART_GetITStatus
 796              	.LVL51:
1176:bsp/src/bsp_uart_fifo.c **** 	{
 797              		.loc 1 1176 10 view .LVU242
 798 00ae 0028     		cmp	r0, #0
 799 00b0 C4D0     		beq	.L20
1179:bsp/src/bsp_uart_fifo.c **** 		{
 800              		.loc 1 1179 3 is_stmt 1 view .LVU243
1179:bsp/src/bsp_uart_fifo.c **** 		{
 801              		.loc 1 1179 13 is_stmt 0 view .LVU244
 802 00b2 A38A     		ldrh	r3, [r4, #20]
 803 00b4 9BB2     		uxth	r3, r3
1179:bsp/src/bsp_uart_fifo.c **** 		{
 804              		.loc 1 1179 6 view .LVU245
 805 00b6 53B9     		cbnz	r3, .L28
1182:bsp/src/bsp_uart_fifo.c **** 
 806              		.loc 1 1182 4 is_stmt 1 view .LVU246
 807 00b8 0022     		movs	r2, #0
 808 00ba 40F22661 		movw	r1, #1574
 809 00be 2068     		ldr	r0, [r4]
 810 00c0 FFF7FEFF 		bl	USART_ITConfig
 811              	.LVL52:
1185:bsp/src/bsp_uart_fifo.c **** 			{
 812              		.loc 1 1185 4 view .LVU247
1185:bsp/src/bsp_uart_fifo.c **** 			{
 813              		.loc 1 1185 14 is_stmt 0 view .LVU248
 814 00c4 236A     		ldr	r3, [r4, #32]
1185:bsp/src/bsp_uart_fifo.c **** 			{
 815              		.loc 1 1185 7 view .LVU249
 816 00c6 002B     		cmp	r3, #0
 817 00c8 B8D0     		beq	.L20
1187:bsp/src/bsp_uart_fifo.c **** 			}
 818              		.loc 1 1187 5 is_stmt 1 view .LVU250
 819 00ca 9847     		blx	r3
 820              	.LVL53:
 821 00cc B6E7     		b	.L20
 822              	.L28:
1195:bsp/src/bsp_uart_fifo.c **** 			if (++_pUart->usTxRead >= _pUart->usTxBufSize)
 823              		.loc 1 1195 4 view .LVU251
1195:bsp/src/bsp_uart_fifo.c **** 			if (++_pUart->usTxRead >= _pUart->usTxBufSize)
 824              		.loc 1 1195 39 is_stmt 0 view .LVU252
 825 00ce 6268     		ldr	r2, [r4, #4]
1195:bsp/src/bsp_uart_fifo.c **** 			if (++_pUart->usTxRead >= _pUart->usTxBufSize)
 826              		.loc 1 1195 54 view .LVU253
 827 00d0 638A     		ldrh	r3, [r4, #18]
 828 00d2 9BB2     		uxth	r3, r3
1195:bsp/src/bsp_uart_fifo.c **** 			if (++_pUart->usTxRead >= _pUart->usTxBufSize)
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 48


 829              		.loc 1 1195 4 view .LVU254
 830 00d4 D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 831 00d6 2068     		ldr	r0, [r4]
 832 00d8 FFF7FEFF 		bl	USART_SendData
 833              	.LVL54:
1196:bsp/src/bsp_uart_fifo.c **** 			{
 834              		.loc 1 1196 4 is_stmt 1 view .LVU255
1196:bsp/src/bsp_uart_fifo.c **** 			{
 835              		.loc 1 1196 16 is_stmt 0 view .LVU256
 836 00dc 638A     		ldrh	r3, [r4, #18]
1196:bsp/src/bsp_uart_fifo.c **** 			{
 837              		.loc 1 1196 8 view .LVU257
 838 00de 0133     		adds	r3, r3, #1
 839 00e0 9BB2     		uxth	r3, r3
1196:bsp/src/bsp_uart_fifo.c **** 			{
 840              		.loc 1 1196 7 view .LVU258
 841 00e2 6382     		strh	r3, [r4, #18]	@ movhi
1196:bsp/src/bsp_uart_fifo.c **** 			{
 842              		.loc 1 1196 36 view .LVU259
 843 00e4 A289     		ldrh	r2, [r4, #12]
1196:bsp/src/bsp_uart_fifo.c **** 			{
 844              		.loc 1 1196 7 view .LVU260
 845 00e6 9342     		cmp	r3, r2
 846 00e8 01D3     		bcc	.L29
1198:bsp/src/bsp_uart_fifo.c **** 			}
 847              		.loc 1 1198 5 is_stmt 1 view .LVU261
1198:bsp/src/bsp_uart_fifo.c **** 			}
 848              		.loc 1 1198 22 is_stmt 0 view .LVU262
 849 00ea 0023     		movs	r3, #0
 850 00ec 6382     		strh	r3, [r4, #18]	@ movhi
 851              	.L29:
1200:bsp/src/bsp_uart_fifo.c **** 		}
 852              		.loc 1 1200 4 is_stmt 1 view .LVU263
1200:bsp/src/bsp_uart_fifo.c **** 		}
 853              		.loc 1 1200 10 is_stmt 0 view .LVU264
 854 00ee A38A     		ldrh	r3, [r4, #20]
1200:bsp/src/bsp_uart_fifo.c **** 		}
 855              		.loc 1 1200 21 view .LVU265
 856 00f0 013B     		subs	r3, r3, #1
 857 00f2 9BB2     		uxth	r3, r3
 858 00f4 A382     		strh	r3, [r4, #20]	@ movhi
 859              		.loc 1 1203 1 view .LVU266
 860 00f6 A1E7     		b	.L20
 861              		.cfi_endproc
 862              	.LFE141:
 864              		.section	.text.bsp_InitUart,"ax",%progbits
 865              		.align	1
 866              		.global	bsp_InitUart
 867              		.syntax unified
 868              		.thumb
 869              		.thumb_func
 870              		.fpu fpv4-sp-d16
 872              	bsp_InitUart:
 873              	.LFB126:
  75:bsp/src/bsp_uart_fifo.c **** 	UartVarInit();		
 874              		.loc 1 75 1 is_stmt 1 view -0
 875              		.cfi_startproc
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 49


 876              		@ args = 0, pretend = 0, frame = 0
 877              		@ frame_needed = 0, uses_anonymous_args = 0
 878 0000 08B5     		push	{r3, lr}
 879              	.LCFI10:
 880              		.cfi_def_cfa_offset 8
 881              		.cfi_offset 3, -8
 882              		.cfi_offset 14, -4
  76:bsp/src/bsp_uart_fifo.c **** 
 883              		.loc 1 76 2 view .LVU268
 884 0002 FFF7FEFF 		bl	UartVarInit
 885              	.LVL55:
  78:bsp/src/bsp_uart_fifo.c **** 
 886              		.loc 1 78 2 view .LVU269
 887 0006 FFF7FEFF 		bl	InitHardUart
 888              	.LVL56:
  80:bsp/src/bsp_uart_fifo.c **** }
 889              		.loc 1 80 2 view .LVU270
 890 000a FFF7FEFF 		bl	ConfigUartNVIC
 891              	.LVL57:
  81:bsp/src/bsp_uart_fifo.c **** 
 892              		.loc 1 81 1 is_stmt 0 view .LVU271
 893 000e 08BD     		pop	{r3, pc}
 894              		.cfi_endproc
 895              	.LFE126:
 897              		.section	.text.ComToUart,"ax",%progbits
 898              		.align	1
 899              		.global	ComToUart
 900              		.syntax unified
 901              		.thumb
 902              		.thumb_func
 903              		.fpu fpv4-sp-d16
 905              	ComToUart:
 906              	.LVL58:
 907              	.LFB127:
  92:bsp/src/bsp_uart_fifo.c **** 	if (_ucPort == COM1)
 908              		.loc 1 92 1 is_stmt 1 view -0
 909              		.cfi_startproc
 910              		@ args = 0, pretend = 0, frame = 0
 911              		@ frame_needed = 0, uses_anonymous_args = 0
 912              		@ link register save eliminated.
  93:bsp/src/bsp_uart_fifo.c **** 	{
 913              		.loc 1 93 2 view .LVU273
  93:bsp/src/bsp_uart_fifo.c **** 	{
 914              		.loc 1 93 5 is_stmt 0 view .LVU274
 915 0000 28B1     		cbz	r0, .L36
 101:bsp/src/bsp_uart_fifo.c **** 	{
 916              		.loc 1 101 7 is_stmt 1 view .LVU275
 101:bsp/src/bsp_uart_fifo.c **** 	{
 917              		.loc 1 101 10 is_stmt 0 view .LVU276
 918 0002 0128     		cmp	r0, #1
 919 0004 01D0     		beq	.L38
 114:bsp/src/bsp_uart_fifo.c **** 		#endif
 920              		.loc 1 114 11 view .LVU277
 921 0006 0020     		movs	r0, #0
 922              	.LVL59:
 146:bsp/src/bsp_uart_fifo.c **** 
 923              		.loc 1 146 1 view .LVU278
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 50


 924 0008 7047     		bx	lr
 925              	.LVL60:
 926              	.L38:
 104:bsp/src/bsp_uart_fifo.c **** 		#else
 927              		.loc 1 104 11 view .LVU279
 928 000a 0248     		ldr	r0, .L39
 929              	.LVL61:
 104:bsp/src/bsp_uart_fifo.c **** 		#else
 930              		.loc 1 104 11 view .LVU280
 931 000c 7047     		bx	lr
 932              	.LVL62:
 933              	.L36:
  98:bsp/src/bsp_uart_fifo.c **** 		#endif
 934              		.loc 1 98 11 view .LVU281
 935 000e 0020     		movs	r0, #0
 936              	.LVL63:
  98:bsp/src/bsp_uart_fifo.c **** 		#endif
 937              		.loc 1 98 11 view .LVU282
 938 0010 7047     		bx	lr
 939              	.L40:
 940 0012 00BF     		.align	2
 941              	.L39:
 942 0014 00000000 		.word	.LANCHOR0
 943              		.cfi_endproc
 944              	.LFE127:
 946              		.section	.text.ComToUSARTx,"ax",%progbits
 947              		.align	1
 948              		.global	ComToUSARTx
 949              		.syntax unified
 950              		.thumb
 951              		.thumb_func
 952              		.fpu fpv4-sp-d16
 954              	ComToUSARTx:
 955              	.LVL64:
 956              	.LFB128:
 158:bsp/src/bsp_uart_fifo.c **** 	if (_ucPort == COM1)
 957              		.loc 1 158 1 is_stmt 1 view -0
 958              		.cfi_startproc
 959              		@ args = 0, pretend = 0, frame = 0
 960              		@ frame_needed = 0, uses_anonymous_args = 0
 961              		@ link register save eliminated.
 159:bsp/src/bsp_uart_fifo.c **** 	{
 962              		.loc 1 159 2 view .LVU284
 159:bsp/src/bsp_uart_fifo.c **** 	{
 963              		.loc 1 159 5 is_stmt 0 view .LVU285
 964 0000 28B1     		cbz	r0, .L43
 167:bsp/src/bsp_uart_fifo.c **** 	{
 965              		.loc 1 167 7 is_stmt 1 view .LVU286
 167:bsp/src/bsp_uart_fifo.c **** 	{
 966              		.loc 1 167 10 is_stmt 0 view .LVU287
 967 0002 0128     		cmp	r0, #1
 968 0004 01D0     		beq	.L45
 180:bsp/src/bsp_uart_fifo.c **** 		#endif
 969              		.loc 1 180 11 view .LVU288
 970 0006 0020     		movs	r0, #0
 971              	.LVL65:
 204:bsp/src/bsp_uart_fifo.c **** 
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 51


 972              		.loc 1 204 1 view .LVU289
 973 0008 7047     		bx	lr
 974              	.LVL66:
 975              	.L45:
 170:bsp/src/bsp_uart_fifo.c **** 		#else
 976              		.loc 1 170 11 view .LVU290
 977 000a 0248     		ldr	r0, .L46
 978              	.LVL67:
 170:bsp/src/bsp_uart_fifo.c **** 		#else
 979              		.loc 1 170 11 view .LVU291
 980 000c 7047     		bx	lr
 981              	.LVL68:
 982              	.L43:
 164:bsp/src/bsp_uart_fifo.c **** 		#endif
 983              		.loc 1 164 11 view .LVU292
 984 000e 0020     		movs	r0, #0
 985              	.LVL69:
 164:bsp/src/bsp_uart_fifo.c **** 		#endif
 986              		.loc 1 164 11 view .LVU293
 987 0010 7047     		bx	lr
 988              	.L47:
 989 0012 00BF     		.align	2
 990              	.L46:
 991 0014 00440040 		.word	1073759232
 992              		.cfi_endproc
 993              	.LFE128:
 995              		.section	.text.comSendBuf,"ax",%progbits
 996              		.align	1
 997              		.global	comSendBuf
 998              		.syntax unified
 999              		.thumb
 1000              		.thumb_func
 1001              		.fpu fpv4-sp-d16
 1003              	comSendBuf:
 1004              	.LVL70:
 1005              	.LFB129:
 217:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 1006              		.loc 1 217 1 is_stmt 1 view -0
 1007              		.cfi_startproc
 1008              		@ args = 0, pretend = 0, frame = 0
 1009              		@ frame_needed = 0, uses_anonymous_args = 0
 217:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 1010              		.loc 1 217 1 is_stmt 0 view .LVU295
 1011 0000 70B5     		push	{r4, r5, r6, lr}
 1012              	.LCFI11:
 1013              		.cfi_def_cfa_offset 16
 1014              		.cfi_offset 4, -16
 1015              		.cfi_offset 5, -12
 1016              		.cfi_offset 6, -8
 1017              		.cfi_offset 14, -4
 1018 0002 0D46     		mov	r5, r1
 1019 0004 1646     		mov	r6, r2
 218:bsp/src/bsp_uart_fifo.c **** 
 1020              		.loc 1 218 2 is_stmt 1 view .LVU296
 220:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 1021              		.loc 1 220 2 view .LVU297
 220:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 52


 1022              		.loc 1 220 10 is_stmt 0 view .LVU298
 1023 0006 FFF7FEFF 		bl	ComToUart
 1024              	.LVL71:
 221:bsp/src/bsp_uart_fifo.c **** 	{
 1025              		.loc 1 221 2 is_stmt 1 view .LVU299
 221:bsp/src/bsp_uart_fifo.c **** 	{
 1026              		.loc 1 221 5 is_stmt 0 view .LVU300
 1027 000a 40B1     		cbz	r0, .L48
 1028 000c 0446     		mov	r4, r0
 226:bsp/src/bsp_uart_fifo.c **** 	{
 1029              		.loc 1 226 2 is_stmt 1 view .LVU301
 226:bsp/src/bsp_uart_fifo.c **** 	{
 1030              		.loc 1 226 11 is_stmt 0 view .LVU302
 1031 000e C369     		ldr	r3, [r0, #28]
 226:bsp/src/bsp_uart_fifo.c **** 	{
 1032              		.loc 1 226 5 view .LVU303
 1033 0010 03B1     		cbz	r3, .L50
 228:bsp/src/bsp_uart_fifo.c **** 	}
 1034              		.loc 1 228 3 is_stmt 1 view .LVU304
 1035 0012 9847     		blx	r3
 1036              	.LVL72:
 1037              	.L50:
 231:bsp/src/bsp_uart_fifo.c **** }
 1038              		.loc 1 231 2 view .LVU305
 1039 0014 3246     		mov	r2, r6
 1040 0016 2946     		mov	r1, r5
 1041 0018 2046     		mov	r0, r4
 1042 001a FFF7FEFF 		bl	UartSend
 1043              	.LVL73:
 1044              	.L48:
 232:bsp/src/bsp_uart_fifo.c **** 
 1045              		.loc 1 232 1 is_stmt 0 view .LVU306
 1046 001e 70BD     		pop	{r4, r5, r6, pc}
 232:bsp/src/bsp_uart_fifo.c **** 
 1047              		.loc 1 232 1 view .LVU307
 1048              		.cfi_endproc
 1049              	.LFE129:
 1051              		.section	.text.comSendChar,"ax",%progbits
 1052              		.align	1
 1053              		.global	comSendChar
 1054              		.syntax unified
 1055              		.thumb
 1056              		.thumb_func
 1057              		.fpu fpv4-sp-d16
 1059              	comSendChar:
 1060              	.LVL74:
 1061              	.LFB130:
 244:bsp/src/bsp_uart_fifo.c **** 	comSendBuf(_ucPort, &_ucByte, 1);
 1062              		.loc 1 244 1 is_stmt 1 view -0
 1063              		.cfi_startproc
 1064              		@ args = 0, pretend = 0, frame = 8
 1065              		@ frame_needed = 0, uses_anonymous_args = 0
 244:bsp/src/bsp_uart_fifo.c **** 	comSendBuf(_ucPort, &_ucByte, 1);
 1066              		.loc 1 244 1 is_stmt 0 view .LVU309
 1067 0000 00B5     		push	{lr}
 1068              	.LCFI12:
 1069              		.cfi_def_cfa_offset 4
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 53


 1070              		.cfi_offset 14, -4
 1071 0002 83B0     		sub	sp, sp, #12
 1072              	.LCFI13:
 1073              		.cfi_def_cfa_offset 16
 1074 0004 8DF80710 		strb	r1, [sp, #7]
 245:bsp/src/bsp_uart_fifo.c **** }
 1075              		.loc 1 245 2 is_stmt 1 view .LVU310
 1076 0008 0122     		movs	r2, #1
 1077 000a 0DF10701 		add	r1, sp, #7
 1078              	.LVL75:
 245:bsp/src/bsp_uart_fifo.c **** }
 1079              		.loc 1 245 2 is_stmt 0 view .LVU311
 1080 000e FFF7FEFF 		bl	comSendBuf
 1081              	.LVL76:
 246:bsp/src/bsp_uart_fifo.c **** 
 1082              		.loc 1 246 1 view .LVU312
 1083 0012 03B0     		add	sp, sp, #12
 1084              	.LCFI14:
 1085              		.cfi_def_cfa_offset 4
 1086              		@ sp needed
 1087 0014 5DF804FB 		ldr	pc, [sp], #4
 1088              		.cfi_endproc
 1089              	.LFE130:
 1091              		.section	.text.comGetChar,"ax",%progbits
 1092              		.align	1
 1093              		.global	comGetChar
 1094              		.syntax unified
 1095              		.thumb
 1096              		.thumb_func
 1097              		.fpu fpv4-sp-d16
 1099              	comGetChar:
 1100              	.LVL77:
 1101              	.LFB131:
 258:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 1102              		.loc 1 258 1 is_stmt 1 view -0
 1103              		.cfi_startproc
 1104              		@ args = 0, pretend = 0, frame = 0
 1105              		@ frame_needed = 0, uses_anonymous_args = 0
 258:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 1106              		.loc 1 258 1 is_stmt 0 view .LVU314
 1107 0000 10B5     		push	{r4, lr}
 1108              	.LCFI15:
 1109              		.cfi_def_cfa_offset 8
 1110              		.cfi_offset 4, -8
 1111              		.cfi_offset 14, -4
 1112 0002 0C46     		mov	r4, r1
 259:bsp/src/bsp_uart_fifo.c **** 
 1113              		.loc 1 259 2 is_stmt 1 view .LVU315
 261:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 1114              		.loc 1 261 2 view .LVU316
 261:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 1115              		.loc 1 261 10 is_stmt 0 view .LVU317
 1116 0004 FFF7FEFF 		bl	ComToUart
 1117              	.LVL78:
 262:bsp/src/bsp_uart_fifo.c **** 	{
 1118              		.loc 1 262 2 is_stmt 1 view .LVU318
 262:bsp/src/bsp_uart_fifo.c **** 	{
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 54


 1119              		.loc 1 262 5 is_stmt 0 view .LVU319
 1120 0008 18B1     		cbz	r0, .L56
 267:bsp/src/bsp_uart_fifo.c **** }
 1121              		.loc 1 267 2 is_stmt 1 view .LVU320
 267:bsp/src/bsp_uart_fifo.c **** }
 1122              		.loc 1 267 9 is_stmt 0 view .LVU321
 1123 000a 2146     		mov	r1, r4
 1124 000c FFF7FEFF 		bl	UartGetChar
 1125              	.LVL79:
 1126              	.L55:
 268:bsp/src/bsp_uart_fifo.c **** 
 1127              		.loc 1 268 1 view .LVU322
 1128 0010 10BD     		pop	{r4, pc}
 1129              	.LVL80:
 1130              	.L56:
 264:bsp/src/bsp_uart_fifo.c **** 	}
 1131              		.loc 1 264 10 view .LVU323
 1132 0012 0020     		movs	r0, #0
 1133              	.LVL81:
 264:bsp/src/bsp_uart_fifo.c **** 	}
 1134              		.loc 1 264 10 view .LVU324
 1135 0014 FCE7     		b	.L55
 1136              		.cfi_endproc
 1137              	.LFE131:
 1139              		.section	.text.comClearTxFifo,"ax",%progbits
 1140              		.align	1
 1141              		.global	comClearTxFifo
 1142              		.syntax unified
 1143              		.thumb
 1144              		.thumb_func
 1145              		.fpu fpv4-sp-d16
 1147              	comClearTxFifo:
 1148              	.LVL82:
 1149              	.LFB132:
 279:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 1150              		.loc 1 279 1 is_stmt 1 view -0
 1151              		.cfi_startproc
 1152              		@ args = 0, pretend = 0, frame = 0
 1153              		@ frame_needed = 0, uses_anonymous_args = 0
 279:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 1154              		.loc 1 279 1 is_stmt 0 view .LVU326
 1155 0000 08B5     		push	{r3, lr}
 1156              	.LCFI16:
 1157              		.cfi_def_cfa_offset 8
 1158              		.cfi_offset 3, -8
 1159              		.cfi_offset 14, -4
 280:bsp/src/bsp_uart_fifo.c **** 
 1160              		.loc 1 280 2 is_stmt 1 view .LVU327
 282:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 1161              		.loc 1 282 2 view .LVU328
 282:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 1162              		.loc 1 282 10 is_stmt 0 view .LVU329
 1163 0002 FFF7FEFF 		bl	ComToUart
 1164              	.LVL83:
 283:bsp/src/bsp_uart_fifo.c **** 	{
 1165              		.loc 1 283 2 is_stmt 1 view .LVU330
 283:bsp/src/bsp_uart_fifo.c **** 	{
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 55


 1166              		.loc 1 283 5 is_stmt 0 view .LVU331
 1167 0006 18B1     		cbz	r0, .L58
 288:bsp/src/bsp_uart_fifo.c **** 	pUart->usTxRead = 0;
 1168              		.loc 1 288 2 is_stmt 1 view .LVU332
 288:bsp/src/bsp_uart_fifo.c **** 	pUart->usTxRead = 0;
 1169              		.loc 1 288 19 is_stmt 0 view .LVU333
 1170 0008 0022     		movs	r2, #0
 1171 000a 0282     		strh	r2, [r0, #16]	@ movhi
 289:bsp/src/bsp_uart_fifo.c **** 	pUart->usTxCount = 0;
 1172              		.loc 1 289 2 is_stmt 1 view .LVU334
 289:bsp/src/bsp_uart_fifo.c **** 	pUart->usTxCount = 0;
 1173              		.loc 1 289 18 is_stmt 0 view .LVU335
 1174 000c 4282     		strh	r2, [r0, #18]	@ movhi
 290:bsp/src/bsp_uart_fifo.c **** }
 1175              		.loc 1 290 2 is_stmt 1 view .LVU336
 290:bsp/src/bsp_uart_fifo.c **** }
 1176              		.loc 1 290 19 is_stmt 0 view .LVU337
 1177 000e 8282     		strh	r2, [r0, #20]	@ movhi
 1178              	.L58:
 291:bsp/src/bsp_uart_fifo.c **** 
 1179              		.loc 1 291 1 view .LVU338
 1180 0010 08BD     		pop	{r3, pc}
 1181              		.cfi_endproc
 1182              	.LFE132:
 1184              		.section	.text.comClearRxFifo,"ax",%progbits
 1185              		.align	1
 1186              		.global	comClearRxFifo
 1187              		.syntax unified
 1188              		.thumb
 1189              		.thumb_func
 1190              		.fpu fpv4-sp-d16
 1192              	comClearRxFifo:
 1193              	.LVL84:
 1194              	.LFB133:
 302:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 1195              		.loc 1 302 1 is_stmt 1 view -0
 1196              		.cfi_startproc
 1197              		@ args = 0, pretend = 0, frame = 0
 1198              		@ frame_needed = 0, uses_anonymous_args = 0
 302:bsp/src/bsp_uart_fifo.c **** 	UartStr_TypeDef *pUart;
 1199              		.loc 1 302 1 is_stmt 0 view .LVU340
 1200 0000 08B5     		push	{r3, lr}
 1201              	.LCFI17:
 1202              		.cfi_def_cfa_offset 8
 1203              		.cfi_offset 3, -8
 1204              		.cfi_offset 14, -4
 303:bsp/src/bsp_uart_fifo.c **** 
 1205              		.loc 1 303 2 is_stmt 1 view .LVU341
 305:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 1206              		.loc 1 305 2 view .LVU342
 305:bsp/src/bsp_uart_fifo.c **** 	if (pUart == 0)
 1207              		.loc 1 305 10 is_stmt 0 view .LVU343
 1208 0002 FFF7FEFF 		bl	ComToUart
 1209              	.LVL85:
 306:bsp/src/bsp_uart_fifo.c **** 	{
 1210              		.loc 1 306 2 is_stmt 1 view .LVU344
 306:bsp/src/bsp_uart_fifo.c **** 	{
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 56


 1211              		.loc 1 306 5 is_stmt 0 view .LVU345
 1212 0006 18B1     		cbz	r0, .L61
 311:bsp/src/bsp_uart_fifo.c **** 	pUart->usRxRead = 0;
 1213              		.loc 1 311 2 is_stmt 1 view .LVU346
 311:bsp/src/bsp_uart_fifo.c **** 	pUart->usRxRead = 0;
 1214              		.loc 1 311 19 is_stmt 0 view .LVU347
 1215 0008 0022     		movs	r2, #0
 1216 000a C282     		strh	r2, [r0, #22]	@ movhi
 312:bsp/src/bsp_uart_fifo.c **** 	pUart->usRxCount = 0;
 1217              		.loc 1 312 2 is_stmt 1 view .LVU348
 312:bsp/src/bsp_uart_fifo.c **** 	pUart->usRxCount = 0;
 1218              		.loc 1 312 18 is_stmt 0 view .LVU349
 1219 000c 0283     		strh	r2, [r0, #24]	@ movhi
 313:bsp/src/bsp_uart_fifo.c **** }
 1220              		.loc 1 313 2 is_stmt 1 view .LVU350
 313:bsp/src/bsp_uart_fifo.c **** }
 1221              		.loc 1 313 19 is_stmt 0 view .LVU351
 1222 000e 4283     		strh	r2, [r0, #26]	@ movhi
 1223              	.L61:
 314:bsp/src/bsp_uart_fifo.c **** 
 1224              		.loc 1 314 1 view .LVU352
 1225 0010 08BD     		pop	{r3, pc}
 1226              		.cfi_endproc
 1227              	.LFE133:
 1229              		.section	.text.USART_SetBaudRate,"ax",%progbits
 1230              		.align	1
 1231              		.global	USART_SetBaudRate
 1232              		.syntax unified
 1233              		.thumb
 1234              		.thumb_func
 1235              		.fpu fpv4-sp-d16
 1237              	USART_SetBaudRate:
 1238              	.LVL86:
 1239              	.LFB135:
 349:bsp/src/bsp_uart_fifo.c **** 	uint32_t tmpreg = 0x00, apbclock = 0x00;
 1240              		.loc 1 349 1 is_stmt 1 view -0
 1241              		.cfi_startproc
 1242              		@ args = 0, pretend = 0, frame = 16
 1243              		@ frame_needed = 0, uses_anonymous_args = 0
 349:bsp/src/bsp_uart_fifo.c **** 	uint32_t tmpreg = 0x00, apbclock = 0x00;
 1244              		.loc 1 349 1 is_stmt 0 view .LVU354
 1245 0000 30B5     		push	{r4, r5, lr}
 1246              	.LCFI18:
 1247              		.cfi_def_cfa_offset 12
 1248              		.cfi_offset 4, -12
 1249              		.cfi_offset 5, -8
 1250              		.cfi_offset 14, -4
 1251 0002 85B0     		sub	sp, sp, #20
 1252              	.LCFI19:
 1253              		.cfi_def_cfa_offset 32
 1254 0004 0446     		mov	r4, r0
 1255 0006 0D46     		mov	r5, r1
 350:bsp/src/bsp_uart_fifo.c **** 	uint32_t integerdivider = 0x00;
 1256              		.loc 1 350 2 is_stmt 1 view .LVU355
 1257              	.LVL87:
 351:bsp/src/bsp_uart_fifo.c **** 	uint32_t fractionaldivider = 0x00;
 1258              		.loc 1 351 2 view .LVU356
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 57


 352:bsp/src/bsp_uart_fifo.c **** 	RCC_ClocksTypeDef RCC_ClocksStatus;
 1259              		.loc 1 352 2 view .LVU357
 353:bsp/src/bsp_uart_fifo.c **** 
 1260              		.loc 1 353 2 view .LVU358
 356:bsp/src/bsp_uart_fifo.c **** 	assert_param(IS_USART_BAUDRATE(BaudRate));  
 1261              		.loc 1 356 2 view .LVU359
 357:bsp/src/bsp_uart_fifo.c **** 
 1262              		.loc 1 357 2 view .LVU360
 361:bsp/src/bsp_uart_fifo.c **** 
 1263              		.loc 1 361 2 view .LVU361
 1264 0008 6846     		mov	r0, sp
 1265              	.LVL88:
 361:bsp/src/bsp_uart_fifo.c **** 
 1266              		.loc 1 361 2 is_stmt 0 view .LVU362
 1267 000a FFF7FEFF 		bl	RCC_GetClocksFreq
 1268              	.LVL89:
 363:bsp/src/bsp_uart_fifo.c **** 	{
 1269              		.loc 1 363 2 is_stmt 1 view .LVU363
 363:bsp/src/bsp_uart_fifo.c **** 	{
 1270              		.loc 1 363 5 is_stmt 0 view .LVU364
 1271 000e 1F4B     		ldr	r3, .L75
 1272 0010 9C42     		cmp	r4, r3
 1273 0012 05D0     		beq	.L65
 363:bsp/src/bsp_uart_fifo.c **** 	{
 1274              		.loc 1 363 25 discriminator 1 view .LVU365
 1275 0014 03F58063 		add	r3, r3, #1024
 1276 0018 9C42     		cmp	r4, r3
 1277 001a 01D0     		beq	.L65
 369:bsp/src/bsp_uart_fifo.c **** 	}
 1278              		.loc 1 369 3 is_stmt 1 view .LVU366
 369:bsp/src/bsp_uart_fifo.c **** 	}
 1279              		.loc 1 369 12 is_stmt 0 view .LVU367
 1280 001c 0299     		ldr	r1, [sp, #8]
 1281              	.LVL90:
 369:bsp/src/bsp_uart_fifo.c **** 	}
 1282              		.loc 1 369 12 view .LVU368
 1283 001e 00E0     		b	.L67
 1284              	.LVL91:
 1285              	.L65:
 365:bsp/src/bsp_uart_fifo.c **** 	}
 1286              		.loc 1 365 3 is_stmt 1 view .LVU369
 365:bsp/src/bsp_uart_fifo.c **** 	}
 1287              		.loc 1 365 12 is_stmt 0 view .LVU370
 1288 0020 0399     		ldr	r1, [sp, #12]
 1289              	.LVL92:
 1290              	.L67:
 373:bsp/src/bsp_uart_fifo.c **** 	{
 1291              		.loc 1 373 2 is_stmt 1 view .LVU371
 373:bsp/src/bsp_uart_fifo.c **** 	{
 1292              		.loc 1 373 13 is_stmt 0 view .LVU372
 1293 0022 A389     		ldrh	r3, [r4, #12]
 373:bsp/src/bsp_uart_fifo.c **** 	{
 1294              		.loc 1 373 5 view .LVU373
 1295 0024 13F4004F 		tst	r3, #32768
 1296 0028 1ED1     		bne	.L73
 381:bsp/src/bsp_uart_fifo.c **** 	}
 1297              		.loc 1 381 3 is_stmt 1 view .LVU374
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 58


 381:bsp/src/bsp_uart_fifo.c **** 	}
 1298              		.loc 1 381 25 is_stmt 0 view .LVU375
 1299 002a 01EB8101 		add	r1, r1, r1, lsl #2
 1300              	.LVL93:
 381:bsp/src/bsp_uart_fifo.c **** 	}
 1301              		.loc 1 381 25 view .LVU376
 1302 002e 01EB8101 		add	r1, r1, r1, lsl #2
 381:bsp/src/bsp_uart_fifo.c **** 	}
 1303              		.loc 1 381 42 view .LVU377
 1304 0032 AA00     		lsls	r2, r5, #2
 381:bsp/src/bsp_uart_fifo.c **** 	}
 1305              		.loc 1 381 18 view .LVU378
 1306 0034 B1FBF2F2 		udiv	r2, r1, r2
 1307              	.LVL94:
 1308              	.L69:
 383:bsp/src/bsp_uart_fifo.c **** 
 1309              		.loc 1 383 2 is_stmt 1 view .LVU379
 383:bsp/src/bsp_uart_fifo.c **** 
 1310              		.loc 1 383 27 is_stmt 0 view .LVU380
 1311 0038 1549     		ldr	r1, .L75+4
 1312 003a A1FB0231 		umull	r3, r1, r1, r2
 1313 003e 4809     		lsrs	r0, r1, #5
 383:bsp/src/bsp_uart_fifo.c **** 
 1314              		.loc 1 383 9 view .LVU381
 1315 0040 0501     		lsls	r5, r0, #4
 1316              	.LVL95:
 386:bsp/src/bsp_uart_fifo.c **** 
 1317              		.loc 1 386 2 is_stmt 1 view .LVU382
 386:bsp/src/bsp_uart_fifo.c **** 
 1318              		.loc 1 386 20 is_stmt 0 view .LVU383
 1319 0042 6421     		movs	r1, #100
 1320 0044 00FB1121 		mls	r1, r0, r1, r2
 1321              	.LVL96:
 389:bsp/src/bsp_uart_fifo.c **** 	{
 1322              		.loc 1 389 2 is_stmt 1 view .LVU384
 389:bsp/src/bsp_uart_fifo.c **** 	{
 1323              		.loc 1 389 13 is_stmt 0 view .LVU385
 1324 0048 A389     		ldrh	r3, [r4, #12]
 389:bsp/src/bsp_uart_fifo.c **** 	{
 1325              		.loc 1 389 5 view .LVU386
 1326 004a 13F4004F 		tst	r3, #32768
 1327 004e 13D1     		bne	.L74
 395:bsp/src/bsp_uart_fifo.c **** 	}
 1328              		.loc 1 395 3 is_stmt 1 view .LVU387
 395:bsp/src/bsp_uart_fifo.c **** 	}
 1329              		.loc 1 395 35 is_stmt 0 view .LVU388
 1330 0050 0901     		lsls	r1, r1, #4
 1331              	.LVL97:
 395:bsp/src/bsp_uart_fifo.c **** 	}
 1332              		.loc 1 395 41 view .LVU389
 1333 0052 3231     		adds	r1, r1, #50
 395:bsp/src/bsp_uart_fifo.c **** 	}
 1334              		.loc 1 395 47 view .LVU390
 1335 0054 0E4B     		ldr	r3, .L75+4
 1336 0056 A3FB0131 		umull	r3, r1, r3, r1
 395:bsp/src/bsp_uart_fifo.c **** 	}
 1337              		.loc 1 395 55 view .LVU391
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 59


 1338 005a C1F34311 		ubfx	r1, r1, #5, #4
 395:bsp/src/bsp_uart_fifo.c **** 	}
 1339              		.loc 1 395 10 view .LVU392
 1340 005e 2943     		orrs	r1, r1, r5
 1341              	.LVL98:
 1342              	.L71:
 399:bsp/src/bsp_uart_fifo.c **** }
 1343              		.loc 1 399 2 is_stmt 1 view .LVU393
 399:bsp/src/bsp_uart_fifo.c **** }
 1344              		.loc 1 399 16 is_stmt 0 view .LVU394
 1345 0060 89B2     		uxth	r1, r1
 1346              	.LVL99:
 399:bsp/src/bsp_uart_fifo.c **** }
 1347              		.loc 1 399 14 view .LVU395
 1348 0062 2181     		strh	r1, [r4, #8]	@ movhi
 400:bsp/src/bsp_uart_fifo.c **** 
 1349              		.loc 1 400 1 view .LVU396
 1350 0064 05B0     		add	sp, sp, #20
 1351              	.LCFI20:
 1352              		.cfi_remember_state
 1353              		.cfi_def_cfa_offset 12
 1354              		@ sp needed
 1355 0066 30BD     		pop	{r4, r5, pc}
 1356              	.LVL100:
 1357              	.L73:
 1358              	.LCFI21:
 1359              		.cfi_restore_state
 376:bsp/src/bsp_uart_fifo.c **** 	}
 1360              		.loc 1 376 3 is_stmt 1 view .LVU397
 376:bsp/src/bsp_uart_fifo.c **** 	}
 1361              		.loc 1 376 25 is_stmt 0 view .LVU398
 1362 0068 01EB8101 		add	r1, r1, r1, lsl #2
 1363              	.LVL101:
 376:bsp/src/bsp_uart_fifo.c **** 	}
 1364              		.loc 1 376 25 view .LVU399
 1365 006c 01EB8101 		add	r1, r1, r1, lsl #2
 376:bsp/src/bsp_uart_fifo.c **** 	}
 1366              		.loc 1 376 42 view .LVU400
 1367 0070 6A00     		lsls	r2, r5, #1
 376:bsp/src/bsp_uart_fifo.c **** 	}
 1368              		.loc 1 376 18 view .LVU401
 1369 0072 B1FBF2F2 		udiv	r2, r1, r2
 1370              	.LVL102:
 376:bsp/src/bsp_uart_fifo.c **** 	}
 1371              		.loc 1 376 18 view .LVU402
 1372 0076 DFE7     		b	.L69
 1373              	.LVL103:
 1374              	.L74:
 391:bsp/src/bsp_uart_fifo.c **** 	}
 1375              		.loc 1 391 3 is_stmt 1 view .LVU403
 391:bsp/src/bsp_uart_fifo.c **** 	}
 1376              		.loc 1 391 35 is_stmt 0 view .LVU404
 1377 0078 CB00     		lsls	r3, r1, #3
 391:bsp/src/bsp_uart_fifo.c **** 	}
 1378              		.loc 1 391 40 view .LVU405
 1379 007a 3233     		adds	r3, r3, #50
 391:bsp/src/bsp_uart_fifo.c **** 	}
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 60


 1380              		.loc 1 391 46 view .LVU406
 1381 007c 0449     		ldr	r1, .L75+4
 1382              	.LVL104:
 391:bsp/src/bsp_uart_fifo.c **** 	}
 1383              		.loc 1 391 46 view .LVU407
 1384 007e A1FB0323 		umull	r2, r3, r1, r3
 1385              	.LVL105:
 391:bsp/src/bsp_uart_fifo.c **** 	}
 1386              		.loc 1 391 54 view .LVU408
 1387 0082 C3F34213 		ubfx	r3, r3, #5, #3
 391:bsp/src/bsp_uart_fifo.c **** 	}
 1388              		.loc 1 391 10 view .LVU409
 1389 0086 43EA0501 		orr	r1, r3, r5
 1390              	.LVL106:
 391:bsp/src/bsp_uart_fifo.c **** 	}
 1391              		.loc 1 391 10 view .LVU410
 1392 008a E9E7     		b	.L71
 1393              	.L76:
 1394              		.align	2
 1395              	.L75:
 1396 008c 00100140 		.word	1073811456
 1397 0090 1F85EB51 		.word	1374389535
 1398              		.cfi_endproc
 1399              	.LFE135:
 1401              		.section	.text.comSetBaud,"ax",%progbits
 1402              		.align	1
 1403              		.global	comSetBaud
 1404              		.syntax unified
 1405              		.thumb
 1406              		.thumb_func
 1407              		.fpu fpv4-sp-d16
 1409              	comSetBaud:
 1410              	.LVL107:
 1411              	.LFB134:
 326:bsp/src/bsp_uart_fifo.c **** 	USART_TypeDef* USARTx;
 1412              		.loc 1 326 1 is_stmt 1 view -0
 1413              		.cfi_startproc
 1414              		@ args = 0, pretend = 0, frame = 0
 1415              		@ frame_needed = 0, uses_anonymous_args = 0
 326:bsp/src/bsp_uart_fifo.c **** 	USART_TypeDef* USARTx;
 1416              		.loc 1 326 1 is_stmt 0 view .LVU412
 1417 0000 10B5     		push	{r4, lr}
 1418              	.LCFI22:
 1419              		.cfi_def_cfa_offset 8
 1420              		.cfi_offset 4, -8
 1421              		.cfi_offset 14, -4
 1422 0002 0C46     		mov	r4, r1
 327:bsp/src/bsp_uart_fifo.c **** 	
 1423              		.loc 1 327 2 is_stmt 1 view .LVU413
 329:bsp/src/bsp_uart_fifo.c **** 	if (USARTx == 0)
 1424              		.loc 1 329 2 view .LVU414
 329:bsp/src/bsp_uart_fifo.c **** 	if (USARTx == 0)
 1425              		.loc 1 329 11 is_stmt 0 view .LVU415
 1426 0004 FFF7FEFF 		bl	ComToUSARTx
 1427              	.LVL108:
 330:bsp/src/bsp_uart_fifo.c **** 	{
 1428              		.loc 1 330 2 is_stmt 1 view .LVU416
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 61


 330:bsp/src/bsp_uart_fifo.c **** 	{
 1429              		.loc 1 330 5 is_stmt 0 view .LVU417
 1430 0008 10B1     		cbz	r0, .L77
 335:bsp/src/bsp_uart_fifo.c **** }
 1431              		.loc 1 335 2 is_stmt 1 view .LVU418
 1432 000a 2146     		mov	r1, r4
 1433 000c FFF7FEFF 		bl	USART_SetBaudRate
 1434              	.LVL109:
 1435              	.L77:
 336:bsp/src/bsp_uart_fifo.c **** 
 1436              		.loc 1 336 1 is_stmt 0 view .LVU419
 1437 0010 10BD     		pop	{r4, pc}
 336:bsp/src/bsp_uart_fifo.c **** 
 1438              		.loc 1 336 1 view .LVU420
 1439              		.cfi_endproc
 1440              	.LFE134:
 1442              		.section	.text.USART2_IRQHandler,"ax",%progbits
 1443              		.align	1
 1444              		.global	USART2_IRQHandler
 1445              		.syntax unified
 1446              		.thumb
 1447              		.thumb_func
 1448              		.fpu fpv4-sp-d16
 1450              	USART2_IRQHandler:
 1451              	.LFB142:
1204:bsp/src/bsp_uart_fifo.c **** 
1205:bsp/src/bsp_uart_fifo.c **** /*
1206:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
1207:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: USART1_IRQHandler  USART2_IRQHandler USART3_IRQHandler UART4_IRQHandler UART5_IRQHan
1208:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: USARTä¸­æ–­æœåŠ¡ç¨‹åº
1209:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: æ— 
1210:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
1211:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
1212:bsp/src/bsp_uart_fifo.c **** */
1213:bsp/src/bsp_uart_fifo.c **** #if UART1_FIFO_EN == 1
1214:bsp/src/bsp_uart_fifo.c **** void USART1_IRQHandler(void)
1215:bsp/src/bsp_uart_fifo.c **** {
1216:bsp/src/bsp_uart_fifo.c **** 	UartIRQ(&g_tUart1);
1217:bsp/src/bsp_uart_fifo.c **** }
1218:bsp/src/bsp_uart_fifo.c **** #endif
1219:bsp/src/bsp_uart_fifo.c **** 
1220:bsp/src/bsp_uart_fifo.c **** #if UART2_FIFO_EN == 1
1221:bsp/src/bsp_uart_fifo.c **** void USART2_IRQHandler(void)
1222:bsp/src/bsp_uart_fifo.c **** {
 1452              		.loc 1 1222 1 is_stmt 1 view -0
 1453              		.cfi_startproc
 1454              		@ args = 0, pretend = 0, frame = 0
 1455              		@ frame_needed = 0, uses_anonymous_args = 0
 1456 0000 08B5     		push	{r3, lr}
 1457              	.LCFI23:
 1458              		.cfi_def_cfa_offset 8
 1459              		.cfi_offset 3, -8
 1460              		.cfi_offset 14, -4
1223:bsp/src/bsp_uart_fifo.c **** 	UartIRQ(&g_tUart2);
 1461              		.loc 1 1223 2 view .LVU422
 1462 0002 0248     		ldr	r0, .L82
 1463 0004 FFF7FEFF 		bl	UartIRQ
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 62


 1464              	.LVL110:
1224:bsp/src/bsp_uart_fifo.c **** }
 1465              		.loc 1 1224 1 is_stmt 0 view .LVU423
 1466 0008 08BD     		pop	{r3, pc}
 1467              	.L83:
 1468 000a 00BF     		.align	2
 1469              	.L82:
 1470 000c 00000000 		.word	.LANCHOR0
 1471              		.cfi_endproc
 1472              	.LFE142:
 1474              		.section	.text.fputc,"ax",%progbits
 1475              		.align	1
 1476              		.global	fputc
 1477              		.syntax unified
 1478              		.thumb
 1479              		.thumb_func
 1480              		.fpu fpv4-sp-d16
 1482              	fputc:
 1483              	.LVL111:
 1484              	.LFB143:
1225:bsp/src/bsp_uart_fifo.c **** #endif
1226:bsp/src/bsp_uart_fifo.c **** 
1227:bsp/src/bsp_uart_fifo.c **** #if UART3_FIFO_EN == 1
1228:bsp/src/bsp_uart_fifo.c **** void USART3_IRQHandler(void)
1229:bsp/src/bsp_uart_fifo.c **** {
1230:bsp/src/bsp_uart_fifo.c **** 	UartIRQ(&g_tUart3);
1231:bsp/src/bsp_uart_fifo.c **** }
1232:bsp/src/bsp_uart_fifo.c **** #endif
1233:bsp/src/bsp_uart_fifo.c **** 
1234:bsp/src/bsp_uart_fifo.c **** #if UART4_FIFO_EN == 1
1235:bsp/src/bsp_uart_fifo.c **** void UART4_IRQHandler(void)
1236:bsp/src/bsp_uart_fifo.c **** {
1237:bsp/src/bsp_uart_fifo.c **** 	UartIRQ(&g_tUart4);
1238:bsp/src/bsp_uart_fifo.c **** }
1239:bsp/src/bsp_uart_fifo.c **** #endif
1240:bsp/src/bsp_uart_fifo.c **** 
1241:bsp/src/bsp_uart_fifo.c **** #if UART5_FIFO_EN == 1
1242:bsp/src/bsp_uart_fifo.c **** void UART5_IRQHandler(void)
1243:bsp/src/bsp_uart_fifo.c **** {
1244:bsp/src/bsp_uart_fifo.c **** 	UartIRQ(&g_tUart5);
1245:bsp/src/bsp_uart_fifo.c **** }
1246:bsp/src/bsp_uart_fifo.c **** #endif
1247:bsp/src/bsp_uart_fifo.c **** 
1248:bsp/src/bsp_uart_fifo.c **** #if UART6_FIFO_EN == 1
1249:bsp/src/bsp_uart_fifo.c **** void USART6_IRQHandler(void)
1250:bsp/src/bsp_uart_fifo.c **** {
1251:bsp/src/bsp_uart_fifo.c **** 	UartIRQ(&g_tUart6);
1252:bsp/src/bsp_uart_fifo.c **** }
1253:bsp/src/bsp_uart_fifo.c **** #endif
1254:bsp/src/bsp_uart_fifo.c **** 
1255:bsp/src/bsp_uart_fifo.c **** /*
1256:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
1257:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: fputc
1258:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: é‡å®šä¹‰putcå‡½æ•°ï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨printfå‡½æ•°ä»ä¸²å£1æ‰“å°è¾“å‡º
1259:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: æ— 
1260:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
1261:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 63


1262:bsp/src/bsp_uart_fifo.c **** */
1263:bsp/src/bsp_uart_fifo.c **** int fputc(int ch, FILE *f)
1264:bsp/src/bsp_uart_fifo.c **** {
 1485              		.loc 1 1264 1 is_stmt 1 view -0
 1486              		.cfi_startproc
 1487              		@ args = 0, pretend = 0, frame = 0
 1488              		@ frame_needed = 0, uses_anonymous_args = 0
 1489              		.loc 1 1264 1 is_stmt 0 view .LVU425
 1490 0000 10B5     		push	{r4, lr}
 1491              	.LCFI24:
 1492              		.cfi_def_cfa_offset 8
 1493              		.cfi_offset 4, -8
 1494              		.cfi_offset 14, -4
 1495 0002 0446     		mov	r4, r0
1265:bsp/src/bsp_uart_fifo.c **** #if 1	/* å°†éœ€è¦printfçš„å­—ç¬¦é€šè¿‡ä¸²å£ä¸­æ–­FIFOå‘é€å‡ºå»ï¼Œprintfå‡½æ•°ä¼šç«‹å³è¿”å› *
1266:bsp/src/bsp_uart_fifo.c **** 	comSendChar(COM1, ch);
 1496              		.loc 1 1266 2 is_stmt 1 view .LVU426
 1497 0004 C1B2     		uxtb	r1, r0
 1498              	.LVL112:
 1499              		.loc 1 1266 2 is_stmt 0 view .LVU427
 1500 0006 0020     		movs	r0, #0
 1501              	.LVL113:
 1502              		.loc 1 1266 2 view .LVU428
 1503 0008 FFF7FEFF 		bl	comSendChar
 1504              	.LVL114:
1267:bsp/src/bsp_uart_fifo.c **** 
1268:bsp/src/bsp_uart_fifo.c **** 	return ch;
 1505              		.loc 1 1268 2 is_stmt 1 view .LVU429
1269:bsp/src/bsp_uart_fifo.c **** #else	/* é‡‡ç”¨é˜»å¡æ–¹å¼å‘é€æ¯ä¸ªå­—ç¬¦,ç­‰å¾…æ•°æ®å‘é€å®Œæ¯• */
1270:bsp/src/bsp_uart_fifo.c **** 	/* å†™ä¸€ä¸ªå­—èŠ‚åˆ°USART1 */
1271:bsp/src/bsp_uart_fifo.c **** 	USART_SendData(USART1, (uint8_t) ch);
1272:bsp/src/bsp_uart_fifo.c **** 
1273:bsp/src/bsp_uart_fifo.c **** 	/* ç­‰å¾…å‘é€ç»“æŸ */
1274:bsp/src/bsp_uart_fifo.c **** 	while (USART_GetFlagStatus(USART1, USART_FLAG_TC) == RESET)
1275:bsp/src/bsp_uart_fifo.c **** 	{}
1276:bsp/src/bsp_uart_fifo.c **** 
1277:bsp/src/bsp_uart_fifo.c **** 	return ch;
1278:bsp/src/bsp_uart_fifo.c **** #endif
1279:bsp/src/bsp_uart_fifo.c **** }
 1506              		.loc 1 1279 1 is_stmt 0 view .LVU430
 1507 000c 2046     		mov	r0, r4
 1508 000e 10BD     		pop	{r4, pc}
 1509              		.loc 1 1279 1 view .LVU431
 1510              		.cfi_endproc
 1511              	.LFE143:
 1513              		.section	.text.fgetc,"ax",%progbits
 1514              		.align	1
 1515              		.global	fgetc
 1516              		.syntax unified
 1517              		.thumb
 1518              		.thumb_func
 1519              		.fpu fpv4-sp-d16
 1521              	fgetc:
 1522              	.LFB144:
1280:bsp/src/bsp_uart_fifo.c **** 
1281:bsp/src/bsp_uart_fifo.c **** /*
1282:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 64


1283:bsp/src/bsp_uart_fifo.c **** *	å‡½ æ•° å: fgetc
1284:bsp/src/bsp_uart_fifo.c **** *	åŠŸèƒ½è¯´æ˜: é‡å®šä¹‰getcå‡½æ•°ï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨getcharå‡½æ•°ä»ä¸²å£1è¾“å…¥æ•°æ®
1285:bsp/src/bsp_uart_fifo.c **** *	å½¢    å‚: æ— 
1286:bsp/src/bsp_uart_fifo.c **** *	è¿” å› å€¼: æ— 
1287:bsp/src/bsp_uart_fifo.c **** ***************************************************************************************************
1288:bsp/src/bsp_uart_fifo.c **** */
1289:bsp/src/bsp_uart_fifo.c **** int fgetc(FILE *f)
1290:bsp/src/bsp_uart_fifo.c **** {
 1523              		.loc 1 1290 1 is_stmt 1 view -0
 1524              		.cfi_startproc
 1525              		@ args = 0, pretend = 0, frame = 8
 1526              		@ frame_needed = 0, uses_anonymous_args = 0
 1527              	.LVL115:
 1528              		.loc 1 1290 1 is_stmt 0 view .LVU433
 1529 0000 00B5     		push	{lr}
 1530              	.LCFI25:
 1531              		.cfi_def_cfa_offset 4
 1532              		.cfi_offset 14, -4
 1533 0002 83B0     		sub	sp, sp, #12
 1534              	.LCFI26:
 1535              		.cfi_def_cfa_offset 16
 1536              	.LVL116:
 1537              	.L87:
1291:bsp/src/bsp_uart_fifo.c **** 
1292:bsp/src/bsp_uart_fifo.c **** #if 1	/* ä»ä¸²å£æ¥æ”¶FIFOä¸­å–1ä¸ªæ•°æ®, åªæœ‰å–åˆ°æ•°æ®æ‰è¿”å› */
1293:bsp/src/bsp_uart_fifo.c **** 	uint8_t ucData;
1294:bsp/src/bsp_uart_fifo.c **** 
1295:bsp/src/bsp_uart_fifo.c **** 	while(comGetChar(COM1, &ucData) == 0);
 1538              		.loc 1 1295 39 is_stmt 1 discriminator 1 view .LVU434
 1539              		.loc 1 1295 8 is_stmt 0 discriminator 1 view .LVU435
 1540 0004 0DF10701 		add	r1, sp, #7
 1541 0008 0020     		movs	r0, #0
 1542 000a FFF7FEFF 		bl	comGetChar
 1543              	.LVL117:
 1544              		.loc 1 1295 7 discriminator 1 view .LVU436
 1545 000e 0028     		cmp	r0, #0
 1546 0010 F8D0     		beq	.L87
1296:bsp/src/bsp_uart_fifo.c **** 
1297:bsp/src/bsp_uart_fifo.c **** 	return ucData;
 1547              		.loc 1 1297 2 is_stmt 1 view .LVU437
1298:bsp/src/bsp_uart_fifo.c **** #else
1299:bsp/src/bsp_uart_fifo.c **** 	/* ç­‰å¾…ä¸²å£1è¾“å…¥æ•°æ® */
1300:bsp/src/bsp_uart_fifo.c **** 	while (USART_GetFlagStatus(USART1, USART_FLAG_RXNE) == RESET);
1301:bsp/src/bsp_uart_fifo.c **** 
1302:bsp/src/bsp_uart_fifo.c **** 	return (int)USART_ReceiveData(USART1);
1303:bsp/src/bsp_uart_fifo.c **** #endif
1304:bsp/src/bsp_uart_fifo.c **** }
 1548              		.loc 1 1304 1 is_stmt 0 view .LVU438
 1549 0012 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 1550 0016 03B0     		add	sp, sp, #12
 1551              	.LCFI27:
 1552              		.cfi_def_cfa_offset 4
 1553              		@ sp needed
 1554 0018 5DF804FB 		ldr	pc, [sp], #4
 1555              		.cfi_endproc
 1556              	.LFE144:
 1558              		.section	.bss.g_RxBuf2,"aw",%nobits
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 65


 1559              		.align	2
 1560              		.set	.LANCHOR2,. + 0
 1563              	g_RxBuf2:
 1564 0000 00000000 		.space	1024
 1564      00000000 
 1564      00000000 
 1564      00000000 
 1564      00000000 
 1565              		.section	.bss.g_TxBuf2,"aw",%nobits
 1566              		.align	2
 1567              		.set	.LANCHOR1,. + 0
 1570              	g_TxBuf2:
 1571 0000 00000000 		.space	1024
 1571      00000000 
 1571      00000000 
 1571      00000000 
 1571      00000000 
 1572              		.section	.bss.g_tUart2,"aw",%nobits
 1573              		.align	2
 1574              		.set	.LANCHOR0,. + 0
 1577              	g_tUart2:
 1578 0000 00000000 		.space	40
 1578      00000000 
 1578      00000000 
 1578      00000000 
 1578      00000000 
 1579              		.text
 1580              	.Letext0:
 1581              		.file 3 "/Users/gordon/Documents/soft_proj/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/include
 1582              		.file 4 "/Users/gordon/Documents/soft_proj/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/include
 1583              		.file 5 "Libraries/CMSIS/Include/core_cm4.h"
 1584              		.file 6 "Libraries/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1585              		.file 7 "Libraries/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1586              		.file 8 "Libraries/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_gpio.h"
 1587              		.file 9 "Libraries/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_rcc.h"
 1588              		.file 10 "Libraries/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_usart.h"
 1589              		.file 11 "Libraries/STM32F4xx_StdPeriph_Driver/inc/misc.h"
 1590              		.file 12 "/Users/gordon/Documents/soft_proj/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/includ
 1591              		.file 13 "/Users/gordon/Documents/soft_proj/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/includ
 1592              		.file 14 "/Users/gordon/Documents/soft_proj/gcc-arm-none-eabi-8-2018-q4-major/lib/gcc/arm-none-eab
 1593              		.file 15 "/Users/gordon/Documents/soft_proj/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/includ
 1594              		.file 16 "/Users/gordon/Documents/soft_proj/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/includ
 1595              		.file 17 "/Users/gordon/Documents/soft_proj/gcc-arm-none-eabi-8-2018-q4-major/arm-none-eabi/includ
 1596              		.file 18 "bsp/inc/bsp_uart_fifo.h"
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 66


DEFINED SYMBOLS
                            *ABS*:0000000000000000 bsp_uart_fifo.c
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:18     .text.UartVarInit:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:25     .text.UartVarInit:0000000000000000 UartVarInit
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:86     .text.UartVarInit:000000000000002c $d
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:94     .text.UartGetChar:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:100    .text.UartGetChar:0000000000000000 UartGetChar
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:242    .text.UartSend:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:248    .text.UartSend:0000000000000000 UartSend
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:436    .text.InitHardUart:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:442    .text.InitHardUart:0000000000000000 InitHardUart
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:574    .text.InitHardUart:00000000000000a8 $d
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:580    .text.ConfigUartNVIC:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:586    .text.ConfigUartNVIC:0000000000000000 ConfigUartNVIC
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:625    .text.UartIRQ:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:631    .text.UartIRQ:0000000000000000 UartIRQ
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:865    .text.bsp_InitUart:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:872    .text.bsp_InitUart:0000000000000000 bsp_InitUart
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:898    .text.ComToUart:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:905    .text.ComToUart:0000000000000000 ComToUart
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:942    .text.ComToUart:0000000000000014 $d
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:947    .text.ComToUSARTx:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:954    .text.ComToUSARTx:0000000000000000 ComToUSARTx
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:991    .text.ComToUSARTx:0000000000000014 $d
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:996    .text.comSendBuf:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1003   .text.comSendBuf:0000000000000000 comSendBuf
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1052   .text.comSendChar:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1059   .text.comSendChar:0000000000000000 comSendChar
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1092   .text.comGetChar:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1099   .text.comGetChar:0000000000000000 comGetChar
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1140   .text.comClearTxFifo:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1147   .text.comClearTxFifo:0000000000000000 comClearTxFifo
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1185   .text.comClearRxFifo:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1192   .text.comClearRxFifo:0000000000000000 comClearRxFifo
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1230   .text.USART_SetBaudRate:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1237   .text.USART_SetBaudRate:0000000000000000 USART_SetBaudRate
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1396   .text.USART_SetBaudRate:000000000000008c $d
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1402   .text.comSetBaud:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1409   .text.comSetBaud:0000000000000000 comSetBaud
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1443   .text.USART2_IRQHandler:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1450   .text.USART2_IRQHandler:0000000000000000 USART2_IRQHandler
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1470   .text.USART2_IRQHandler:000000000000000c $d
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1475   .text.fputc:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1482   .text.fputc:0000000000000000 fputc
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1514   .text.fgetc:0000000000000000 $t
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1521   .text.fgetc:0000000000000000 fgetc
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1559   .bss.g_RxBuf2:0000000000000000 $d
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1563   .bss.g_RxBuf2:0000000000000000 g_RxBuf2
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1566   .bss.g_TxBuf2:0000000000000000 $d
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1570   .bss.g_TxBuf2:0000000000000000 g_TxBuf2
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1573   .bss.g_tUart2:0000000000000000 $d
/var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s:1577   .bss.g_tUart2:0000000000000000 g_tUart2

UNDEFINED SYMBOLS
USART_ITConfig
RCC_AHB1PeriphClockCmd
RCC_APB1PeriphClockCmd
ARM GAS  /var/folders/3x/w4njr7bn61lgchzhylxd3k6w0000gn/T//ccvWjLsF.s 			page 67


GPIO_PinAFConfig
GPIO_Init
USART_Init
USART_Cmd
USART_ClearFlag
NVIC_Init
USART_GetITStatus
USART_ReceiveData
USART_SendData
RCC_GetClocksFreq
